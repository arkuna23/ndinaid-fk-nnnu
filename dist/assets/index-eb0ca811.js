import {
    bz as ht,
    R as $t,
    bA as Qt,
    bB as Hu,
    bC as Tr,
    az as K,
    bD as _e,
    af as Zu,
    O as Yu,
    aq as E,
    ay as ue,
    bE as Xu,
    bF as Uu,
    ar as Q,
    bG as Nr,
    bH as Pr,
    as as je,
    bI as kr,
    bJ as it,
    bK as ju,
    bL as Se,
    bM as qu,
    bN as Ku,
    bO as $u,
    bP as Ie,
    bQ as Qu,
    bR as Cn,
    bS as Ju,
    bT as Io,
    bU as ed,
    an as wt,
    aw as ve,
    bV as td,
    bW as nd,
    bX as od,
    bY as id,
    bZ as rd,
    b_ as ad,
    b$ as sd,
    c0 as Vr,
    c1 as Mo,
    c2 as ld,
    c3 as ud,
    c4 as dd,
    c5 as hd,
    av as $,
    ax as Jt,
    c6 as Er,
    c7 as cd,
    c8 as Vt,
    c9 as W,
    c as Et,
    aE as Me,
    K as qe,
    Q as de,
    h as It,
    k as me,
    ca as Ln,
    cb as An,
    aF as De,
    bd as ne,
    cc as pd,
    l as rt,
    cd as oe,
    ce as Tn,
    cf as Nn,
    cg as Do,
    ch as zr,
    ci as Rr,
    cj as Or,
    ck as Br,
    ac as Ae,
    cl as Co,
    cm as fd,
    cn as gd,
    J as Gr,
    ap as we,
    co as at,
    cp as Pn,
    cq as Lo,
    cr as Te,
    ao as he,
    cs as st,
    ct as Ao,
    aH as ze,
    at as Ne,
    M as ct,
    cu as Ke,
    cv as Fr,
    cw as yd,
    cx as be,
    cy as Ge,
    cz as Wr,
    cA as vd,
    U as zt,
    Z as Fe,
    d as We,
    cB as kn,
    cC as Pe,
    cD as md,
    cE as Rt,
    am as ee,
    cF as Vn,
    cG as xd,
    cH as Hr,
    cI as Zr,
    cJ as Yr,
    cK as En,
    cL as Xr,
    cM as pt,
    cN as $e,
    cO as _d,
    cP as en,
    X as Re,
    cQ as Ur,
    cR as To,
    cS as jr,
    cT as Qe,
    o as qr,
    cU as tn,
    cV as ft,
    cW as nn,
    cX as bd,
    cY as Sd,
    cZ as Ot,
    c_ as Kr,
    c$ as wd,
    d0 as ke,
    d1 as No,
    w as Oe,
    T as zn,
    a6 as gt,
    d2 as Po,
    G as Id,
    d3 as ko,
    d4 as Vo,
    d5 as Rn,
    d6 as On,
    d7 as Bn,
    d8 as Md,
    d9 as $r,
    da as Dd,
    m as Mt,
    db as Qr,
    dc as Eo,
    dd as zo,
    de as Cd,
    V as on,
    df as Bt,
    dg as lt,
    dh as Ld,
    di as Ad,
    dj as Td,
    dk as Jr,
    dl as Nd,
    dm as Ro,
    y as Pd,
    dn as kd,
    bp as ea,
    L as Vd,
    dp as Oo,
    dq as Bo,
    dr as Ed,
    ds as zd,
    p as yt,
    B as Go,
    dt as ta,
    du as ce,
    dv as Fo,
    dw as Wo,
    dx as Ho,
    dy as Rd,
    dz as Od,
    dA as rn,
    dB as Bd,
    dC as na,
    dD as Gd,
    dE as oa,
    dF as ia,
    dG as Gn,
    dH as Fd,
    dI as ra,
    dJ as aa,
    dK as sa,
    dL as Fn,
    dM as Wd,
    _ as Zo,
    v as Hd,
    dN as Zd,
    dO as Z,
    aB as Yd,
    dP as an,
    dQ as Xd,
    dR as la,
    dS as sn,
    dT as ua,
    dU as da,
    dV as Ud,
    dW as jd,
    a8 as qd,
    a4 as ha,
    dX as Kd,
    dY as $d,
    dZ as Qd,
    d_ as ca,
    d$ as Jd,
    a9 as eh,
    e0 as th,
    aC as Gt,
    A as nh,
    aG as pa,
    b as oh,
    n as ih,
    e1 as rh,
    e2 as ah,
    e3 as sh,
    e4 as lh,
    e5 as uh,
    e6 as dh,
    aD as Ft,
    e7 as fa,
    e8 as hh,
    e9 as ga,
    ea as ch,
    eb as ya,
    ec as ph,
    ed as va,
    z as fh,
    ee as gh,
    aA as ln,
    ef as yh,
    eg as vh,
    eh as mh,
    ei as un,
    ej as Wn,
    ek as xh,
    el as _h,
    em as bh,
    en as Yo,
    eo as Sh,
    ep as wh,
    eq as Ih,
    er as Mh,
    es as Dh,
    et as Xo,
    eu as ma,
    ev as Ch,
    j as Hn,
    ew as Lh,
    ex as Uo,
    ey as Ah,
    ez as Th,
    eA as Nh,
    a1 as Ph,
    aQ as kh,
    a as Vh,
    s as Eh,
    eB as Zn,
    eC as zh,
    eD as Rh,
    eE as jo,
    g as Oh,
    eF as Yn,
    eG as xa,
    eH as _a,
    eI as qo,
    eJ as ba,
    eK as Bh,
    eL as Gh,
    eM as Fh,
    a5 as Wh,
    eN as Hh,
    eO as Sa,
    eP as wa,
    eQ as Zh,
    eR as Yh,
    eS as Xh,
    eT as Uh,
    eU as Xn,
    eV as Ko,
    eW as jh,
    eX as qh,
    eY as $o,
    eZ as Kh,
    bv as $h,
    bs as Qh,
    br as Jh,
    bt as ec,
    bx as tc,
    bu as nc,
    by as oc,
    bw as ic,
    bm as rc,
    bn as ac,
    e_ as sc,
    bl as lc,
    bk as uc,
    bj as dc,
    bi as hc,
    bq as cc,
    e$ as pc,
    f0 as fc,
    bo as gc
} from "./install-67fb146c.js";

import {
    i as yc,
    a as vc
} from "./install-0c30d2d2.js";

var Qo = Math.sin, Jo = Math.cos, Ia = Math.PI, Dt = 2 * Math.PI, mc = 180 / Ia;

const Ma = function() {
    function o() {}
    return o.prototype.reset = function(t) {
        this._start = !0, this._d = [], this._str = "", this._p = Math.pow(10, t || 4);
    }, o.prototype.moveTo = function(t, e) {
        this._add("M", t, e);
    }, o.prototype.lineTo = function(t, e) {
        this._add("L", t, e);
    }, o.prototype.bezierCurveTo = function(t, e, n, i, r, a) {
        this._add("C", t, e, n, i, r, a);
    }, o.prototype.quadraticCurveTo = function(t, e, n, i) {
        this._add("Q", t, e, n, i);
    }, o.prototype.arc = function(t, e, n, i, r, a) {
        this.ellipse(t, e, n, n, 0, i, r, a);
    }, o.prototype.ellipse = function(t, e, n, i, r, a, s, l) {
        var u = s - a, d = !l, h = Math.abs(u), c = ht(h - Dt) || (d ? u >= Dt : -u >= Dt), g = u > 0 ? u % Dt : u % Dt + Dt, p = !1;
        p = !!c || !ht(h) && g >= Ia == !!d;
        var f = t + n * Jo(a), y = e + i * Qo(a);
        this._start && this._add("M", f, y);
        var x = Math.round(r * mc);
        if (c) {
            var S = 1 / this._p, m = (d ? 1 : -1) * (Dt - S);
            this._add("A", n, i, x, 1, +d, t + n * Jo(a + m), e + i * Qo(a + m)), 
            S > .01 && this._add("A", n, i, x, 0, +d, f, y);
        } else {
            var v = t + n * Jo(s), b = e + i * Qo(s);
            this._add("A", n, i, x, +p, +d, v, b);
        }
    }, o.prototype.rect = function(t, e, n, i) {
        this._add("M", t, e), this._add("l", n, 0), this._add("l", 0, i), this._add("l", -n, 0), 
        this._add("Z");
    }, o.prototype.closePath = function() {
        this._d.length > 0 && this._add("Z");
    }, o.prototype._add = function(t, e, n, i, r, a, s, l, u) {
        for (var d = [], h = this._p, c = 1; c < arguments.length; c++) {
            var g = arguments[c];
            if (isNaN(g)) return void (this._invalid = !0);
            d.push(Math.round(g * h) / h);
        }
        this._d.push(t + d.join(" ")), this._start = t === "Z";
    }, o.prototype.generateStr = function() {
        this._str = this._invalid ? "" : this._d.join(""), this._d = [];
    }, o.prototype.getStr = function() {
        return this._str;
    }, o;
}();

var dn = "none", xc = Math.round, ei = [ "lineCap", "miterLimit", "lineJoin" ], _c = K(ei, function(o) {
    return "stroke-" + o.toLowerCase();
});

function bc(o, t, e, n) {
    var i = t.opacity == null ? 1 : t.opacity;
    if (e instanceof $t) o("opacity", i); else {
        if (function(S) {
            var m = S.fill;
            return m != null && m !== dn;
        }(t)) {
            var r = Qt(t.fill);
            o("fill", r.color);
            var a = t.fillOpacity != null ? t.fillOpacity * r.opacity * i : r.opacity * i;
            (n || a < 1) && o("fill-opacity", a);
        } else o("fill", dn);
        if (function(S) {
            var m = S.stroke;
            return m != null && m !== dn;
        }(t)) {
            var s = Qt(t.stroke);
            o("stroke", s.color);
            var l = t.strokeNoScale ? e.getLineScale() : 1, u = l ? (t.lineWidth || 0) / l : 0, d = t.strokeOpacity != null ? t.strokeOpacity * s.opacity * i : s.opacity * i, h = t.strokeFirst;
            if ((n || u !== 1) && o("stroke-width", u), (n || h) && o("paint-order", h ? "stroke" : "fill"), 
            (n || d < 1) && o("stroke-opacity", d), t.lineDash) {
                var c = Hu(e), g = c[0], p = c[1];
                g && (p = xc(p || 0), o("stroke-dasharray", g.join(",")), (p || n) && o("stroke-dashoffset", p));
            } else n && o("stroke-dasharray", dn);
            for (var f = 0; f < ei.length; f++) {
                var y = ei[f];
                if (n || t[y] !== Tr[y]) {
                    var x = t[y] || Tr[y];
                    x && o(_c[f], x);
                }
            }
        } else n && o("stroke", dn);
    }
}

var Da = "http://www.w3.org/2000/svg", Ca = "http://www.w3.org/1999/xlink", Sc = "http://www.w3.org/2000/xmlns/", wc = "http://www.w3.org/XML/1998/namespace", La = "ecmeta_";

function Aa(o) {
    return document.createElementNS(Da, o);
}

function xe(o, t, e, n, i) {
    return {
        tag: o,
        attrs: e || {},
        children: n,
        text: i,
        key: t
    };
}

function ti(o, t) {
    var e = (t = t || {}).newline ? `
` : "";
    return function n(i) {
        var r = i.children, a = i.tag, s = i.attrs, l = i.text;
        return function(u, d) {
            var h = [];
            if (d) for (var c in d) {
                var g = d[c], p = c;
                g !== !1 && (g !== !0 && g != null && (p += '="' + g + '"'), h.push(p));
            }
            return "<" + u + " " + h.join(" ") + ">";
        }(a, s) + (a !== "style" ? Zu(l) : l || "") + (r ? "" + e + K(r, function(u) {
            return n(u);
        }).join(e) + e : "") + ("</" + a + ">");
    }(o);
}

function ni(o) {
    return {
        zrId: o,
        shadowCache: {},
        patternCache: {},
        gradientCache: {},
        clipPathCache: {},
        defs: {},
        cssNodes: {},
        cssAnims: {},
        cssStyleCache: {},
        cssAnimIdx: 0,
        shadowIdx: 0,
        gradientIdx: 0,
        patternIdx: 0,
        clipPathIdx: 0
    };
}

function Ta(o, t, e, n) {
    return xe("svg", "root", {
        width: o,
        height: t,
        xmlns: Da,
        "xmlns:xlink": Ca,
        version: "1.1",
        baseProfile: "full",
        viewBox: !!n && "0 0 " + o + " " + t
    }, e);
}

var Ic = 0;

function Na() {
    return Ic++;
}

var Pa = {
    cubicIn: "0.32,0,0.67,0",
    cubicOut: "0.33,1,0.68,1",
    cubicInOut: "0.65,0,0.35,1",
    quadraticIn: "0.11,0,0.5,0",
    quadraticOut: "0.5,1,0.89,1",
    quadraticInOut: "0.45,0,0.55,1",
    quarticIn: "0.5,0,0.75,0",
    quarticOut: "0.25,1,0.5,1",
    quarticInOut: "0.76,0,0.24,1",
    quinticIn: "0.64,0,0.78,0",
    quinticOut: "0.22,1,0.36,1",
    quinticInOut: "0.83,0,0.17,1",
    sinusoidalIn: "0.12,0,0.39,0",
    sinusoidalOut: "0.61,1,0.88,1",
    sinusoidalInOut: "0.37,0,0.63,1",
    exponentialIn: "0.7,0,0.84,0",
    exponentialOut: "0.16,1,0.3,1",
    exponentialInOut: "0.87,0,0.13,1",
    circularIn: "0.55,0,1,0.45",
    circularOut: "0,0.55,0.45,1",
    circularInOut: "0.85,0,0.15,1"
}, Ct = "transform-origin";

function Mc(o, t, e) {
    var n = Q({}, o.shape);
    Q(n, t), o.buildPath(e, n);
    var i = new Ma();
    return i.reset(kr(o)), e.rebuildPath(i, 1), i.generateStr(), i.getStr();
}

function Dc(o, t) {
    var e = t.originX, n = t.originY;
    (e || n) && (o[Ct] = e + "px " + n + "px");
}

var Cc = {
    fill: "fill",
    opacity: "opacity",
    lineWidth: "stroke-width",
    lineDashOffset: "stroke-dashoffset"
};

function ka(o, t) {
    var e = t.zrId + "-ani-" + t.cssAnimIdx++;
    return t.cssAnims[e] = o, e;
}

function Va(o) {
    return ue(o) ? Pa[o] ? "cubic-bezier(" + Pa[o] + ")" : Xu(o) ? o : "" : "";
}

function Un(o, t, e, n) {
    var i = o.animators, r = i.length, a = [];
    if (o instanceof Yu) {
        var s = function(S, m, v) {
            var b, _, w = S.shape.paths, I = {};
            if (E(w, function(D) {
                var L = ni(v.zrId);
                L.animation = !0, Un(D, {}, L, !0);
                var C = L.cssAnims, A = L.cssNodes, T = _e(C), V = T.length;
                if (V) {
                    var N = C[_ = T[V - 1]];
                    for (var k in N) {
                        var P = N[k];
                        I[k] = I[k] || {
                            d: ""
                        }, I[k].d += P.d || "";
                    }
                    for (var R in A) {
                        var z = A[R].animation;
                        z.indexOf(_) >= 0 && (b = z);
                    }
                }
            }), b) {
                m.d = !1;
                var M = ka(I, v);
                return b.replace(_, M);
            }
        }(o, t, e);
        if (s) a.push(s); else if (!r) return;
    } else if (!r) return;
    for (var l = {}, u = 0; u < r; u++) {
        var d = i[u], h = [ d.getMaxTime() / 1e3 + "s" ], c = Va(d.getClip().easing), g = d.getDelay();
        c ? h.push(c) : h.push("linear"), g && h.push(g / 1e3 + "s"), d.getLoop() && h.push("infinite");
        var p = h.join(" ");
        l[p] = l[p] || [ p, [] ], l[p][1].push(d);
    }
    function f(S) {
        var m, v = S[1], b = v.length, _ = {}, w = {}, I = {}, M = "animation-timing-function";
        function D(Y, H, X) {
            for (var q = Y.getTracks(), J = Y.getMaxTime(), ie = 0; ie < q.length; ie++) {
                var Ce = q[ie];
                if (Ce.needsAnimate()) {
                    var Xe = Ce.keyframes, Ve = Ce.propName;
                    if (X && (Ve = X(Ve)), Ve) for (var le = 0; le < Xe.length; le++) {
                        var ae = Xe[le], pe = Math.round(ae.time / J * 100) + "%", Be = Va(ae.easing), nt = ae.rawValue;
                        (ue(nt) || it(nt)) && (H[pe] = H[pe] || {}, H[pe][Ve] = ae.rawValue, 
                        Be && (H[pe][M] = Be));
                    }
                }
            }
        }
        for (var L = 0; L < b; L++) (B = (z = v[L]).targetName) ? B === "shape" && D(z, w) : !n && D(z, _);
        for (var C in _) {
            var A = {};
            Uu(A, o), Q(A, _[C]);
            var T = Nr(A), V = _[C][M];
            I[C] = T ? {
                transform: T
            } : {}, Dc(I[C], A), V && (I[C][M] = V);
        }
        var N = !0;
        for (var C in w) {
            I[C] = I[C] || {};
            var k = !m;
            V = w[C][M], k && (m = new Pr());
            var P = m.len();
            m.reset(), I[C].d = Mc(o, w[C], m);
            var R = m.len();
            if (!k && P !== R) {
                N = !1;
                break;
            }
            V && (I[C][M] = V);
        }
        if (!N) for (var C in I) delete I[C].d;
        if (!n) for (L = 0; L < b; L++) {
            var z, B;
            (B = (z = v[L]).targetName) === "style" && D(z, I, function(Y) {
                return Cc[Y];
            });
        }
        var G, U = _e(I), O = !0;
        for (L = 1; L < U.length; L++) {
            var F = U[L - 1], j = U[L];
            if (I[F][Ct] !== I[j][Ct]) {
                O = !1;
                break;
            }
            G = I[F][Ct];
        }
        if (O && G) {
            for (var C in I) I[C][Ct] && delete I[C][Ct];
            t[Ct] = G;
        }
        if (je(U, function(Y) {
            return _e(I[Y]).length > 0;
        }).length) return ka(I, e) + " " + S[0] + " both";
    }
    for (var y in l) (s = f(l[y])) && a.push(s);
    if (a.length) {
        var x = e.zrId + "-cls-" + Na();
        e.cssNodes["." + x] = {
            animation: a.join(",")
        }, t.class = x;
    }
}

function Ea(o, t, e, n) {
    var i = JSON.stringify(o), r = e.cssStyleCache[i];
    r || (r = e.zrId + "-cls-" + Na(), e.cssStyleCache[i] = r, e.cssNodes["." + r + (n ? ":hover" : "")] = o), 
    t.class = t.class ? t.class + " " + r : r;
}

var hn = Math.round;

function za(o) {
    return o && ue(o.src);
}

function Ra(o) {
    return o && ve(o.toDataURL);
}

function oi(o, t, e, n) {
    bc(function(i, r) {
        var a = i === "fill" || i === "stroke";
        a && Vr(r) ? Za(t, o, i, n) : a && Mo(r) ? Ya(e, o, i, n) : o[i] = a && r === "none" ? "transparent" : r;
    }, t, e, !1), function(i, r, a) {
        var s = i.style;
        if (dd(s)) {
            var l = hd(i), u = a.shadowCache, d = u[l];
            if (!d) {
                var h = i.getGlobalScale(), c = h[0], g = h[1];
                if (!c || !g) return;
                var p = s.shadowOffsetX || 0, f = s.shadowOffsetY || 0, y = s.shadowBlur, x = Qt(s.shadowColor), S = x.opacity, m = x.color, v = y / 2 / c + " " + y / 2 / g;
                d = a.zrId + "-s" + a.shadowIdx++, a.defs[d] = xe("filter", d, {
                    id: d,
                    x: "-100%",
                    y: "-100%",
                    width: "300%",
                    height: "300%"
                }, [ xe("feDropShadow", "", {
                    dx: p / c,
                    dy: f / g,
                    stdDeviation: v,
                    "flood-color": m,
                    "flood-opacity": S
                }) ]), u[l] = d;
            }
            r.filter = Cn(d);
        }
    }(e, o, n);
}

function ii(o, t) {
    var e = ld(t);
    e && (e.each(function(n, i) {
        n != null && (o[(La + i).toLowerCase()] = n + "");
    }), t.isSilent() && (o[La + "silent"] = "true"));
}

function Oa(o) {
    return ht(o[0] - 1) && ht(o[1]) && ht(o[2]) && ht(o[3] - 1);
}

function ri(o, t, e) {
    if (t && (!function(i) {
        return ht(i[4]) && ht(i[5]);
    }(t) || !Oa(t))) {
        var n = e ? 10 : 1e4;
        o.transform = Oa(t) ? "translate(" + hn(t[4] * n) / n + " " + hn(t[5] * n) / n + ")" : ud(t);
    }
}

function Ba(o, t, e) {
    for (var n = o.points, i = [], r = 0; r < n.length; r++) i.push(hn(n[r][0] * e) / e), 
    i.push(hn(n[r][1] * e) / e);
    t.points = i.join(" ");
}

function Ga(o) {
    return !o.smooth;
}

var Fa, ai, Lc = {
    circle: [ (Fa = [ "cx", "cy", "r" ], ai = K(Fa, function(o) {
        return typeof o == "string" ? [ o, o ] : o;
    }), function(o, t, e) {
        for (var n = 0; n < ai.length; n++) {
            var i = ai[n], r = o[i[0]];
            r != null && (t[i[1]] = hn(r * e) / e);
        }
    }) ],
    polyline: [ Ba, Ga ],
    polygon: [ Ba, Ga ]
};

function Wa(o, t) {
    var e = o.style, n = o.shape, i = Lc[o.type], r = {}, a = t.animation, s = "path", l = o.style.strokePercent, u = t.compress && kr(o) || 4;
    if (!i || t.willUpdate || i[1] && !i[1](n) || a && function(y) {
        for (var x = y.animators, S = 0; S < x.length; S++) if (x[S].targetName === "shape") return !0;
        return !1;
    }(o) || l < 1) {
        var d = !o.path || o.shapeChanged();
        o.path || o.createPathProxy();
        var h = o.path;
        d && (h.beginPath(), o.buildPath(h, o.shape), o.pathUpdated());
        var c = h.getVersion(), g = o, p = g.__svgPathBuilder;
        g.__svgPathVersion === c && p && l === g.__svgPathStrokePercent || (p || (p = g.__svgPathBuilder = new Ma()), 
        p.reset(u), h.rebuildPath(p, l), p.generateStr(), g.__svgPathVersion = c, 
        g.__svgPathStrokePercent = l), r.d = p.getStr();
    } else {
        s = o.type;
        var f = Math.pow(10, u);
        i[0](n, r, f);
    }
    return ri(r, o.transform), oi(r, e, o, t), ii(r, o), t.animation && Un(o, r, t), 
    t.emphasis && function(y, x, S) {
        if (!y.ignore) if (y.isSilent()) Ea(M = {
            "pointer-events": "none"
        }, x, S, !0); else {
            var m = y.states.emphasis && y.states.emphasis.style ? y.states.emphasis.style : {}, v = m.fill;
            if (!v) {
                var b = y.style && y.style.fill, _ = y.states.select && y.states.select.style && y.states.select.style.fill, w = y.currentStates.indexOf("select") >= 0 && _ || b;
                w && (v = ju(w));
            }
            var I = m.lineWidth;
            I && (I /= !m.strokeNoScale && y.transform ? y.transform[0] : 1);
            var M = {
                cursor: "pointer"
            };
            v && (M.fill = v), m.stroke && (M.stroke = m.stroke), I && (M["stroke-width"] = I), 
            Ea(M, x, S, !0);
        }
    }(o, r, t), xe(s, o.id + "", r);
}

function Ha(o, t) {
    return o instanceof Se ? Wa(o, t) : o instanceof $t ? function(e, n) {
        var i = e.style, r = i.image;
        if (r && !ue(r) && (za(r) ? r = r.src : Ra(r) && (r = r.toDataURL())), r) {
            var a = i.x || 0, s = i.y || 0, l = {
                href: r,
                width: i.width,
                height: i.height
            };
            return a && (l.x = a), s && (l.y = s), ri(l, e.transform), oi(l, i, e, n), 
            ii(l, e), n.animation && Un(e, l, n), xe("image", e.id + "", l);
        }
    }(o, t) : o instanceof qu ? function(e, n) {
        var i = e.style, r = i.text;
        if (r != null && (r += ""), r && !isNaN(i.x) && !isNaN(i.y)) {
            var a = i.font || td, s = i.x || 0, l = nd(i.y || 0, od(a), i.textBaseline), u = {
                "dominant-baseline": "central",
                "text-anchor": id[i.textAlign] || i.textAlign
            };
            if (rd(i)) {
                var d = "", h = i.fontStyle, c = ad(i.fontSize);
                if (!parseFloat(c)) return;
                var g = i.fontFamily || sd, p = i.fontWeight;
                d += "font-size:" + c + ";font-family:" + g + ";", h && h !== "normal" && (d += "font-style:" + h + ";"), 
                p && p !== "normal" && (d += "font-weight:" + p + ";"), u.style = d;
            } else u.style = "font: " + a;
            return r.match(/\s/) && (u["xml:space"] = "preserve"), s && (u.x = s), 
            l && (u.y = l), ri(u, e.transform), oi(u, i, e, n), ii(u, e), n.animation && Un(e, u, n), 
            xe("text", e.id + "", u, void 0, r);
        }
    }(o, t) : void 0;
}

function Za(o, t, e, n) {
    var i, r = o[e], a = {
        gradientUnits: r.global ? "userSpaceOnUse" : "objectBoundingBox"
    };
    if (Ku(r)) i = "linearGradient", a.x1 = r.x, a.y1 = r.y, a.x2 = r.x2, a.y2 = r.y2; else {
        if (!$u(r)) return;
        i = "radialGradient", a.cx = Ie(r.x, .5), a.cy = Ie(r.y, .5), a.r = Ie(r.r, .5);
    }
    for (var s = r.colorStops, l = [], u = 0, d = s.length; u < d; ++u) {
        var h = 100 * Qu(s[u].offset) + "%", c = s[u].color, g = Qt(c), p = g.color, f = g.opacity, y = {
            offset: h
        };
        y["stop-color"] = p, f < 1 && (y["stop-opacity"] = f), l.push(xe("stop", u + "", y));
    }
    var x = ti(xe(i, "", a, l)), S = n.gradientCache, m = S[x];
    m || (m = n.zrId + "-g" + n.gradientIdx++, S[x] = m, a.id = m, n.defs[m] = xe(i, m, a, l)), 
    t[e] = Cn(m);
}

function Ya(o, t, e, n) {
    var i, r = o.style[e], a = o.getBoundingRect(), s = {}, l = r.repeat, u = l === "no-repeat", d = l === "repeat-x", h = l === "repeat-y";
    if (Ju(r)) {
        var c = r.imageWidth, g = r.imageHeight, p = void 0, f = r.image;
        if (ue(f) ? p = f : za(f) ? p = f.src : Ra(f) && (p = f.toDataURL()), typeof Image > "u") {
            var y = "Image width/height must been given explictly in svg-ssr renderer.";
            Io(c, y), Io(g, y);
        } else if (c == null || g == null) {
            var x = function(D, L) {
                if (D) {
                    var C = D.elm, A = c || L.width, T = g || L.height;
                    D.tag === "pattern" && (d ? (T = 1, A /= a.width) : h && (A = 1, 
                    T /= a.height)), D.attrs.width = A, D.attrs.height = T, C && (C.setAttribute("width", A), 
                    C.setAttribute("height", T));
                }
            }, S = ed(p, null, o, function(D) {
                u || x(_, D), x(i, D);
            });
            S && S.width && S.height && (c = c || S.width, g = g || S.height);
        }
        i = xe("image", "img", {
            href: p,
            width: c,
            height: g
        }), s.width = c, s.height = g;
    } else r.svgElement && (i = wt(r.svgElement), s.width = r.svgWidth, s.height = r.svgHeight);
    if (i) {
        var m, v;
        u ? m = v = 1 : d ? (v = 1, m = s.width / a.width) : h ? (m = 1, v = s.height / a.height) : s.patternUnits = "userSpaceOnUse", 
        m == null || isNaN(m) || (s.width = m), v == null || isNaN(v) || (s.height = v);
        var b = Nr(r);
        b && (s.patternTransform = b);
        var _ = xe("pattern", "", s, [ i ]), w = ti(_), I = n.patternCache, M = I[w];
        M || (M = n.zrId + "-p" + n.patternIdx++, I[w] = M, s.id = M, _ = n.defs[M] = xe("pattern", M, s, [ i ])), 
        t[e] = Cn(M);
    }
}

function Ac(o, t, e) {
    var n = e.clipPathCache, i = e.defs, r = n[o.id];
    if (!r) {
        var a = {
            id: r = e.zrId + "-c" + e.clipPathIdx++
        };
        n[o.id] = r, i[r] = xe("clipPath", r, a, [ Wa(o, e) ]);
    }
    t["clip-path"] = Cn(r);
}

function Xa(o) {
    return document.createTextNode(o);
}

function Wt(o, t, e) {
    o.insertBefore(t, e);
}

function Ua(o, t) {
    o.removeChild(t);
}

function ja(o, t) {
    o.appendChild(t);
}

function qa(o) {
    return o.parentNode;
}

function Ka(o) {
    return o.nextSibling;
}

function si(o, t) {
    o.textContent = t;
}

var $a = 58, Tc = 120, Nc = xe("", "");

function li(o) {
    return o === void 0;
}

function Je(o) {
    return o !== void 0;
}

function Pc(o, t, e) {
    for (var n = {}, i = t; i <= e; ++i) {
        var r = o[i].key;
        r !== void 0 && (n[r] = i);
    }
    return n;
}

function cn(o, t) {
    var e = o.key === t.key;
    return o.tag === t.tag && e;
}

function jn(o) {
    var t, e = o.children, n = o.tag;
    if (Je(n)) {
        var i = o.elm = Aa(n);
        if (ui(Nc, o), $(e)) for (t = 0; t < e.length; ++t) {
            var r = e[t];
            r != null && ja(i, jn(r));
        } else Je(o.text) && !Jt(o.text) && ja(i, Xa(o.text));
    } else o.elm = Xa(o.text);
    return o.elm;
}

function Qa(o, t, e, n, i) {
    for (;n <= i; ++n) {
        var r = e[n];
        r != null && Wt(o, jn(r), t);
    }
}

function qn(o, t, e, n) {
    for (;e <= n; ++e) {
        var i = t[e];
        i != null && (Je(i.tag) ? Ua(qa(i.elm), i.elm) : Ua(o, i.elm));
    }
}

function ui(o, t) {
    var e, n = t.elm, i = o && o.attrs || {}, r = t.attrs || {};
    if (i !== r) {
        for (e in r) {
            var a = r[e];
            i[e] !== a && (a === !0 ? n.setAttribute(e, "") : a === !1 ? n.removeAttribute(e) : e === "style" ? n.style.cssText = a : e.charCodeAt(0) !== Tc ? n.setAttribute(e, a) : e === "xmlns:xlink" || e === "xmlns" ? n.setAttributeNS(Sc, e, a) : e.charCodeAt(3) === $a ? n.setAttributeNS(wc, e, a) : e.charCodeAt(5) === $a ? n.setAttributeNS(Ca, e, a) : n.setAttribute(e, a));
        }
        for (e in i) e in r || n.removeAttribute(e);
    }
}

function Ht(o, t) {
    var e = t.elm = o.elm, n = o.children, i = t.children;
    o !== t && (ui(o, t), li(t.text) ? Je(n) && Je(i) ? n !== i && function(r, a, s) {
        for (var l, u, d, h = 0, c = 0, g = a.length - 1, p = a[0], f = a[g], y = s.length - 1, x = s[0], S = s[y]; h <= g && c <= y; ) p == null ? p = a[++h] : f == null ? f = a[--g] : x == null ? x = s[++c] : S == null ? S = s[--y] : cn(p, x) ? (Ht(p, x), 
        p = a[++h], x = s[++c]) : cn(f, S) ? (Ht(f, S), f = a[--g], S = s[--y]) : cn(p, S) ? (Ht(p, S), 
        Wt(r, p.elm, Ka(f.elm)), p = a[++h], S = s[--y]) : cn(f, x) ? (Ht(f, x), 
        Wt(r, f.elm, p.elm), f = a[--g], x = s[++c]) : (li(l) && (l = Pc(a, h, g)), 
        li(u = l[x.key]) || (d = a[u]).tag !== x.tag ? Wt(r, jn(x), p.elm) : (Ht(d, x), 
        a[u] = void 0, Wt(r, d.elm, p.elm)), x = s[++c]);
        (h <= g || c <= y) && (h > g ? Qa(r, s[y + 1] == null ? null : s[y + 1].elm, s, c, y) : qn(r, a, h, g));
    }(e, n, i) : Je(i) ? (Je(o.text) && si(e, ""), Qa(e, null, i, 0, i.length - 1)) : Je(n) ? qn(e, n, 0, n.length - 1) : Je(o.text) && si(e, "") : o.text !== t.text && (Je(n) && qn(e, n, 0, n.length - 1), 
    si(e, t.text)));
}

var kc = 0, Vc = function() {
    function o(t, e, n) {
        if (this.type = "svg", this.refreshHover = function() {}, this.configLayer = function() {}, 
        this.storage = e, this._opts = n = Q({}, n), this.root = t, this._id = "zr" + kc++, 
        this._oldVNode = Ta(n.width, n.height), t && !n.ssr) {
            var i = this._viewport = document.createElement("div");
            i.style.cssText = "position:relative;overflow:hidden";
            var r = this._svgDom = this._oldVNode.elm = Aa("svg");
            ui(null, this._oldVNode), i.appendChild(r), t.appendChild(i);
        }
        this.resize(n.width, n.height);
    }
    return o.prototype.getType = function() {
        return this.type;
    }, o.prototype.getViewportRoot = function() {
        return this._viewport;
    }, o.prototype.getViewportRootOffset = function() {
        var t = this.getViewportRoot();
        if (t) return {
            offsetLeft: t.offsetLeft || 0,
            offsetTop: t.offsetTop || 0
        };
    }, o.prototype.getSvgDom = function() {
        return this._svgDom;
    }, o.prototype.refresh = function() {
        if (this.root) {
            var t = this.renderToVNode({
                willUpdate: !0
            });
            t.attrs.style = "position:absolute;left:0;top:0;user-select:none", function(e, n) {
                if (cn(e, n)) Ht(e, n); else {
                    var i = e.elm, r = qa(i);
                    jn(n), r !== null && (Wt(r, n.elm, Ka(i)), qn(r, [ e ], 0, 0));
                }
            }(this._oldVNode, t), this._oldVNode = t;
        }
    }, o.prototype.renderOneToVNode = function(t) {
        return Ha(t, ni(this._id));
    }, o.prototype.renderToVNode = function(t) {
        t = t || {};
        var e = this.storage.getDisplayList(!0), n = this._width, i = this._height, r = ni(this._id);
        r.animation = t.animation, r.willUpdate = t.willUpdate, r.compress = t.compress, 
        r.emphasis = t.emphasis;
        var a = [], s = this._bgVNode = function(c, g, p, f) {
            var y;
            if (p && p !== "none") if (y = xe("rect", "bg", {
                width: c,
                height: g,
                x: "0",
                y: "0"
            }), Vr(p)) Za({
                fill: p
            }, y.attrs, "fill", f); else if (Mo(p)) Ya({
                style: {
                    fill: p
                },
                dirty: Vt,
                getBoundingRect: function() {
                    return {
                        width: c,
                        height: g
                    };
                }
            }, y.attrs, "fill", f); else {
                var x = Qt(p), S = x.color, m = x.opacity;
                y.attrs.fill = S, m < 1 && (y.attrs["fill-opacity"] = m);
            }
            return y;
        }(n, i, this._backgroundColor, r);
        s && a.push(s);
        var l = t.compress ? null : this._mainVNode = xe("g", "main", {}, []);
        this._paintList(e, r, l ? l.children : a), l && a.push(l);
        var u = K(_e(r.defs), function(c) {
            return r.defs[c];
        });
        if (u.length && a.push(xe("defs", "defs", {}, u)), t.animation) {
            var d = function(c, g, p) {
                var f = (p = p || {}).newline ? `
` : "", y = " {" + f, x = f + "}", S = K(_e(c), function(v) {
                    return v + y + K(_e(c[v]), function(b) {
                        return b + ":" + c[v][b] + ";";
                    }).join(f) + x;
                }).join(f), m = K(_e(g), function(v) {
                    return "@keyframes " + v + y + K(_e(g[v]), function(b) {
                        return b + y + K(_e(g[v][b]), function(_) {
                            var w = g[v][b][_];
                            return _ === "d" && (w = 'path("' + w + '")'), _ + ":" + w + ";";
                        }).join(f) + x;
                    }).join(f) + x;
                }).join(f);
                return S || m ? [ "<![CDATA[", S, m, "]]>" ].join(f) : "";
            }(r.cssNodes, r.cssAnims, {
                newline: !0
            });
            if (d) {
                var h = xe("style", "stl", {}, [], d);
                a.push(h);
            }
        }
        return Ta(n, i, a, t.useViewBox);
    }, o.prototype.renderToString = function(t) {
        return t = t || {}, ti(this.renderToVNode({
            animation: Ie(t.cssAnimation, !0),
            emphasis: Ie(t.cssEmphasis, !0),
            willUpdate: !1,
            compress: !0,
            useViewBox: Ie(t.useViewBox, !0)
        }), {
            newline: !0
        });
    }, o.prototype.setBackgroundColor = function(t) {
        this._backgroundColor = t;
    }, o.prototype.getSvgRoot = function() {
        return this._mainVNode && this._mainVNode.elm;
    }, o.prototype._paintList = function(t, e, n) {
        for (var i, r, a = t.length, s = [], l = 0, u = 0, d = 0; d < a; d++) {
            var h = t[d];
            if (!h.invisible) {
                var c = h.__clipPaths, g = c && c.length || 0, p = r && r.length || 0, f = void 0;
                for (f = Math.max(g - 1, p - 1); f >= 0 && (!c || !r || c[f] !== r[f]); f--);
                for (var y = p - 1; y > f; y--) i = s[--l - 1];
                for (var x = f + 1; x < g; x++) {
                    var S = {};
                    Ac(c[x], S, e);
                    var m = xe("g", "clip-g-" + u++, S, []);
                    (i ? i.children : n).push(m), s[l++] = m, i = m;
                }
                r = c;
                var v = Ha(h, e);
                v && (i ? i.children : n).push(v);
            }
        }
    }, o.prototype.resize = function(t, e) {
        var n = this._opts, i = this.root, r = this._viewport;
        if (t != null && (n.width = t), e != null && (n.height = e), i && r && (r.style.display = "none", 
        t = Er(i, 0, n), e = Er(i, 1, n), r.style.display = ""), this._width !== t || this._height !== e) {
            if (this._width = t, this._height = e, r) {
                var a = r.style;
                a.width = t + "px", a.height = e + "px";
            }
            if (Mo(this._backgroundColor)) this.refresh(); else {
                var s = this._svgDom;
                s && (s.setAttribute("width", t), s.setAttribute("height", e));
                var l = this._bgVNode && this._bgVNode.elm;
                l && (l.setAttribute("width", t), l.setAttribute("height", e));
            }
        }
    }, o.prototype.getWidth = function() {
        return this._width;
    }, o.prototype.getHeight = function() {
        return this._height;
    }, o.prototype.dispose = function() {
        this.root && (this.root.innerHTML = ""), this._svgDom = this._viewport = this.storage = this._oldVNode = this._bgVNode = this._mainVNode = null;
    }, o.prototype.clear = function() {
        this._svgDom && (this._svgDom.innerHTML = null), this._oldVNode = null;
    }, o.prototype.toDataURL = function(t) {
        var e = this.renderToString(), n = "data:image/svg+xml;";
        return t ? (e = cd(e)) && n + "base64," + e : n + "charset=UTF-8," + encodeURIComponent(e);
    }, o;
}();

const Ec = Vc, zc = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e.hasSymbolVisual = !0, e;
    }
    return W(t, o), t.prototype.getInitialData = function(e, n) {
        return Et(null, this, {
            useEncodeDefaulter: !0
        });
    }, t.prototype.getProgressive = function() {
        var e = this.option.progressive;
        return e ?? (this.option.large ? 5e3 : this.get("progressive"));
    }, t.prototype.getProgressiveThreshold = function() {
        var e = this.option.progressiveThreshold;
        return e ?? (this.option.large ? 1e4 : this.get("progressiveThreshold"));
    }, t.prototype.brushSelector = function(e, n, i) {
        return i.point(n.getItemLayout(e));
    }, t.prototype.getZLevelKey = function() {
        return this.getData().count() > this.getProgressiveThreshold() ? this.id : "";
    }, t.type = "series.scatter", t.dependencies = [ "grid", "polar", "geo", "singleAxis", "calendar" ], 
    t.defaultOption = {
        coordinateSystem: "cartesian2d",
        z: 2,
        legendHoverLink: !0,
        symbolSize: 10,
        large: !1,
        largeThreshold: 2e3,
        itemStyle: {
            opacity: .8
        },
        emphasis: {
            scale: !0
        },
        clip: !0,
        select: {
            itemStyle: {
                borderColor: "#212121"
            }
        },
        universalTransition: {
            divideShape: "clone"
        }
    }, t;
}(Me);

var Rc = function() {}, Oc = function(o) {
    function t(e) {
        var n = o.call(this, e) || this;
        return n._off = 0, n.hoverDataIdx = -1, n;
    }
    return W(t, o), t.prototype.getDefaultShape = function() {
        return new Rc();
    }, t.prototype.reset = function() {
        this.notClear = !1, this._off = 0;
    }, t.prototype.buildPath = function(e, n) {
        var i, r = n.points, a = n.size, s = this.symbolProxy, l = s.shape, u = e.getContext ? e.getContext() : e, d = u && a[0] < 4, h = this.softClipShape;
        if (d) this._ctx = u; else {
            for (this._ctx = null, i = this._off; i < r.length; ) {
                var c = r[i++], g = r[i++];
                isNaN(c) || isNaN(g) || h && !h.contain(c, g) || (l.x = c - a[0] / 2, 
                l.y = g - a[1] / 2, l.width = a[0], l.height = a[1], s.buildPath(e, l, !0));
            }
            this.incremental && (this._off = i, this.notClear = !0);
        }
    }, t.prototype.afterBrush = function() {
        var e, n = this.shape, i = n.points, r = n.size, a = this._ctx, s = this.softClipShape;
        if (a) {
            for (e = this._off; e < i.length; ) {
                var l = i[e++], u = i[e++];
                isNaN(l) || isNaN(u) || s && !s.contain(l, u) || a.fillRect(l - r[0] / 2, u - r[1] / 2, r[0], r[1]);
            }
            this.incremental && (this._off = e, this.notClear = !0);
        }
    }, t.prototype.findDataIndex = function(e, n) {
        for (var i = this.shape, r = i.points, a = i.size, s = Math.max(a[0], 4), l = Math.max(a[1], 4), u = r.length / 2 - 1; u >= 0; u--) {
            var d = 2 * u, h = r[d] - s / 2, c = r[d + 1] - l / 2;
            if (e >= h && n >= c && e <= h + s && n <= c + l) return u;
        }
        return -1;
    }, t.prototype.contain = function(e, n) {
        var i = this.transformCoordToLocal(e, n), r = this.getBoundingRect();
        return e = i[0], n = i[1], r.contain(e, n) ? (this.hoverDataIdx = this.findDataIndex(e, n)) >= 0 : (this.hoverDataIdx = -1, 
        !1);
    }, t.prototype.getBoundingRect = function() {
        var e = this._rect;
        if (!e) {
            for (var n = this.shape, i = n.points, r = n.size, a = r[0], s = r[1], l = 1 / 0, u = 1 / 0, d = -1 / 0, h = -1 / 0, c = 0; c < i.length; ) {
                var g = i[c++], p = i[c++];
                l = Math.min(g, l), d = Math.max(g, d), u = Math.min(p, u), h = Math.max(p, h);
            }
            e = this._rect = new qe(l - a / 2, u - s / 2, d - l + a, h - u + s);
        }
        return e;
    }, t;
}(Se), Bc = function() {
    function o() {
        this.group = new de();
    }
    return o.prototype.updateData = function(t, e) {
        this._clear();
        var n = this._create();
        n.setShape({
            points: t.getLayout("points")
        }), this._setCommon(n, t, e);
    }, o.prototype.updateLayout = function(t) {
        var e = t.getLayout("points");
        this.group.eachChild(function(n) {
            if (n.startIndex != null) {
                var i = 2 * (n.endIndex - n.startIndex), r = 4 * n.startIndex * 2;
                e = new Float32Array(e.buffer, r, i);
            }
            n.setShape("points", e), n.reset();
        });
    }, o.prototype.incrementalPrepareUpdate = function(t) {
        this._clear();
    }, o.prototype.incrementalUpdate = function(t, e, n) {
        var i = this._newAdded[0], r = e.getLayout("points"), a = i && i.shape.points;
        if (a && a.length < 2e4) {
            var s = a.length, l = new Float32Array(s + r.length);
            l.set(a), l.set(r, s), i.endIndex = t.end, i.setShape({
                points: l
            });
        } else {
            this._newAdded = [];
            var u = this._create();
            u.startIndex = t.start, u.endIndex = t.end, u.incremental = !0, u.setShape({
                points: r
            }), this._setCommon(u, e, n);
        }
    }, o.prototype.eachRendered = function(t) {
        this._newAdded[0] && t(this._newAdded[0]);
    }, o.prototype._create = function() {
        var t = new Oc({
            cursor: "default"
        });
        return t.ignoreCoarsePointer = !0, this.group.add(t), this._newAdded.push(t), 
        t;
    }, o.prototype._setCommon = function(t, e, n) {
        var i = e.hostModel;
        n = n || {};
        var r = e.getVisual("symbolSize");
        t.setShape("size", r instanceof Array ? r : [ r, r ]), t.softClipShape = n.clipShape || null, 
        t.symbolProxy = It(e.getVisual("symbol"), 0, 0, 0, 0), t.setColor = t.symbolProxy.setColor;
        var a = t.shape.size[0] < 4;
        t.useStyle(i.getModel("itemStyle").getItemStyle(a ? [ "color", "shadowBlur", "shadowColor" ] : [ "color" ]));
        var s = e.getVisual("style"), l = s && s.fill;
        l && t.setColor(l);
        var u = me(t);
        u.seriesIndex = i.seriesIndex, t.on("mousemove", function(d) {
            u.dataIndex = null;
            var h = t.hoverDataIdx;
            h >= 0 && (u.dataIndex = h + (t.startIndex || 0));
        });
    }, o.prototype.remove = function() {
        this._clear();
    }, o.prototype._clear = function() {
        this._newAdded = [], this.group.removeAll();
    }, o;
}();

const Gc = Bc, Fc = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.render = function(e, n, i) {
        var r = e.getData();
        this._updateSymbolDraw(r, e).updateData(r, {
            clipShape: this._getClipShape(e)
        }), this._finished = !0;
    }, t.prototype.incrementalPrepareRender = function(e, n, i) {
        var r = e.getData();
        this._updateSymbolDraw(r, e).incrementalPrepareUpdate(r), this._finished = !1;
    }, t.prototype.incrementalRender = function(e, n, i) {
        this._symbolDraw.incrementalUpdate(e, n.getData(), {
            clipShape: this._getClipShape(n)
        }), this._finished = e.end === n.getData().count();
    }, t.prototype.updateTransform = function(e, n, i) {
        var r = e.getData();
        if (this.group.dirty(), !this._finished || r.count() > 1e4) return {
            update: !0
        };
        var a = Ln("").reset(e, n, i);
        a.progress && a.progress({
            start: 0,
            end: r.count(),
            count: r.count()
        }, r), this._symbolDraw.updateLayout(r);
    }, t.prototype.eachRendered = function(e) {
        this._symbolDraw && this._symbolDraw.eachRendered(e);
    }, t.prototype._getClipShape = function(e) {
        if (e.get("clip", !0)) {
            var n = e.coordinateSystem;
            return n && n.getArea && n.getArea(.1);
        }
    }, t.prototype._updateSymbolDraw = function(e, n) {
        var i = this._symbolDraw, r = n.pipelineContext.large;
        return i && r === this._isLargeDraw || (i && i.remove(), i = this._symbolDraw = r ? new Gc() : new An(), 
        this._isLargeDraw = r, this.group.removeAll()), this.group.add(i.group), 
        i;
    }, t.prototype.remove = function(e, n) {
        this._symbolDraw && this._symbolDraw.remove(!0), this._symbolDraw = null;
    }, t.prototype.dispose = function() {}, t.type = "scatter", t;
}(De);

function Wc(o, t) {
    var e = o.isExpand ? o.children : [], n = o.parentNode.children, i = o.hierNode.i ? n[o.hierNode.i - 1] : null;
    if (e.length) {
        (function(a) {
            for (var s = a.children, l = s.length, u = 0, d = 0; --l >= 0; ) {
                var h = s[l];
                h.hierNode.prelim += u, h.hierNode.modifier += u, d += h.hierNode.change, 
                u += h.hierNode.shift + d;
            }
        })(o);
        var r = (e[0].hierNode.prelim + e[e.length - 1].hierNode.prelim) / 2;
        i ? (o.hierNode.prelim = i.hierNode.prelim + t(o, i), o.hierNode.modifier = o.hierNode.prelim - r) : o.hierNode.prelim = r;
    } else i && (o.hierNode.prelim = i.hierNode.prelim + t(o, i));
    o.parentNode.hierNode.defaultAncestor = function(a, s, l, u) {
        if (s) {
            for (var d = a, h = a, c = h.parentNode.children[0], g = s, p = d.hierNode.modifier, f = h.hierNode.modifier, y = c.hierNode.modifier, x = g.hierNode.modifier; g = di(g), 
            h = hi(h), g && h; ) {
                d = di(d), c = hi(c), d.hierNode.ancestor = a;
                var S = g.hierNode.prelim + x - h.hierNode.prelim - f + u(g, h);
                S > 0 && (Yc(Zc(g, a, l), a, S), f += S, p += S), x += g.hierNode.modifier, 
                f += h.hierNode.modifier, p += d.hierNode.modifier, y += c.hierNode.modifier;
            }
            g && !di(d) && (d.hierNode.thread = g, d.hierNode.modifier += x - p), 
            h && !hi(c) && (c.hierNode.thread = h, c.hierNode.modifier += f - y, 
            l = a);
        }
        return l;
    }(o, i, o.parentNode.hierNode.defaultAncestor || n[0], t);
}

function Hc(o) {
    var t = o.hierNode.prelim + o.parentNode.hierNode.modifier;
    o.setLayout({
        x: t
    }, !0), o.hierNode.modifier += o.parentNode.hierNode.modifier;
}

function Ja(o) {
    return arguments.length ? o : Xc;
}

function pn(o, t) {
    return o -= Math.PI / 2, {
        x: t * Math.cos(o),
        y: t * Math.sin(o)
    };
}

function di(o) {
    var t = o.children;
    return t.length && o.isExpand ? t[t.length - 1] : o.hierNode.thread;
}

function hi(o) {
    var t = o.children;
    return t.length && o.isExpand ? t[0] : o.hierNode.thread;
}

function Zc(o, t, e) {
    return o.hierNode.ancestor.parentNode === t.parentNode ? o.hierNode.ancestor : e;
}

function Yc(o, t, e) {
    var n = e / (t.hierNode.i - o.hierNode.i);
    t.hierNode.change -= n, t.hierNode.shift += e, t.hierNode.modifier += e, t.hierNode.prelim += e, 
    o.hierNode.change += n;
}

function Xc(o, t) {
    return o.parentNode === t.parentNode ? 1 : 2;
}

var Uc = function() {
    this.parentPoint = [], this.childPoints = [];
}, jc = function(o) {
    function t(e) {
        return o.call(this, e) || this;
    }
    return W(t, o), t.prototype.getDefaultStyle = function() {
        return {
            stroke: "#000",
            fill: null
        };
    }, t.prototype.getDefaultShape = function() {
        return new Uc();
    }, t.prototype.buildPath = function(e, n) {
        var i = n.childPoints, r = i.length, a = n.parentPoint, s = i[0], l = i[r - 1];
        if (r === 1) return e.moveTo(a[0], a[1]), void e.lineTo(s[0], s[1]);
        var u = n.orient, d = u === "TB" || u === "BT" ? 0 : 1, h = 1 - d, c = oe(n.forkPosition, 1), g = [];
        g[d] = a[d], g[h] = a[h] + (l[h] - a[h]) * c, e.moveTo(a[0], a[1]), e.lineTo(g[0], g[1]), 
        e.moveTo(s[0], s[1]), g[d] = s[d], e.lineTo(g[0], g[1]), g[d] = l[d], e.lineTo(g[0], g[1]), 
        e.lineTo(l[0], l[1]);
        for (var p = 1; p < r - 1; p++) {
            var f = i[p];
            e.moveTo(f[0], f[1]), g[d] = f[d], e.lineTo(g[0], g[1]);
        }
    }, t;
}(Se), qc = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e._mainGroup = new de(), e;
    }
    return W(t, o), t.prototype.init = function(e, n) {
        this._controller = new Tn(n.getZr()), this._controllerHost = {
            target: this.group
        }, this.group.add(this._mainGroup);
    }, t.prototype.render = function(e, n, i) {
        var r = e.getData(), a = e.layoutInfo, s = this._mainGroup;
        e.get("layout") === "radial" ? (s.x = a.x + a.width / 2, s.y = a.y + a.height / 2) : (s.x = a.x, 
        s.y = a.y), this._updateViewCoordSys(e, i), this._updateController(e, n, i);
        var l = this._data;
        r.diff(l).add(function(u) {
            es(r, u) && ts(r, u, null, s, e);
        }).update(function(u, d) {
            var h = l.getItemGraphicEl(d);
            es(r, u) ? ts(r, u, h, s, e) : h && is(l, d, h, s, e);
        }).remove(function(u) {
            var d = l.getItemGraphicEl(u);
            d && is(l, u, d, s, e);
        }).execute(), this._nodeScaleRatio = e.get("nodeScaleRatio"), this._updateNodeAndLinkScale(e), 
        e.get("expandAndCollapse") === !0 && r.eachItemGraphicEl(function(u, d) {
            u.off("click").on("click", function() {
                i.dispatchAction({
                    type: "treeExpandAndCollapse",
                    seriesId: e.id,
                    dataIndex: d
                });
            });
        }), this._data = r;
    }, t.prototype._updateViewCoordSys = function(e, n) {
        var i = e.getData(), r = [];
        i.each(function(h) {
            var c = i.getItemLayout(h);
            !c || isNaN(c.x) || isNaN(c.y) || r.push([ +c.x, +c.y ]);
        });
        var a = [], s = [];
        Nn(r, a, s);
        var l = this._min, u = this._max;
        s[0] - a[0] == 0 && (a[0] = l ? l[0] : a[0] - 1, s[0] = u ? u[0] : s[0] + 1), 
        s[1] - a[1] == 0 && (a[1] = l ? l[1] : a[1] - 1, s[1] = u ? u[1] : s[1] + 1);
        var d = e.coordinateSystem = new Do();
        d.zoomLimit = e.get("scaleLimit"), d.setBoundingRect(a[0], a[1], s[0] - a[0], s[1] - a[1]), 
        d.setCenter(e.get("center"), n), d.setZoom(e.get("zoom")), this.group.attr({
            x: d.x,
            y: d.y,
            scaleX: d.scaleX,
            scaleY: d.scaleY
        }), this._min = a, this._max = s;
    }, t.prototype._updateController = function(e, n, i) {
        var r = this, a = this._controller, s = this._controllerHost, l = this.group;
        a.setPointerChecker(function(u, d, h) {
            var c = l.getBoundingRect();
            return c.applyTransform(l.transform), c.contain(d, h) && !zr(u, i, e);
        }), a.enable(e.get("roam")), s.zoomLimit = e.get("scaleLimit"), s.zoom = e.coordinateSystem.getZoom(), 
        a.off("pan").off("zoom").on("pan", function(u) {
            Rr(s, u.dx, u.dy), i.dispatchAction({
                seriesId: e.id,
                type: "treeRoam",
                dx: u.dx,
                dy: u.dy
            });
        }).on("zoom", function(u) {
            Or(s, u.scale, u.originX, u.originY), i.dispatchAction({
                seriesId: e.id,
                type: "treeRoam",
                zoom: u.scale,
                originX: u.originX,
                originY: u.originY
            }), r._updateNodeAndLinkScale(e), i.updateLabelLayout();
        });
    }, t.prototype._updateNodeAndLinkScale = function(e) {
        var n = e.getData(), i = this._getNodeGlobalScale(e);
        n.eachItemGraphicEl(function(r, a) {
            r.setSymbolScale(i);
        });
    }, t.prototype._getNodeGlobalScale = function(e) {
        var n = e.coordinateSystem;
        if (n.type !== "view") return 1;
        var i = this._nodeScaleRatio, r = n.scaleX || 1;
        return ((n.getZoom() - 1) * i + 1) / r;
    }, t.prototype.dispose = function() {
        this._controller && this._controller.dispose(), this._controllerHost = null;
    }, t.prototype.remove = function() {
        this._mainGroup.removeAll(), this._data = null;
    }, t.type = "tree", t;
}(De);

function es(o, t) {
    var e = o.getItemLayout(t);
    return e && !isNaN(e.x) && !isNaN(e.y);
}

function ts(o, t, e, n, i) {
    var r = !e, a = o.tree.getNodeByDataIndex(t), s = a.getModel(), l = a.getVisual("style").fill, u = a.isExpand === !1 && a.children.length !== 0 ? l : "#fff", d = o.tree.root, h = a.parentNode === d ? a : a.parentNode || a, c = o.getItemGraphicEl(h.dataIndex), g = h.getLayout(), p = c ? {
        x: c.__oldX,
        y: c.__oldY,
        rawX: c.__radialOldRawX,
        rawY: c.__radialOldRawY
    } : g, f = a.getLayout();
    r ? ((e = new Br(o, t, null, {
        symbolInnerColor: u,
        useNameLabel: !0
    })).x = p.x, e.y = p.y) : e.updateData(o, t, null, {
        symbolInnerColor: u,
        useNameLabel: !0
    }), e.__radialOldRawX = e.__radialRawX, e.__radialOldRawY = e.__radialRawY, 
    e.__radialRawX = f.rawX, e.__radialRawY = f.rawY, n.add(e), o.setItemGraphicEl(t, e), 
    e.__oldX = e.x, e.__oldY = e.y, Ae(e, {
        x: f.x,
        y: f.y
    }, i);
    var y = e.getSymbolPath();
    if (i.get("layout") === "radial") {
        var x = d.children[0], S = x.getLayout(), m = x.children.length, v = void 0, b = void 0;
        if (f.x === S.x && a.isExpand === !0 && x.children.length) {
            var _ = {
                x: (x.children[0].getLayout().x + x.children[m - 1].getLayout().x) / 2,
                y: (x.children[0].getLayout().y + x.children[m - 1].getLayout().y) / 2
            };
            (v = Math.atan2(_.y - S.y, _.x - S.x)) < 0 && (v = 2 * Math.PI + v), 
            (b = _.x < S.x) && (v -= Math.PI);
        } else (v = Math.atan2(f.y - S.y, f.x - S.x)) < 0 && (v = 2 * Math.PI + v), 
        a.children.length === 0 || a.children.length !== 0 && a.isExpand === !1 ? (b = f.x < S.x) && (v -= Math.PI) : (b = f.x > S.x) || (v -= Math.PI);
        var w = b ? "left" : "right", I = s.getModel("label"), M = I.get("rotate"), D = M * (Math.PI / 180), L = y.getTextContent();
        L && (y.setTextConfig({
            position: I.get("position") || w,
            rotation: M == null ? -v : D,
            origin: "center"
        }), L.setStyle("verticalAlign", "middle"));
    }
    var C = s.get([ "emphasis", "focus" ]), A = C === "relative" ? Co(a.getAncestorsIndices(), a.getDescendantIndices()) : C === "ancestor" ? a.getAncestorsIndices() : C === "descendant" ? a.getDescendantIndices() : null;
    A && (me(e).focus = A), function(T, V, N, k, P, R, z, B) {
        var G = V.getModel(), U = T.get("edgeShape"), O = T.get("layout"), F = T.getOrient(), j = T.get([ "lineStyle", "curveness" ]), Y = T.get("edgeForkPosition"), H = G.getModel("lineStyle").getLineStyle(), X = k.__edge;
        if (U === "curve") V.parentNode && V.parentNode !== N && (X || (X = k.__edge = new Gr({
            shape: ci(O, F, j, P, P)
        })), Ae(X, {
            shape: ci(O, F, j, R, z)
        }, T)); else if (U === "polyline" && O === "orthogonal" && V !== N && V.children && V.children.length !== 0 && V.isExpand === !0) {
            for (var q = V.children, J = [], ie = 0; ie < q.length; ie++) {
                var Ce = q[ie].getLayout();
                J.push([ Ce.x, Ce.y ]);
            }
            X || (X = k.__edge = new jc({
                shape: {
                    parentPoint: [ z.x, z.y ],
                    childPoints: [ [ z.x, z.y ] ],
                    orient: F,
                    forkPosition: Y
                }
            })), Ae(X, {
                shape: {
                    parentPoint: [ z.x, z.y ],
                    childPoints: J
                }
            }, T);
        }
        X && (U !== "polyline" || V.isExpand) && (X.useStyle(we({
            strokeNoScale: !0,
            fill: null
        }, H)), at(X, G, "lineStyle"), Pn(X), B.add(X));
    }(i, a, d, e, p, g, f, n), e.__edge && (e.onHoverStateChange = function(T) {
        if (T !== "blur") {
            var V = a.parentNode && o.getItemGraphicEl(a.parentNode.dataIndex);
            V && V.hoverState === fd || gd(e.__edge, T);
        }
    });
}

function ns(o, t, e, n, i) {
    var r = os(t.tree.root, o), a = r.source, s = r.sourceLayout, l = t.getItemGraphicEl(o.dataIndex);
    if (l) {
        var u = t.getItemGraphicEl(a.dataIndex).__edge, d = l.__edge || (a.isExpand === !1 || a.children.length === 1 ? u : void 0), h = n.get("edgeShape"), c = n.get("layout"), g = n.get("orient"), p = n.get([ "lineStyle", "curveness" ]);
        d && (h === "curve" ? Lo(d, {
            shape: ci(c, g, p, s, s),
            style: {
                opacity: 0
            }
        }, n, {
            cb: function() {
                e.remove(d);
            },
            removeOpt: i
        }) : h === "polyline" && n.get("layout") === "orthogonal" && Lo(d, {
            shape: {
                parentPoint: [ s.x, s.y ],
                childPoints: [ [ s.x, s.y ] ]
            },
            style: {
                opacity: 0
            }
        }, n, {
            cb: function() {
                e.remove(d);
            },
            removeOpt: i
        }));
    }
}

function os(o, t) {
    for (var e, n = t.parentNode === o ? t : t.parentNode || t; (e = n.getLayout()) == null; ) n = n.parentNode === o ? n : n.parentNode || n;
    return {
        source: n,
        sourceLayout: e
    };
}

function is(o, t, e, n, i) {
    var r = o.tree.getNodeByDataIndex(t), a = os(o.tree.root, r).sourceLayout, s = {
        duration: i.get("animationDurationUpdate"),
        easing: i.get("animationEasingUpdate")
    };
    Lo(e, {
        x: a.x + 1,
        y: a.y + 1
    }, i, {
        cb: function() {
            n.remove(e), o.setItemGraphicEl(t, null);
        },
        removeOpt: s
    }), e.fadeOut(null, o.hostModel, {
        fadeLabel: !0,
        animation: s
    }), r.children.forEach(function(l) {
        ns(l, o, n, i, s);
    }), ns(r, o, n, i, s);
}

function ci(o, t, e, n, i) {
    var r, a, s, l, u, d, h, c;
    if (o === "radial") {
        u = n.rawX, h = n.rawY, d = i.rawX, c = i.rawY;
        var g = pn(u, h), p = pn(u, h + (c - h) * e), f = pn(d, c + (h - c) * e), y = pn(d, c);
        return {
            x1: g.x || 0,
            y1: g.y || 0,
            x2: y.x || 0,
            y2: y.y || 0,
            cpx1: p.x || 0,
            cpy1: p.y || 0,
            cpx2: f.x || 0,
            cpy2: f.y || 0
        };
    }
    return u = n.x, h = n.y, d = i.x, c = i.y, t !== "LR" && t !== "RL" || (r = u + (d - u) * e, 
    a = h, s = d + (u - d) * e, l = c), t !== "TB" && t !== "BT" || (r = u, a = h + (c - h) * e, 
    s = d, l = c + (h - c) * e), {
        x1: u,
        y1: h,
        x2: d,
        y2: c,
        cpx1: r,
        cpy1: a,
        cpx2: s,
        cpy2: l
    };
}

const Kc = qc;

var He = Te();

function rs(o) {
    var t = o.mainData, e = o.datas;
    e || (e = {
        main: t
    }, o.datasAttr = {
        main: "data"
    }), o.datas = o.mainData = null, as(t, e, o), E(e, function(n) {
        E(t.TRANSFERABLE_METHODS, function(i) {
            n.wrapMethod(i, he($c, o));
        });
    }), t.wrapMethod("cloneShallow", he(Jc, o)), E(t.CHANGABLE_METHODS, function(n) {
        t.wrapMethod(n, he(Qc, o));
    }), Io(e[t.dataType] === t);
}

function $c(o, t) {
    if (He(n = this).mainData === n) {
        var e = Q({}, He(this).datas);
        e[this.dataType] = t, as(t, e, o);
    } else pi(t, this.dataType, He(this).mainData, o);
    var n;
    return t;
}

function Qc(o, t) {
    return o.struct && o.struct.update(), t;
}

function Jc(o, t) {
    return E(He(t).datas, function(e, n) {
        e !== t && pi(e.cloneShallow(), n, t, o);
    }), t;
}

function ep(o) {
    var t = He(this).mainData;
    return o == null || t == null ? t : He(t).datas[o];
}

function tp() {
    var o = He(this).mainData;
    return o == null ? [ {
        data: o
    } ] : K(_e(He(o).datas), function(t) {
        return {
            type: t,
            data: He(o).datas[t]
        };
    });
}

function as(o, t, e) {
    He(o).datas = {}, E(t, function(n, i) {
        pi(n, i, o, e);
    });
}

function pi(o, t, e, n) {
    He(e).datas[t] = o, He(o).mainData = e, o.dataType = t, n.struct && (o[n.structAttr] = n.struct, 
    n.struct[n.datasAttr[t]] = o), o.getLinkedData = ep, o.getLinkedDataAll = tp;
}

var np = function() {
    function o(t, e) {
        this.depth = 0, this.height = 0, this.dataIndex = -1, this.children = [], 
        this.viewChildren = [], this.isExpand = !1, this.name = t || "", this.hostTree = e;
    }
    return o.prototype.isRemoved = function() {
        return this.dataIndex < 0;
    }, o.prototype.eachNode = function(t, e, n) {
        ve(t) && (n = e, e = t, t = null), ue(t = t || {}) && (t = {
            order: t
        });
        var i, r = t.order || "preorder", a = this[t.attr || "children"];
        r === "preorder" && (i = e.call(n, this));
        for (var s = 0; !i && s < a.length; s++) a[s].eachNode(t, e, n);
        r === "postorder" && e.call(n, this);
    }, o.prototype.updateDepthAndHeight = function(t) {
        var e = 0;
        this.depth = t;
        for (var n = 0; n < this.children.length; n++) {
            var i = this.children[n];
            i.updateDepthAndHeight(t + 1), i.height > e && (e = i.height);
        }
        this.height = e + 1;
    }, o.prototype.getNodeById = function(t) {
        if (this.getId() === t) return this;
        for (var e = 0, n = this.children, i = n.length; e < i; e++) {
            var r = n[e].getNodeById(t);
            if (r) return r;
        }
    }, o.prototype.contains = function(t) {
        if (t === this) return !0;
        for (var e = 0, n = this.children, i = n.length; e < i; e++) {
            var r = n[e].contains(t);
            if (r) return r;
        }
    }, o.prototype.getAncestors = function(t) {
        for (var e = [], n = t ? this : this.parentNode; n; ) e.push(n), n = n.parentNode;
        return e.reverse(), e;
    }, o.prototype.getAncestorsIndices = function() {
        for (var t = [], e = this; e; ) t.push(e.dataIndex), e = e.parentNode;
        return t.reverse(), t;
    }, o.prototype.getDescendantIndices = function() {
        var t = [];
        return this.eachNode(function(e) {
            t.push(e.dataIndex);
        }), t;
    }, o.prototype.getValue = function(t) {
        var e = this.hostTree.data;
        return e.getStore().get(e.getDimensionIndex(t || "value"), this.dataIndex);
    }, o.prototype.setLayout = function(t, e) {
        this.dataIndex >= 0 && this.hostTree.data.setItemLayout(this.dataIndex, t, e);
    }, o.prototype.getLayout = function() {
        return this.hostTree.data.getItemLayout(this.dataIndex);
    }, o.prototype.getModel = function(t) {
        if (!(this.dataIndex < 0)) return this.hostTree.data.getItemModel(this.dataIndex).getModel(t);
    }, o.prototype.getLevelModel = function() {
        return (this.hostTree.levelModels || [])[this.depth];
    }, o.prototype.setVisual = function(t, e) {
        this.dataIndex >= 0 && this.hostTree.data.setItemVisual(this.dataIndex, t, e);
    }, o.prototype.getVisual = function(t) {
        return this.hostTree.data.getItemVisual(this.dataIndex, t);
    }, o.prototype.getRawIndex = function() {
        return this.hostTree.data.getRawIndex(this.dataIndex);
    }, o.prototype.getId = function() {
        return this.hostTree.data.getId(this.dataIndex);
    }, o.prototype.getChildIndex = function() {
        if (this.parentNode) {
            for (var t = this.parentNode.children, e = 0; e < t.length; ++e) if (t[e] === this) return e;
            return -1;
        }
        return -1;
    }, o.prototype.isAncestorOf = function(t) {
        for (var e = t.parentNode; e; ) {
            if (e === this) return !0;
            e = e.parentNode;
        }
        return !1;
    }, o.prototype.isDescendantOf = function(t) {
        return t !== this && t.isAncestorOf(this);
    }, o;
}(), op = function() {
    function o(t) {
        this.type = "tree", this._nodes = [], this.hostModel = t;
    }
    return o.prototype.eachNode = function(t, e, n) {
        this.root.eachNode(t, e, n);
    }, o.prototype.getNodeByDataIndex = function(t) {
        var e = this.data.getRawIndex(t);
        return this._nodes[e];
    }, o.prototype.getNodeById = function(t) {
        return this.root.getNodeById(t);
    }, o.prototype.update = function() {
        for (var t = this.data, e = this._nodes, n = 0, i = e.length; n < i; n++) e[n].dataIndex = -1;
        for (n = 0, i = t.count(); n < i; n++) e[t.getRawIndex(n)].dataIndex = n;
    }, o.prototype.clearLayouts = function() {
        this.data.clearItemLayouts();
    }, o.createTree = function(t, e, n) {
        var i = new o(e), r = [], a = 1;
        (function u(d, h) {
            var c = d.value;
            a = Math.max(a, $(c) ? c.length : 1), r.push(d);
            var g = new np(st(d.name, ""), i);
            h ? function(y, x) {
                var S = x.children;
                y.parentNode !== x && (S.push(y), y.parentNode = x);
            }(g, h) : i.root = g, i._nodes.push(g);
            var p = d.children;
            if (p) for (var f = 0; f < p.length; f++) u(p[f], g);
        })(t), i.root.updateDepthAndHeight(0);
        var s = Ao(r, {
            coordDimensions: [ "value" ],
            dimensionsCount: a
        }).dimensions, l = new ze(s, e);
        return l.initData(r), n && n(l), rs({
            mainData: l,
            struct: i,
            structAttr: "tree"
        }), i.update(), i;
    }, o;
}();

const fi = op;

function fn(o, t, e) {
    if (o && Ne(t, o.type) >= 0) {
        var n = e.getData().tree.root, i = o.targetNode;
        if (ue(i) && (i = n.getNodeById(i)), i && n.contains(i)) return {
            node: i
        };
        var r = o.targetNodeId;
        if (r != null && (i = n.getNodeById(r))) return {
            node: i
        };
    }
}

function ss(o) {
    for (var t = []; o; ) (o = o.parentNode) && t.push(o);
    return t.reverse();
}

function gi(o, t) {
    var e = ss(o);
    return Ne(e, t) >= 0;
}

function Kn(o, t) {
    for (var e = []; o; ) {
        var n = o.dataIndex;
        e.push({
            name: o.name,
            dataIndex: n,
            value: t.getRawValue(n)
        }), o = o.parentNode;
    }
    return e.reverse(), e;
}

var ip = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.hasSymbolVisual = !0, e.ignoreStyleOnData = !0, e;
    }
    return W(t, o), t.prototype.getInitialData = function(e) {
        var n = {
            name: e.name,
            children: e.data
        }, i = e.leaves || {}, r = new ct(i, this, this.ecModel), a = fi.createTree(n, this, function(u) {
            u.wrapMethod("getItemModel", function(d, h) {
                var c = a.getNodeByDataIndex(h);
                return c && c.children.length && c.isExpand || (d.parentModel = r), 
                d;
            });
        }), s = 0;
        a.eachNode("preorder", function(u) {
            u.depth > s && (s = u.depth);
        });
        var l = e.expandAndCollapse && e.initialTreeDepth >= 0 ? e.initialTreeDepth : s;
        return a.root.eachNode("preorder", function(u) {
            var d = u.hostTree.data.getRawDataItem(u.dataIndex);
            u.isExpand = d && d.collapsed != null ? !d.collapsed : u.depth <= l;
        }), a.data;
    }, t.prototype.getOrient = function() {
        var e = this.get("orient");
        return e === "horizontal" ? e = "LR" : e === "vertical" && (e = "TB"), e;
    }, t.prototype.setZoom = function(e) {
        this.option.zoom = e;
    }, t.prototype.setCenter = function(e) {
        this.option.center = e;
    }, t.prototype.formatTooltip = function(e, n, i) {
        for (var r = this.getData().tree, a = r.root.children[0], s = r.getNodeByDataIndex(e), l = s.getValue(), u = s.name; s && s !== a; ) u = s.parentNode.name + "." + u, 
        s = s.parentNode;
        return Ke("nameValue", {
            name: u,
            value: l,
            noValue: isNaN(l) || l == null
        });
    }, t.prototype.getDataParams = function(e) {
        var n = o.prototype.getDataParams.apply(this, arguments), i = this.getData().tree.getNodeByDataIndex(e);
        return n.treeAncestors = Kn(i, this), n.collapsed = !i.isExpand, n;
    }, t.type = "series.tree", t.layoutMode = "box", t.defaultOption = {
        z: 2,
        coordinateSystem: "view",
        left: "12%",
        top: "12%",
        right: "12%",
        bottom: "12%",
        layout: "orthogonal",
        edgeShape: "curve",
        edgeForkPosition: "50%",
        roam: !1,
        nodeScaleRatio: .4,
        center: null,
        zoom: 1,
        orient: "LR",
        symbol: "emptyCircle",
        symbolSize: 7,
        expandAndCollapse: !0,
        initialTreeDepth: 2,
        lineStyle: {
            color: "#ccc",
            width: 1.5,
            curveness: .5
        },
        itemStyle: {
            color: "lightsteelblue",
            borderWidth: 1.5
        },
        label: {
            show: !0
        },
        animationEasing: "linear",
        animationDuration: 700,
        animationDurationUpdate: 500
    }, t;
}(Me);

const rp = ip;

function gn(o, t) {
    for (var e, n = [ o ]; e = n.pop(); ) if (t(e), e.isExpand) {
        var i = e.children;
        if (i.length) for (var r = i.length - 1; r >= 0; r--) n.push(i[r]);
    }
}

function ap(o, t) {
    o.eachSeriesByType("tree", function(e) {
        (function(n, i) {
            var r = function(_, w) {
                return rt(_.getBoxLayoutParams(), {
                    width: w.getWidth(),
                    height: w.getHeight()
                });
            }(n, i);
            n.layoutInfo = r;
            var a = n.get("layout"), s = 0, l = 0, u = null;
            a === "radial" ? (s = 2 * Math.PI, l = Math.min(r.height, r.width) / 2, 
            u = Ja(function(_, w) {
                return (_.parentNode === w.parentNode ? 1 : 2) / _.depth;
            })) : (s = r.width, l = r.height, u = Ja());
            var d = n.getData().tree.root, h = d.children[0];
            if (h) {
                (function(_) {
                    var w = _;
                    w.hierNode = {
                        defaultAncestor: null,
                        ancestor: w,
                        prelim: 0,
                        modifier: 0,
                        change: 0,
                        shift: 0,
                        i: 0,
                        thread: null
                    };
                    for (var I, M, D = [ w ]; I = D.pop(); ) if (M = I.children, 
                    I.isExpand && M.length) for (var L = M.length - 1; L >= 0; L--) {
                        var C = M[L];
                        C.hierNode = {
                            defaultAncestor: null,
                            ancestor: C,
                            prelim: 0,
                            modifier: 0,
                            change: 0,
                            shift: 0,
                            i: L,
                            thread: null
                        }, D.push(C);
                    }
                })(d), function(_, w, I) {
                    for (var M, D = [ _ ], L = []; M = D.pop(); ) if (L.push(M), 
                    M.isExpand) {
                        var C = M.children;
                        if (C.length) for (var A = 0; A < C.length; A++) D.push(C[A]);
                    }
                    for (;M = L.pop(); ) w(M, I);
                }(h, Wc, u), d.hierNode.modifier = -h.hierNode.prelim, gn(h, Hc);
                var c = h, g = h, p = h;
                gn(h, function(_) {
                    var w = _.getLayout().x;
                    w < c.getLayout().x && (c = _), w > g.getLayout().x && (g = _), 
                    _.depth > p.depth && (p = _);
                });
                var f = c === g ? 1 : u(c, g) / 2, y = f - c.getLayout().x, x = 0, S = 0, m = 0, v = 0;
                if (a === "radial") x = s / (g.getLayout().x + f + y), S = l / (p.depth - 1 || 1), 
                gn(h, function(_) {
                    m = (_.getLayout().x + y) * x, v = (_.depth - 1) * S;
                    var w = pn(m, v);
                    _.setLayout({
                        x: w.x,
                        y: w.y,
                        rawX: m,
                        rawY: v
                    }, !0);
                }); else {
                    var b = n.getOrient();
                    b === "RL" || b === "LR" ? (S = l / (g.getLayout().x + f + y), 
                    x = s / (p.depth - 1 || 1), gn(h, function(_) {
                        v = (_.getLayout().x + y) * S, m = b === "LR" ? (_.depth - 1) * x : s - (_.depth - 1) * x, 
                        _.setLayout({
                            x: m,
                            y: v
                        }, !0);
                    })) : b !== "TB" && b !== "BT" || (x = s / (g.getLayout().x + f + y), 
                    S = l / (p.depth - 1 || 1), gn(h, function(_) {
                        m = (_.getLayout().x + y) * x, v = b === "TB" ? (_.depth - 1) * S : l - (_.depth - 1) * S, 
                        _.setLayout({
                            x: m,
                            y: v
                        }, !0);
                    }));
                }
            }
        })(e, t);
    });
}

function sp(o) {
    o.eachSeriesByType("tree", function(t) {
        var e = t.getData();
        e.tree.eachNode(function(n) {
            var i = n.getModel().getModel("itemStyle").getItemStyle(), r = e.ensureUniqueItemVisual(n.dataIndex, "style");
            Q(r, i);
        });
    });
}

var ls = [ "treemapZoomToNode", "treemapRender", "treemapMove" ];

function us(o) {
    var t = o.getData().tree, e = {};
    t.eachNode(function(n) {
        for (var i = n; i && i.depth > 1; ) i = i.parentNode;
        var r = yd(o.ecModel, i.name || i.dataIndex + "", e);
        n.setVisual("decal", r);
    });
}

function ds(o) {
    var t = 0;
    E(o.children, function(n) {
        ds(n);
        var i = n.value;
        $(i) && (i = i[0]), t += i;
    });
    var e = o.value;
    $(e) && (e = e[0]), (e == null || isNaN(e)) && (e = t), e < 0 && (e = 0), $(o.value) ? o.value[0] = e : o.value = e;
}

const lp = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e.preventUsingHoverLayer = !0, e;
    }
    return W(t, o), t.prototype.getInitialData = function(e, n) {
        var i = {
            name: e.name,
            children: e.data
        };
        ds(i);
        var r = e.levels || [], a = this.designatedVisualItemStyle = {}, s = new ct({
            itemStyle: a
        }, this, n);
        r = e.levels = function(d, h) {
            var c, g, p = Ge(h.get("color")), f = Ge(h.get([ "aria", "decal", "decals" ]));
            if (p) {
                d = d || [], E(d, function(x) {
                    var S = new ct(x), m = S.get("color"), v = S.get("decal");
                    (S.get([ "itemStyle", "color" ]) || m && m !== "none") && (c = !0), 
                    (S.get([ "itemStyle", "decal" ]) || v && v !== "none") && (g = !0);
                });
                var y = d[0] || (d[0] = {});
                return c || (y.color = p.slice()), !g && f && (y.decal = f.slice()), 
                d;
            }
        }(r, n);
        var l = K(r || [], function(d) {
            return new ct(d, s, n);
        }, this), u = fi.createTree(i, this, function(d) {
            d.wrapMethod("getItemModel", function(h, c) {
                var g = u.getNodeByDataIndex(c), p = g ? l[g.depth] : null;
                return h.parentModel = p || s, h;
            });
        });
        return u.data;
    }, t.prototype.optionUpdated = function() {
        this.resetViewRoot();
    }, t.prototype.formatTooltip = function(e, n, i) {
        var r = this.getData(), a = this.getRawValue(e), s = r.getName(e);
        return Ke("nameValue", {
            name: s,
            value: a
        });
    }, t.prototype.getDataParams = function(e) {
        var n = o.prototype.getDataParams.apply(this, arguments), i = this.getData().tree.getNodeByDataIndex(e);
        return n.treeAncestors = Kn(i, this), n.treePathInfo = n.treeAncestors, 
        n;
    }, t.prototype.setLayoutInfo = function(e) {
        this.layoutInfo = this.layoutInfo || {}, Q(this.layoutInfo, e);
    }, t.prototype.mapIdToIndex = function(e) {
        var n = this._idIndexMap;
        n || (n = this._idIndexMap = be(), this._idIndexMapCount = 0);
        var i = n.get(e);
        return i == null && n.set(e, i = this._idIndexMapCount++), i;
    }, t.prototype.getViewRoot = function() {
        return this._viewRoot;
    }, t.prototype.resetViewRoot = function(e) {
        e ? this._viewRoot = e : e = this._viewRoot;
        var n = this.getRawData().tree.root;
        e && (e === n || n.contains(e)) || (this._viewRoot = n);
    }, t.prototype.enableAriaDecal = function() {
        us(this);
    }, t.type = "series.treemap", t.layoutMode = "box", t.defaultOption = {
        progressive: 0,
        left: "center",
        top: "middle",
        width: "80%",
        height: "80%",
        sort: !0,
        clipWindow: "origin",
        squareRatio: .5 * (1 + Math.sqrt(5)),
        leafDepth: null,
        drillDownIcon: "",
        zoomToNodeRatio: .1024,
        roam: !0,
        nodeClick: "zoomToNode",
        animation: !0,
        animationDurationUpdate: 900,
        animationEasing: "quinticInOut",
        breadcrumb: {
            show: !0,
            height: 22,
            left: "center",
            top: "bottom",
            emptyItemWidth: 25,
            itemStyle: {
                color: "rgba(0,0,0,0.7)",
                textStyle: {
                    color: "#fff"
                }
            },
            emphasis: {
                itemStyle: {
                    color: "rgba(0,0,0,0.9)"
                }
            }
        },
        label: {
            show: !0,
            distance: 0,
            padding: 5,
            position: "inside",
            color: "#fff",
            overflow: "truncate"
        },
        upperLabel: {
            show: !1,
            position: [ 0, "50%" ],
            height: 20,
            overflow: "truncate",
            verticalAlign: "middle"
        },
        itemStyle: {
            color: null,
            colorAlpha: null,
            colorSaturation: null,
            borderWidth: 0,
            gapWidth: 0,
            borderColor: "#fff",
            borderColorSaturation: null
        },
        emphasis: {
            upperLabel: {
                show: !0,
                position: [ 0, "50%" ],
                overflow: "truncate",
                verticalAlign: "middle"
            }
        },
        visualDimension: 0,
        visualMin: null,
        visualMax: null,
        color: [],
        colorAlpha: null,
        colorSaturation: null,
        colorMappingBy: "index",
        visibleMin: 10,
        childrenVisibleMin: null,
        levels: []
    }, t;
}(Me);

function up(o, t, e, n, i, r) {
    var a = [ [ i ? o : o - 5, t ], [ o + e, t ], [ o + e, t + n ], [ i ? o : o - 5, t + n ] ];
    return !r && a.splice(2, 0, [ o + e + 5, t + n / 2 ]), !i && a.push([ o, t + n / 2 ]), 
    a;
}

function dp(o, t, e) {
    me(o).eventData = {
        componentType: "series",
        componentSubType: "treemap",
        componentIndex: t.componentIndex,
        seriesIndex: t.seriesIndex,
        seriesName: t.name,
        seriesType: "treemap",
        selfType: "breadcrumb",
        nodeData: {
            dataIndex: e && e.dataIndex,
            name: e && e.name
        },
        treePathInfo: e && Kn(e, t)
    };
}

const hp = function() {
    function o(t) {
        this.group = new de(), t.add(this.group);
    }
    return o.prototype.render = function(t, e, n, i) {
        var r = t.getModel("breadcrumb"), a = this.group;
        if (a.removeAll(), r.get("show") && n) {
            var s = r.getModel("itemStyle"), l = r.getModel("emphasis"), u = s.getModel("textStyle"), d = l.getModel([ "itemStyle", "textStyle" ]), h = {
                pos: {
                    left: r.get("left"),
                    right: r.get("right"),
                    top: r.get("top"),
                    bottom: r.get("bottom")
                },
                box: {
                    width: e.getWidth(),
                    height: e.getHeight()
                },
                emptyItemWidth: r.get("emptyItemWidth"),
                totalWidth: 0,
                renderList: []
            };
            this._prepare(n, h, u), this._renderContent(t, h, s, l, u, d, i), Wr(a, h.pos, h.box);
        }
    }, o.prototype._prepare = function(t, e, n) {
        for (var i = t; i; i = i.parentNode) {
            var r = st(i.getModel().get("name"), ""), a = n.getTextRect(r), s = Math.max(a.width + 16, e.emptyItemWidth);
            e.totalWidth += s + 8, e.renderList.push({
                node: i,
                text: r,
                width: s
            });
        }
    }, o.prototype._renderContent = function(t, e, n, i, r, a, s) {
        for (var l = 0, u = e.emptyItemWidth, d = t.get([ "breadcrumb", "height" ]), h = vd(e.pos, e.box), c = e.totalWidth, g = e.renderList, p = i.getModel("itemStyle").getItemStyle(), f = g.length - 1; f >= 0; f--) {
            var y = g[f], x = y.node, S = y.width, m = y.text;
            c > h.width && (c -= S - u, S = u, m = null);
            var v = new zt({
                shape: {
                    points: up(l, 0, S, d, f === g.length - 1, f === 0)
                },
                style: we(n.getItemStyle(), {
                    lineJoin: "bevel"
                }),
                textContent: new Fe({
                    style: We(r, {
                        text: m
                    })
                }),
                textConfig: {
                    position: "inside"
                },
                z2: 1e4 * kn,
                onclick: he(s, x)
            });
            v.disableLabelAnimation = !0, v.getTextContent().ensureState("emphasis").style = We(a, {
                text: m
            }), v.ensureState("emphasis").style = p, Pe(v, i.get("focus"), i.get("blurScope"), i.get("disabled")), 
            this.group.add(v), dp(v, t, x), l += S + 8;
        }
    }, o.prototype.remove = function() {
        this.group.removeAll();
    }, o;
}();

var cp = function() {
    function o() {
        this._storage = [], this._elExistsMap = {};
    }
    return o.prototype.add = function(t, e, n, i, r) {
        return !this._elExistsMap[t.id] && (this._elExistsMap[t.id] = !0, this._storage.push({
            el: t,
            target: e,
            duration: n,
            delay: i,
            easing: r
        }), !0);
    }, o.prototype.finished = function(t) {
        return this._finishedCallback = t, this;
    }, o.prototype.start = function() {
        for (var t = this, e = this._storage.length, n = function() {
            --e <= 0 && (t._storage.length = 0, t._elExistsMap = {}, t._finishedCallback && t._finishedCallback());
        }, i = 0, r = this._storage.length; i < r; i++) {
            var a = this._storage[i];
            a.el.animateTo(a.target, {
                duration: a.duration,
                delay: a.delay,
                easing: a.easing,
                setToFinal: !0,
                done: n,
                aborted: n
            });
        }
        return this;
    }, o;
}(), yi = de, hs = Re, cs = "label", ps = "upperLabel", pp = 10 * kn, fp = 2 * kn, gp = 3 * kn, Lt = md([ [ "fill", "color" ], [ "stroke", "strokeColor" ], [ "lineWidth", "strokeWidth" ], [ "shadowBlur" ], [ "shadowOffsetX" ], [ "shadowOffsetY" ], [ "shadowColor" ] ]), fs = function(o) {
    var t = Lt(o);
    return t.stroke = t.fill = t.lineWidth = null, t;
}, $n = Te(), yp = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e._state = "ready", e._storage = {
            nodeGroup: [],
            background: [],
            content: []
        }, e;
    }
    return W(t, o), t.prototype.render = function(e, n, i, r) {
        var a = n.findComponents({
            mainType: "series",
            subType: "treemap",
            query: r
        });
        if (!(Ne(a, e) < 0)) {
            this.seriesModel = e, this.api = i, this.ecModel = n;
            var s = fn(r, [ "treemapZoomToNode", "treemapRootToNode" ], e), l = r && r.type, u = e.layoutInfo, d = !this._oldTree, h = this._storage, c = l === "treemapRootToNode" && s && h ? {
                rootNodeGroup: h.nodeGroup[s.node.getRawIndex()],
                direction: r.direction
            } : null, g = this._giveContainerGroup(u), p = e.get("animation"), f = this._doRender(g, e, c);
            !p || d || l && l !== "treemapZoomToNode" && l !== "treemapRootToNode" ? f.renderFinally() : this._doAnimation(g, f, e, c), 
            this._resetController(i), this._renderBreadcrumb(e, i, s);
        }
    }, t.prototype._giveContainerGroup = function(e) {
        var n = this._containerGroup;
        return n || (n = this._containerGroup = new yi(), this._initEvents(n), this.group.add(n)), 
        n.x = e.x, n.y = e.y, n;
    }, t.prototype._doRender = function(e, n, i) {
        var r = n.getData().tree, a = this._oldTree, s = {
            nodeGroup: [],
            background: [],
            content: []
        }, l = {
            nodeGroup: [],
            background: [],
            content: []
        }, u = this._storage, d = [];
        function h(g, p, f, y) {
            return function(x, S, m, v, b, _, w, I, M, D) {
                if (!w) return;
                var L = w.getLayout(), C = x.getData(), A = w.getModel();
                if (C.setItemGraphicEl(w.dataIndex, null), !L || !L.isInView) return;
                var T = L.width, V = L.height, N = L.borderWidth, k = L.invisible, P = w.getRawIndex(), R = I && I.getRawIndex(), z = w.viewChildren, B = L.upperHeight, G = z && z.length, U = A.getModel("itemStyle"), O = A.getModel([ "emphasis", "itemStyle" ]), F = A.getModel([ "blur", "itemStyle" ]), j = A.getModel([ "select", "itemStyle" ]), Y = U.get("borderRadius") || 0, H = wo("nodeGroup", yi);
                if (!H) return;
                if (M.add(H), H.x = L.x || 0, H.y = L.y || 0, H.markRedraw(), $n(H).nodeWidth = T, 
                $n(H).nodeHeight = V, L.isAboveViewRoot) return H;
                var X = wo("background", hs, D, fp);
                X && le(H, X, G && L.upperLabelHeight);
                var q = A.getModel("emphasis"), J = q.get("focus"), ie = q.get("blurScope"), Ce = q.get("disabled"), Xe = J === "ancestor" ? w.getAncestorsIndices() : J === "descendant" ? w.getDescendantIndices() : J;
                if (G) Yr(H) && En(H, !1), X && (En(X, !Ce), C.setItemGraphicEl(w.dataIndex, X), 
                Xr(X, Xe, ie)); else {
                    var Ve = wo("content", hs, D, gp);
                    Ve && ae(H, Ve), X.disableMorphing = !0, X && Yr(X) && En(X, !1), 
                    En(H, !Ce), C.setItemGraphicEl(w.dataIndex, H), Xr(H, Xe, ie);
                }
                return H;
                function le(re, te, ge) {
                    var se = me(te);
                    if (se.dataIndex = w.dataIndex, se.seriesIndex = x.seriesIndex, 
                    te.setShape({
                        x: 0,
                        y: 0,
                        width: T,
                        height: V,
                        r: Y
                    }), k) pe(te); else {
                        te.invisible = !1;
                        var ye = w.getVisual("style"), Le = ye.stroke, Ee = fs(U);
                        Ee.fill = Le;
                        var fe = Lt(O);
                        fe.fill = O.get("borderColor");
                        var Ue = Lt(F);
                        Ue.fill = F.get("borderColor");
                        var ot = Lt(j);
                        if (ot.fill = j.get("borderColor"), ge) {
                            var kt = T - 2 * N;
                            Be(te, Le, ye.opacity, {
                                x: N,
                                y: 0,
                                width: kt,
                                height: B
                            });
                        } else te.removeTextContent();
                        te.setStyle(Ee), te.ensureState("emphasis").style = fe, 
                        te.ensureState("blur").style = Ue, te.ensureState("select").style = ot, 
                        Pn(te);
                    }
                    re.add(te);
                }
                function ae(re, te) {
                    var ge = me(te);
                    ge.dataIndex = w.dataIndex, ge.seriesIndex = x.seriesIndex;
                    var se = Math.max(T - 2 * N, 0), ye = Math.max(V - 2 * N, 0);
                    if (te.culling = !0, te.setShape({
                        x: N,
                        y: N,
                        width: se,
                        height: ye,
                        r: Y
                    }), k) pe(te); else {
                        te.invisible = !1;
                        var Le = w.getVisual("style"), Ee = Le.fill, fe = fs(U);
                        fe.fill = Ee, fe.decal = Le.decal;
                        var Ue = Lt(O), ot = Lt(F), kt = Lt(j);
                        Be(te, Ee, Le.opacity, null), te.setStyle(fe), te.ensureState("emphasis").style = Ue, 
                        te.ensureState("blur").style = ot, te.ensureState("select").style = kt, 
                        Pn(te);
                    }
                    re.add(te);
                }
                function pe(re) {
                    !re.invisible && _.push(re);
                }
                function Be(re, te, ge, se) {
                    var ye = A.getModel(se ? ps : cs), Le = st(A.get("name"), null), Ee = ye.getShallow("show");
                    pt(re, $e(A, se ? ps : cs), {
                        defaultText: Ee ? Le : null,
                        inheritColor: te,
                        defaultOpacity: ge,
                        labelFetcher: x,
                        labelDataIndex: w.dataIndex
                    });
                    var fe = re.getTextContent();
                    if (fe) {
                        var Ue = fe.style, ot = _d(Ue.padding || 0);
                        se && (re.setTextConfig({
                            layoutRect: se
                        }), fe.disableLabelLayout = !0), fe.beforeUpdate = function() {
                            var Lr = Math.max((se ? se.width : re.shape.width) - ot[1] - ot[3], 0), Ar = Math.max((se ? se.height : re.shape.height) - ot[0] - ot[2], 0);
                            Ue.width === Lr && Ue.height === Ar || fe.setStyle({
                                width: Lr,
                                height: Ar
                            });
                        }, Ue.truncateMinChar = 2, Ue.lineOverflow = "truncate", 
                        nt(Ue, se, L);
                        var kt = fe.getState("emphasis");
                        nt(kt ? kt.style : null, se, L);
                    }
                }
                function nt(re, te, ge) {
                    var se = re ? re.text : null;
                    if (!te && ge.isLeafRoot && se != null) {
                        var ye = x.get("drillDownIcon", !0);
                        re.text = ye ? ye + " " + se : se;
                    }
                }
                function wo(re, te, ge, se) {
                    var ye = R != null && m[re][R], Le = b[re];
                    return ye ? (m[re][R] = null, Fu(Le, ye)) : k || ((ye = new te()) instanceof en && (ye.z2 = function(Ee, fe) {
                        return Ee * pp + fe;
                    }(ge, se)), Wu(Le, ye)), S[re][P] = ye;
                }
                function Fu(re, te) {
                    var ge = re[P] = {};
                    te instanceof yi ? (ge.oldX = te.x, ge.oldY = te.y) : ge.oldShape = Q({}, te.shape);
                }
                function Wu(re, te) {
                    var ge = re[P] = {}, se = w.parentNode, ye = te instanceof de;
                    if (se && (!v || v.direction === "drillDown")) {
                        var Le = 0, Ee = 0, fe = b.background[se.getRawIndex()];
                        !v && fe && fe.oldShape && (Le = fe.oldShape.width, Ee = fe.oldShape.height), 
                        ye ? (ge.oldX = 0, ge.oldY = Ee) : ge.oldShape = {
                            x: Le,
                            y: Ee,
                            width: 0,
                            height: 0
                        };
                    }
                    ge.fadein = !ye;
                }
            }(n, l, u, i, s, d, g, p, f, y);
        }
        (function g(p, f, y, x, S) {
            x ? (f = p, E(p, function(b, _) {
                !b.isRemoved() && v(_, _);
            })) : new Rt(f, p, m, m).add(v).update(v).remove(he(v, null)).execute();
            function m(b) {
                return b.getId();
            }
            function v(b, _) {
                var w = b != null ? p[b] : null, I = _ != null ? f[_] : null, M = h(w, I, y, S);
                M && g(w && w.viewChildren || [], I && I.viewChildren || [], M, x, S + 1);
            }
        })(r.root ? [ r.root ] : [], a && a.root ? [ a.root ] : [], e, r === a || !a, 0);
        var c = function(g) {
            var p = {
                nodeGroup: [],
                background: [],
                content: []
            };
            return g && E(g, function(f, y) {
                var x = p[y];
                E(f, function(S) {
                    S && (x.push(S), $n(S).willDelete = !0);
                });
            }), p;
        }(u);
        return this._oldTree = r, this._storage = l, {
            lastsForAnimation: s,
            willDeleteEls: c,
            renderFinally: function() {
                E(c, function(g) {
                    E(g, function(p) {
                        p.parent && p.parent.remove(p);
                    });
                }), E(d, function(g) {
                    g.invisible = !0, g.dirty();
                });
            }
        };
    }, t.prototype._doAnimation = function(e, n, i, r) {
        var a = i.get("animationDurationUpdate"), s = i.get("animationEasing"), l = (ve(a) ? 0 : a) || 0, u = (ve(s) ? null : s) || "cubicOut", d = new cp();
        E(n.willDeleteEls, function(h, c) {
            E(h, function(g, p) {
                if (!g.invisible) {
                    var f, y = g.parent, x = $n(y);
                    if (r && r.direction === "drillDown") f = y === r.rootNodeGroup ? {
                        shape: {
                            x: 0,
                            y: 0,
                            width: x.nodeWidth,
                            height: x.nodeHeight
                        },
                        style: {
                            opacity: 0
                        }
                    } : {
                        style: {
                            opacity: 0
                        }
                    }; else {
                        var S = 0, m = 0;
                        x.willDelete || (S = x.nodeWidth / 2, m = x.nodeHeight / 2), 
                        f = c === "nodeGroup" ? {
                            x: S,
                            y: m,
                            style: {
                                opacity: 0
                            }
                        } : {
                            shape: {
                                x: S,
                                y: m,
                                width: 0,
                                height: 0
                            },
                            style: {
                                opacity: 0
                            }
                        };
                    }
                    f && d.add(g, f, l, 0, u);
                }
            });
        }), E(this._storage, function(h, c) {
            E(h, function(g, p) {
                var f = n.lastsForAnimation[c][p], y = {};
                f && (g instanceof de ? f.oldX != null && (y.x = g.x, y.y = g.y, 
                g.x = f.oldX, g.y = f.oldY) : (f.oldShape && (y.shape = Q({}, g.shape), 
                g.setShape(f.oldShape)), f.fadein ? (g.setStyle("opacity", 0), y.style = {
                    opacity: 1
                }) : g.style.opacity !== 1 && (y.style = {
                    opacity: 1
                })), d.add(g, y, l, 0, u));
            });
        }, this), this._state = "animating", d.finished(ee(function() {
            this._state = "ready", n.renderFinally();
        }, this)).start();
    }, t.prototype._resetController = function(e) {
        var n = this._controller;
        n || ((n = this._controller = new Tn(e.getZr())).enable(this.seriesModel.get("roam")), 
        n.on("pan", ee(this._onPan, this)), n.on("zoom", ee(this._onZoom, this)));
        var i = new qe(0, 0, e.getWidth(), e.getHeight());
        n.setPointerChecker(function(r, a, s) {
            return i.contain(a, s);
        });
    }, t.prototype._clearController = function() {
        var e = this._controller;
        e && (e.dispose(), e = null);
    }, t.prototype._onPan = function(e) {
        if (this._state !== "animating" && (Math.abs(e.dx) > 3 || Math.abs(e.dy) > 3)) {
            var n = this.seriesModel.getData().tree.root;
            if (!n) return;
            var i = n.getLayout();
            if (!i) return;
            this.api.dispatchAction({
                type: "treemapMove",
                from: this.uid,
                seriesId: this.seriesModel.id,
                rootRect: {
                    x: i.x + e.dx,
                    y: i.y + e.dy,
                    width: i.width,
                    height: i.height
                }
            });
        }
    }, t.prototype._onZoom = function(e) {
        var n = e.originX, i = e.originY;
        if (this._state !== "animating") {
            var r = this.seriesModel.getData().tree.root;
            if (!r) return;
            var a = r.getLayout();
            if (!a) return;
            var s = new qe(a.x, a.y, a.width, a.height), l = this.seriesModel.layoutInfo;
            n -= l.x, i -= l.y;
            var u = Zr();
            Vn(u, u, [ -n, -i ]), xd(u, u, [ e.scale, e.scale ]), Vn(u, u, [ n, i ]), 
            s.applyTransform(u), this.api.dispatchAction({
                type: "treemapRender",
                from: this.uid,
                seriesId: this.seriesModel.id,
                rootRect: {
                    x: s.x,
                    y: s.y,
                    width: s.width,
                    height: s.height
                }
            });
        }
    }, t.prototype._initEvents = function(e) {
        var n = this;
        e.on("click", function(i) {
            if (n._state === "ready") {
                var r = n.seriesModel.get("nodeClick", !0);
                if (r) {
                    var a = n.findTarget(i.offsetX, i.offsetY);
                    if (a) {
                        var s = a.node;
                        if (s.getLayout().isLeafRoot) n._rootToNode(a); else if (r === "zoomToNode") n._zoomToNode(a); else if (r === "link") {
                            var l = s.hostTree.data.getItemModel(s.dataIndex), u = l.get("link", !0), d = l.get("target", !0) || "blank";
                            u && Hr(u, d);
                        }
                    }
                }
            }
        }, this);
    }, t.prototype._renderBreadcrumb = function(e, n, i) {
        var r = this;
        i || (i = e.get("leafDepth", !0) != null ? {
            node: e.getViewRoot()
        } : this.findTarget(n.getWidth() / 2, n.getHeight() / 2)) || (i = {
            node: e.getData().tree.root
        }), (this._breadcrumb || (this._breadcrumb = new hp(this.group))).render(e, n, i.node, function(a) {
            r._state !== "animating" && (gi(e.getViewRoot(), a) ? r._rootToNode({
                node: a
            }) : r._zoomToNode({
                node: a
            }));
        });
    }, t.prototype.remove = function() {
        this._clearController(), this._containerGroup && this._containerGroup.removeAll(), 
        this._storage = {
            nodeGroup: [],
            background: [],
            content: []
        }, this._state = "ready", this._breadcrumb && this._breadcrumb.remove();
    }, t.prototype.dispose = function() {
        this._clearController();
    }, t.prototype._zoomToNode = function(e) {
        this.api.dispatchAction({
            type: "treemapZoomToNode",
            from: this.uid,
            seriesId: this.seriesModel.id,
            targetNode: e.node
        });
    }, t.prototype._rootToNode = function(e) {
        this.api.dispatchAction({
            type: "treemapRootToNode",
            from: this.uid,
            seriesId: this.seriesModel.id,
            targetNode: e.node
        });
    }, t.prototype.findTarget = function(e, n) {
        var i;
        return this.seriesModel.getViewRoot().eachNode({
            attr: "viewChildren",
            order: "preorder"
        }, function(r) {
            var a = this._storage.background[r.getRawIndex()];
            if (a) {
                var s = a.transformCoordToLocal(e, n), l = a.shape;
                if (!(l.x <= s[0] && s[0] <= l.x + l.width && l.y <= s[1] && s[1] <= l.y + l.height)) return !1;
                i = {
                    node: r,
                    offsetX: s[0],
                    offsetY: s[1]
                };
            }
        }, this), i;
    }, t.type = "treemap", t;
}(De);

const vp = yp;

var gs = Te();

const mp = {
    seriesType: "treemap",
    reset: function(o) {
        var t = o.getData().tree.root;
        t.isRemoved() || ys(t, {}, o.getViewRoot().getAncestors(), o);
    }
};

function ys(o, t, e, n) {
    var i = o.getModel(), r = o.getLayout(), a = o.hostTree.data;
    if (r && !r.invisible && r.isInView) {
        var s, l = i.getModel("itemStyle"), u = function(f, y, x) {
            var S = Q({}, y), m = x.designatedVisualItemStyle;
            return E([ "color", "colorAlpha", "colorSaturation" ], function(v) {
                m[v] = y[v];
                var b = f.get(v);
                m[v] = null, b != null && (S[v] = b);
            }), S;
        }(l, t, n), d = a.ensureUniqueItemVisual(o.dataIndex, "style"), h = l.get("borderColor"), c = l.get("borderColorSaturation");
        c != null && (h = function(f, y) {
            return y != null ? Ur(y, null, null, f) : null;
        }(c, s = vs(u))), d.stroke = h;
        var g = o.viewChildren;
        if (g && g.length) {
            var p = function(f, y, x, S, m, v) {
                if (!(!v || !v.length)) {
                    var b = mi(y, "color") || m.color != null && m.color !== "none" && (mi(y, "colorAlpha") || mi(y, "colorSaturation"));
                    if (b) {
                        var _ = y.get("visualMin"), w = y.get("visualMax"), I = x.dataExtent.slice();
                        _ != null && _ < I[0] && (I[0] = _), w != null && w > I[1] && (I[1] = w);
                        var M = y.get("colorMappingBy"), D = {
                            type: b.name,
                            dataExtent: I,
                            visual: b.range
                        };
                        D.type !== "color" || M !== "index" && M !== "id" ? D.mappingMethod = "linear" : (D.mappingMethod = "category", 
                        D.loop = !0);
                        var L = new jr(D);
                        return gs(L).drColorMappingBy = M, L;
                    }
                }
            }(0, i, r, 0, u, g);
            E(g, function(f, y) {
                if (f.depth >= e.length || f === e[f.depth]) {
                    var x = function(S, m, v, b, _, w) {
                        var I = Q({}, m);
                        if (_) {
                            var M = _.type, D = M === "color" && gs(_).drColorMappingBy, L = D === "index" ? b : D === "id" ? w.mapIdToIndex(v.getId()) : v.getValue(S.get("visualDimension"));
                            I[M] = _.mapValueToVisual(L);
                        }
                        return I;
                    }(i, u, f, y, p, n);
                    ys(f, x, e, n);
                }
            });
        } else s = vs(u), d.fill = s;
    }
}

function vs(o) {
    var t = vi(o, "color");
    if (t) {
        var e = vi(o, "colorAlpha"), n = vi(o, "colorSaturation");
        return n && (t = Ur(t, null, null, n)), e && (t = To(t, e)), t;
    }
}

function vi(o, t) {
    var e = o[t];
    if (e != null && e !== "none") return e;
}

function mi(o, t) {
    var e = o.get(t);
    return $(e) && e.length ? {
        name: t,
        range: e
    } : null;
}

var yn = Math.max, Qn = Math.min, ms = Qe, xi = E, xs = [ "itemStyle", "borderWidth" ], xp = [ "itemStyle", "gapWidth" ], _p = [ "upperLabel", "show" ], bp = [ "upperLabel", "height" ];

const Sp = {
    seriesType: "treemap",
    reset: function(o, t, e, n) {
        var i = e.getWidth(), r = e.getHeight(), a = o.option, s = rt(o.getBoxLayoutParams(), {
            width: e.getWidth(),
            height: e.getHeight()
        }), l = a.size || [], u = oe(ms(s.width, l[0]), i), d = oe(ms(s.height, l[1]), r), h = n && n.type, c = fn(n, [ "treemapZoomToNode", "treemapRootToNode" ], o), g = h === "treemapRender" || h === "treemapMove" ? n.rootRect : null, p = o.getViewRoot(), f = ss(p);
        if (h !== "treemapMove") {
            var y = h === "treemapZoomToNode" ? function(b, _, w, I, M) {
                var D, L = (_ || {}).node, C = [ I, M ];
                if (!L || L === w) return C;
                for (var A = I * M, T = A * b.option.zoomToNodeRatio; D = L.parentNode; ) {
                    for (var V = 0, N = D.children, k = 0, P = N.length; k < P; k++) V += N[k].getValue();
                    var R = L.getValue();
                    if (R === 0) return C;
                    T *= V / R;
                    var z = D.getModel(), B = z.get(xs);
                    (T += 4 * B * B + (3 * B + Math.max(B, ws(z))) * Math.pow(T, .5)) > qr && (T = qr), 
                    L = D;
                }
                T < A && (T = A);
                var G = Math.pow(T / A, .5);
                return [ I * G, M * G ];
            }(o, c, p, u, d) : g ? [ g.width, g.height ] : [ u, d ], x = a.sort;
            x && x !== "asc" && x !== "desc" && (x = "desc");
            var S = {
                squareRatio: a.squareRatio,
                sort: x,
                leafDepth: a.leafDepth
            };
            p.hostTree.clearLayouts();
            var m = {
                x: 0,
                y: 0,
                width: y[0],
                height: y[1],
                area: y[0] * y[1]
            };
            p.setLayout(m), _s(p, S, !1, 0), m = p.getLayout(), xi(f, function(b, _) {
                var w = (f[_ + 1] || p).getValue();
                b.setLayout(Q({
                    dataExtent: [ w, w ],
                    borderWidth: 0,
                    upperHeight: 0
                }, m));
            });
        }
        var v = o.getData().tree.root;
        v.setLayout(function(b, _, w) {
            if (_) return {
                x: _.x,
                y: _.y
            };
            var I = {
                x: 0,
                y: 0
            };
            if (!w) return I;
            var M = w.node, D = M.getLayout();
            if (!D) return I;
            for (var L = [ D.width / 2, D.height / 2 ], C = M; C; ) {
                var A = C.getLayout();
                L[0] += A.x, L[1] += A.y, C = C.parentNode;
            }
            return {
                x: b.width / 2 - L[0],
                y: b.height / 2 - L[1]
            };
        }(s, g, c), !0), o.setLayoutInfo(s), Ss(v, new qe(-s.x, -s.y, i, r), f, p, 0);
    }
};

function _s(o, t, e, n) {
    var i, r;
    if (!o.isRemoved()) {
        var a = o.getLayout();
        i = a.width, r = a.height;
        var s = o.getModel(), l = s.get(xs), u = s.get(xp) / 2, d = ws(s), h = Math.max(l, d), c = l - u, g = h - u;
        o.setLayout({
            borderWidth: l,
            upperHeight: h,
            upperLabelHeight: d
        }, !0);
        var p = (i = yn(i - 2 * c, 0)) * (r = yn(r - c - g, 0)), f = function(M, D, L, C, A, T) {
            var V = M.children || [], N = C.sort;
            N !== "asc" && N !== "desc" && (N = null);
            var k = C.leafDepth != null && C.leafDepth <= T;
            if (A && !k) return M.viewChildren = [];
            V = je(V, function(G) {
                return !G.isRemoved();
            }), function(G, U) {
                U && G.sort(function(O, F) {
                    var j = U === "asc" ? O.getValue() - F.getValue() : F.getValue() - O.getValue();
                    return j === 0 ? U === "asc" ? O.dataIndex - F.dataIndex : F.dataIndex - O.dataIndex : j;
                });
            }(V, N);
            var P = function(G, U, O) {
                for (var F = 0, j = 0, Y = U.length; j < Y; j++) F += U[j].getValue();
                var H, X = G.get("visualDimension");
                return U && U.length ? X === "value" && O ? (H = [ U[U.length - 1].getValue(), U[0].getValue() ], 
                O === "asc" && H.reverse()) : (H = [ 1 / 0, -1 / 0 ], xi(U, function(q) {
                    var J = q.getValue(X);
                    J < H[0] && (H[0] = J), J > H[1] && (H[1] = J);
                })) : H = [ NaN, NaN ], {
                    sum: F,
                    dataExtent: H
                };
            }(D, V, N);
            if (P.sum === 0) return M.viewChildren = [];
            if (P.sum = function(G, U, O, F, j) {
                if (!F) return O;
                for (var Y = G.get("visibleMin"), H = j.length, X = H, q = H - 1; q >= 0; q--) {
                    var J = j[F === "asc" ? H - q - 1 : q].getValue();
                    J / O * U < Y && (X = q, O -= J);
                }
                return F === "asc" ? j.splice(0, H - X) : j.splice(X, H - X), O;
            }(D, L, P.sum, N, V), P.sum === 0) return M.viewChildren = [];
            for (var R = 0, z = V.length; R < z; R++) {
                var B = V[R].getValue() / P.sum * L;
                V[R].setLayout({
                    area: B
                });
            }
            return k && (V.length && M.setLayout({
                isLeafRoot: !0
            }, !0), V.length = 0), M.viewChildren = V, M.setLayout({
                dataExtent: P.dataExtent
            }, !0), V;
        }(o, s, p, t, e, n);
        if (f.length) {
            var y = {
                x: c,
                y: g,
                width: i,
                height: r
            }, x = Qn(i, r), S = 1 / 0, m = [];
            m.area = 0;
            for (var v = 0, b = f.length; v < b; ) {
                var _ = f[v];
                m.push(_), m.area += _.getLayout().area;
                var w = wp(m, x, t.squareRatio);
                w <= S ? (v++, S = w) : (m.area -= m.pop().getLayout().area, bs(m, x, y, u, !1), 
                x = Qn(y.width, y.height), m.length = m.area = 0, S = 1 / 0);
            }
            if (m.length && bs(m, x, y, u, !0), !e) {
                var I = s.get("childrenVisibleMin");
                I != null && p < I && (e = !0);
            }
            for (v = 0, b = f.length; v < b; v++) _s(f[v], t, e, n + 1);
        }
    }
}

function wp(o, t, e) {
    for (var n = 0, i = 1 / 0, r = 0, a = void 0, s = o.length; r < s; r++) (a = o[r].getLayout().area) && (a < i && (i = a), 
    a > n && (n = a));
    var l = o.area * o.area, u = t * t * e;
    return l ? yn(u * n / l, l / (u * i)) : 1 / 0;
}

function bs(o, t, e, n, i) {
    var r = t === e.width ? 0 : 1, a = 1 - r, s = [ "x", "y" ], l = [ "width", "height" ], u = e[s[r]], d = t ? o.area / t : 0;
    (i || d > e[l[a]]) && (d = e[l[a]]);
    for (var h = 0, c = o.length; h < c; h++) {
        var g = o[h], p = {}, f = d ? g.getLayout().area / d : 0, y = p[l[a]] = yn(d - 2 * n, 0), x = e[s[r]] + e[l[r]] - u, S = h === c - 1 || x < f ? x : f, m = p[l[r]] = yn(S - 2 * n, 0);
        p[s[a]] = e[s[a]] + Qn(n, y / 2), p[s[r]] = u + Qn(n, m / 2), u += S, g.setLayout(p, !0);
    }
    e[s[a]] += d, e[l[a]] -= d;
}

function Ss(o, t, e, n, i) {
    var r = o.getLayout(), a = e[i], s = a && a === o;
    if (!(a && !s || i === e.length && o !== n)) {
        o.setLayout({
            isInView: !0,
            invisible: !s && !t.intersect(r),
            isAboveViewRoot: s
        }, !0);
        var l = new qe(t.x - r.x, t.y - r.y, t.width, t.height);
        xi(o.viewChildren || [], function(u) {
            Ss(u, l, e, n, i + 1);
        });
    }
}

function ws(o) {
    return o.get(_p) ? o.get(bp) : 0;
}

function Ip(o) {
    var t = o.findComponents({
        mainType: "legend"
    });
    t && t.length && o.eachSeriesByType("graph", function(e) {
        var n = e.getCategoriesData(), i = e.getGraph().data, r = n.mapArray(n.getName);
        i.filterSelf(function(a) {
            var s = i.getItemModel(a).getShallow("category");
            if (s != null) {
                it(s) && (s = r[s]);
                for (var l = 0; l < t.length; l++) if (!t[l].isSelected(s)) return !1;
            }
            return !0;
        });
    });
}

function Mp(o) {
    var t = {};
    o.eachSeriesByType("graph", function(e) {
        var n = e.getCategoriesData(), i = e.getData(), r = {};
        n.each(function(a) {
            var s = n.getName(a);
            r["ec-" + s] = a;
            var l = n.getItemModel(a), u = l.getModel("itemStyle").getItemStyle();
            u.fill || (u.fill = e.getColorFromPalette(s, t)), n.setItemVisual(a, "style", u);
            for (var d = [ "symbol", "symbolSize", "symbolKeepAspect" ], h = 0; h < d.length; h++) {
                var c = l.getShallow(d[h], !0);
                c != null && n.setItemVisual(a, d[h], c);
            }
        }), n.count() && i.each(function(a) {
            var s = i.getItemModel(a).getShallow("category");
            if (s != null) {
                ue(s) && (s = r["ec-" + s]);
                var l = n.getItemVisual(s, "style"), u = i.ensureUniqueItemVisual(a, "style");
                Q(u, l);
                for (var d = [ "symbol", "symbolSize", "symbolKeepAspect" ], h = 0; h < d.length; h++) i.setItemVisual(a, d[h], n.getItemVisual(s, d[h]));
            }
        });
    });
}

function Jn(o) {
    return o instanceof Array || (o = [ o, o ]), o;
}

function Dp(o) {
    o.eachSeriesByType("graph", function(t) {
        var e = t.getGraph(), n = t.getEdgeData(), i = Jn(t.get("edgeSymbol")), r = Jn(t.get("edgeSymbolSize"));
        n.setVisual("fromSymbol", i && i[0]), n.setVisual("toSymbol", i && i[1]), 
        n.setVisual("fromSymbolSize", r && r[0]), n.setVisual("toSymbolSize", r && r[1]), 
        n.setVisual("style", t.getModel("lineStyle").getLineStyle()), n.each(function(a) {
            var s = n.getItemModel(a), l = e.getEdgeByIndex(a), u = Jn(s.getShallow("symbol", !0)), d = Jn(s.getShallow("symbolSize", !0)), h = s.getModel("lineStyle").getLineStyle(), c = n.ensureUniqueItemVisual(a, "style");
            switch (Q(c, h), c.stroke) {
              case "source":
                var g = l.node1.getVisual("style");
                c.stroke = g && g.fill;
                break;

              case "target":
                g = l.node2.getVisual("style"), c.stroke = g && g.fill;
            }
            u[0] && l.setVisual("fromSymbol", u[0]), u[1] && l.setVisual("toSymbol", u[1]), 
            d[0] && l.setVisual("fromSymbolSize", d[0]), d[1] && l.setVisual("toSymbolSize", d[1]);
        });
    });
}

var _i = "--\x3e", eo = function(o) {
    return o.get("autoCurveness") || null;
}, Is = function(o, t) {
    var e = eo(o), n = 20, i = [];
    if (it(e)) n = e; else if ($(e)) return void (o.__curvenessList = e);
    t > n && (n = t);
    var r = n % 2 ? n + 2 : n + 3;
    i = [];
    for (var a = 0; a < r; a++) i.push((a % 2 ? a + 1 : a) / 10 * (a % 2 ? -1 : 1));
    o.__curvenessList = i;
}, vn = function(o, t, e) {
    var n = [ o.id, o.dataIndex ].join("."), i = [ t.id, t.dataIndex ].join(".");
    return [ e.uid, n, i ].join(_i);
}, Ms = function(o) {
    var t = o.split(_i);
    return [ t[0], t[2], t[1] ].join(_i);
}, Cp = function(o, t) {
    var e = vn(o.node1, o.node2, t);
    return t.__edgeMap[e];
}, Lp = function(o, t) {
    return bi(vn(o.node1, o.node2, t), t) + bi(vn(o.node2, o.node1, t), t);
}, bi = function(o, t) {
    var e = t.__edgeMap;
    return e[o] ? e[o].length : 0;
};

function Si(o, t, e, n) {
    var i = eo(t), r = $(i);
    if (!i) return null;
    var a = Cp(o, t);
    if (!a) return null;
    for (var s = -1, l = 0; l < a.length; l++) if (a[l] === e) {
        s = l;
        break;
    }
    var u = Lp(o, t);
    Is(t, u), o.lineStyle = o.lineStyle || {};
    var d = vn(o.node1, o.node2, t), h = t.__curvenessList, c = r || u % 2 ? 0 : 1;
    if (a.isForward) return h[c + s];
    var g = Ms(d), p = bi(g, t), f = h[s + p + c];
    return n ? r ? i && i[0] === 0 ? (p + c) % 2 ? f : -f : ((p % 2 ? 0 : 1) + c) % 2 ? f : -f : (p + c) % 2 ? f : -f : h[s + p + c];
}

function Ds(o) {
    var t = o.coordinateSystem;
    if (!t || t.type === "view") {
        var e = o.getGraph();
        e.eachNode(function(n) {
            var i = n.getModel();
            n.setLayout([ +i.get("x"), +i.get("y") ]);
        }), wi(e, o);
    }
}

function wi(o, t) {
    o.eachEdge(function(e, n) {
        var i = tn(e.getModel().get([ "lineStyle", "curveness" ]), -Si(e, t, n, !0), 0), r = ft(e.node1.getLayout()), a = ft(e.node2.getLayout()), s = [ r, a ];
        +i && s.push([ (r[0] + a[0]) / 2 - (r[1] - a[1]) * i, (r[1] + a[1]) / 2 - (a[0] - r[0]) * i ]), 
        e.setLayout(s);
    });
}

function Ap(o, t) {
    o.eachSeriesByType("graph", function(e) {
        var n = e.get("layout"), i = e.coordinateSystem;
        if (i && i.type !== "view") {
            var r = e.getData(), a = [];
            E(i.dimensions, function(c) {
                a = a.concat(r.mapDimensionsAll(c));
            });
            for (var s = 0; s < r.count(); s++) {
                for (var l = [], u = !1, d = 0; d < a.length; d++) {
                    var h = r.get(a[d], s);
                    isNaN(h) || (u = !0), l.push(h);
                }
                u ? r.setItemLayout(s, i.dataToPoint(l)) : r.setItemLayout(s, [ NaN, NaN ]);
            }
            wi(r.graph, e);
        } else n && n !== "none" || Ds(e);
    });
}

function mn(o) {
    var t = o.coordinateSystem;
    if (t.type !== "view") return 1;
    var e = o.option.nodeScaleRatio, n = t.scaleX;
    return ((t.getZoom() - 1) * e + 1) / n;
}

function xn(o) {
    var t = o.getVisual("symbolSize");
    return t instanceof Array && (t = (t[0] + t[1]) / 2), +t;
}

var Cs = Math.PI, Ii = [];

function Mi(o, t, e, n) {
    var i = o.coordinateSystem;
    if (!i || i.type === "view") {
        var r = i.getBoundingRect(), a = o.getData(), s = a.graph, l = r.width / 2 + r.x, u = r.height / 2 + r.y, d = Math.min(r.width, r.height) / 2, h = a.count();
        if (a.setLayout({
            cx: l,
            cy: u
        }), h) {
            if (e) {
                var c = i.pointToData(n), g = c[0], p = c[1], f = [ g - l, p - u ];
                nn(f, f), bd(f, f, d), e.setLayout([ l + f[0], u + f[1] ], !0), 
                Ls(e, o.get([ "circular", "rotateLabel" ]), l, u);
            }
            Tp[t](o, s, a, d, l, u, h), s.eachEdge(function(y, x) {
                var S, m = tn(y.getModel().get([ "lineStyle", "curveness" ]), Si(y, o, x), 0), v = ft(y.node1.getLayout()), b = ft(y.node2.getLayout()), _ = (v[0] + b[0]) / 2, w = (v[1] + b[1]) / 2;
                +m && (S = [ l * (m *= 3) + _ * (1 - m), u * m + w * (1 - m) ]), 
                y.setLayout([ v, b, S ]);
            });
        }
    }
}

var Tp = {
    value: function(o, t, e, n, i, r, a) {
        var s = 0, l = e.getSum("value"), u = 2 * Math.PI / (l || a);
        t.eachNode(function(d) {
            var h = d.getValue("value"), c = u * (l ? h : 1) / 2;
            s += c, d.setLayout([ n * Math.cos(s) + i, n * Math.sin(s) + r ]), s += c;
        });
    },
    symbolSize: function(o, t, e, n, i, r, a) {
        var s = 0;
        Ii.length = a;
        var l = mn(o);
        t.eachNode(function(h) {
            var c = xn(h);
            isNaN(c) && (c = 2), c < 0 && (c = 0), c *= l;
            var g = Math.asin(c / 2 / n);
            isNaN(g) && (g = Cs / 2), Ii[h.dataIndex] = g, s += 2 * g;
        });
        var u = (2 * Cs - s) / a / 2, d = 0;
        t.eachNode(function(h) {
            var c = u + Ii[h.dataIndex];
            d += c, (!h.getLayout() || !h.getLayout().fixed) && h.setLayout([ n * Math.cos(d) + i, n * Math.sin(d) + r ]), 
            d += c;
        });
    }
};

function Ls(o, t, e, n) {
    var i = o.getGraphicEl();
    if (i) {
        var r = o.getModel().get([ "label", "rotate" ]) || 0, a = i.getSymbolPath();
        if (t) {
            var s = o.getLayout(), l = Math.atan2(s[1] - n, s[0] - e);
            l < 0 && (l = 2 * Math.PI + l);
            var u = s[0] < e;
            u && (l -= Math.PI);
            var d = u ? "left" : "right";
            a.setTextConfig({
                rotation: -l,
                position: d,
                origin: "center"
            });
            var h = a.ensureState("emphasis");
            Q(h.textConfig || (h.textConfig = {}), {
                position: d
            });
        } else a.setTextConfig({
            rotation: r *= Math.PI / 180
        });
    }
}

function Np(o) {
    o.eachSeriesByType("graph", function(t) {
        t.get("layout") === "circular" && Mi(t, "symbolSize");
    });
}

var Zt = No;

function Pp(o) {
    o.eachSeriesByType("graph", function(t) {
        var e = t.coordinateSystem;
        if (!e || e.type === "view") if (t.get("layout") === "force") {
            var n = t.preservedPoints || {}, i = t.getGraph(), r = i.data, a = i.edgeData, s = t.getModel("force"), l = s.get("initLayout");
            t.preservedPoints ? r.each(function(m) {
                var v = r.getId(m);
                r.setItemLayout(m, n[v] || [ NaN, NaN ]);
            }) : l && l !== "none" ? l === "circular" && Mi(t, "value") : Ds(t);
            var u = r.getDataExtent("value"), d = a.getDataExtent("value"), h = s.get("repulsion"), c = s.get("edgeLength"), g = $(h) ? h : [ h, h ], p = $(c) ? c : [ c, c ];
            p = [ p[1], p[0] ];
            var f = r.mapArray("value", function(m, v) {
                var b = r.getItemLayout(v), _ = Oe(m, u, g);
                return isNaN(_) && (_ = (g[0] + g[1]) / 2), {
                    w: _,
                    rep: _,
                    fixed: r.getItemModel(v).get("fixed"),
                    p: !b || isNaN(b[0]) || isNaN(b[1]) ? null : b
                };
            }), y = a.mapArray("value", function(m, v) {
                var b = i.getEdgeByIndex(v), _ = Oe(m, d, p);
                isNaN(_) && (_ = (p[0] + p[1]) / 2);
                var w = b.getModel(), I = tn(b.getModel().get([ "lineStyle", "curveness" ]), -Si(b, t, v, !0), 0);
                return {
                    n1: f[b.node1.dataIndex],
                    n2: f[b.node2.dataIndex],
                    d: _,
                    curveness: I,
                    ignoreForceLayout: w.get("ignoreForceLayout")
                };
            }), x = e.getBoundingRect(), S = function(m, v, b) {
                for (var _ = m, w = v, I = b.rect, M = I.width, D = I.height, L = [ I.x + M / 2, I.y + D / 2 ], C = b.gravity == null ? .1 : b.gravity, A = 0; A < _.length; A++) {
                    var T = _[A];
                    T.p || (T.p = Sd(M * (Math.random() - .5) + L[0], D * (Math.random() - .5) + L[1])), 
                    T.pp = ft(T.p), T.edges = null;
                }
                var V, N, k = b.friction == null ? .6 : b.friction, P = k;
                return {
                    warmUp: function() {
                        P = .8 * k;
                    },
                    setFixed: function(R) {
                        _[R].fixed = !0;
                    },
                    setUnfixed: function(R) {
                        _[R].fixed = !1;
                    },
                    beforeStep: function(R) {
                        V = R;
                    },
                    afterStep: function(R) {
                        N = R;
                    },
                    step: function(R) {
                        V && V(_, w);
                        for (var z = [], B = _.length, G = 0; G < w.length; G++) {
                            var U = w[G];
                            if (!U.ignoreForceLayout) {
                                var O = U.n1, F = U.n2;
                                Ot(z, F.p, O.p);
                                var j = Kr(z) - U.d, Y = F.w / (O.w + F.w);
                                isNaN(Y) && (Y = 0), nn(z, z), !O.fixed && Zt(O.p, O.p, z, Y * j * P), 
                                !F.fixed && Zt(F.p, F.p, z, -(1 - Y) * j * P);
                            }
                        }
                        for (G = 0; G < B; G++) (J = _[G]).fixed || (Ot(z, L, J.p), 
                        Zt(J.p, J.p, z, C * P));
                        for (G = 0; G < B; G++) {
                            O = _[G];
                            for (var H = G + 1; H < B; H++) {
                                F = _[H], Ot(z, F.p, O.p), (j = Kr(z)) === 0 && (wd(z, Math.random() - .5, Math.random() - .5), 
                                j = 1);
                                var X = (O.rep + F.rep) / j / j;
                                !O.fixed && Zt(O.pp, O.pp, z, X), !F.fixed && Zt(F.pp, F.pp, z, -X);
                            }
                        }
                        var q = [];
                        for (G = 0; G < B; G++) {
                            var J;
                            (J = _[G]).fixed || (Ot(q, J.p, J.pp), Zt(J.p, J.p, q, P), 
                            ke(J.pp, J.p));
                        }
                        var ie = (P *= .992) < .01;
                        N && N(_, w, ie), R && R(ie);
                    }
                };
            }(f, y, {
                rect: x,
                gravity: s.get("gravity"),
                friction: s.get("friction")
            });
            S.beforeStep(function(m, v) {
                for (var b = 0, _ = m.length; b < _; b++) m[b].fixed && ke(m[b].p, i.getNodeByIndex(b).getLayout());
            }), S.afterStep(function(m, v, b) {
                for (var _ = 0, w = m.length; _ < w; _++) m[_].fixed || i.getNodeByIndex(_).setLayout(m[_].p), 
                n[r.getId(_)] = m[_].p;
                for (_ = 0, w = v.length; _ < w; _++) {
                    var I = v[_], M = i.getEdgeByIndex(_), D = I.n1.p, L = I.n2.p, C = M.getLayout();
                    (C = C ? C.slice() : [])[0] = C[0] || [], C[1] = C[1] || [], 
                    ke(C[0], D), ke(C[1], L), +I.curveness && (C[2] = [ (D[0] + L[0]) / 2 - (D[1] - L[1]) * I.curveness, (D[1] + L[1]) / 2 - (L[0] - D[0]) * I.curveness ]), 
                    M.setLayout(C);
                }
            }), t.forceLayout = S, t.preservedPoints = n, S.step();
        } else t.forceLayout = null;
    });
}

function kp(o, t) {
    var e = [];
    return o.eachSeriesByType("graph", function(n) {
        var i = n.get("coordinateSystem");
        if (!i || i === "view") {
            var r = n.getData(), a = r.mapArray(function(y) {
                var x = r.getItemModel(y);
                return [ +x.get("x"), +x.get("y") ];
            }), s = [], l = [];
            Nn(a, s, l), l[0] - s[0] == 0 && (l[0] += 1, s[0] -= 1), l[1] - s[1] == 0 && (l[1] += 1, 
            s[1] -= 1);
            var u = (l[0] - s[0]) / (l[1] - s[1]), d = function(y, x, S) {
                var m = Q(y.getBoxLayoutParams(), {
                    aspect: S
                });
                return rt(m, {
                    width: x.getWidth(),
                    height: x.getHeight()
                });
            }(n, t, u);
            isNaN(u) && (s = [ d.x, d.y ], l = [ d.x + d.width, d.y + d.height ]);
            var h = l[0] - s[0], c = l[1] - s[1], g = d.width, p = d.height, f = n.coordinateSystem = new Do();
            f.zoomLimit = n.get("scaleLimit"), f.setBoundingRect(s[0], s[1], h, c), 
            f.setViewRect(d.x, d.y, g, p), f.setCenter(n.get("center"), t), f.setZoom(n.get("zoom")), 
            e.push(f);
        }
    }), e;
}

var As = zn.prototype, Di = Gr.prototype, Ts = function() {
    this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.percent = 1;
};

function Ci(o) {
    return isNaN(+o.cpx1) || isNaN(+o.cpy1);
}

(function(o) {
    function t() {
        return o !== null && o.apply(this, arguments) || this;
    }
    W(t, o);
})(Ts);

const Vp = function(o) {
    function t(e) {
        var n = o.call(this, e) || this;
        return n.type = "ec-line", n;
    }
    return W(t, o), t.prototype.getDefaultStyle = function() {
        return {
            stroke: "#000",
            fill: null
        };
    }, t.prototype.getDefaultShape = function() {
        return new Ts();
    }, t.prototype.buildPath = function(e, n) {
        Ci(n) ? As.buildPath.call(this, e, n) : Di.buildPath.call(this, e, n);
    }, t.prototype.pointAt = function(e) {
        return Ci(this.shape) ? As.pointAt.call(this, e) : Di.pointAt.call(this, e);
    }, t.prototype.tangentAt = function(e) {
        var n = this.shape, i = Ci(n) ? [ n.x2 - n.x1, n.y2 - n.y1 ] : Di.tangentAt.call(this, e);
        return nn(i, i);
    }, t;
}(Se);

var Li = [ "fromSymbol", "toSymbol" ];

function Ns(o) {
    return "_" + o + "Type";
}

function Ps(o, t, e) {
    var n = t.getItemVisual(e, o);
    if (!n || n === "none") return n;
    var i = t.getItemVisual(e, o + "Size"), r = t.getItemVisual(e, o + "Rotate"), a = t.getItemVisual(e, o + "Offset"), s = t.getItemVisual(e, o + "KeepAspect"), l = Rn(i);
    return n + l + On(a || 0, l) + (r || "") + (s || "");
}

function ks(o, t, e) {
    var n = t.getItemVisual(e, o);
    if (n && n !== "none") {
        var i = t.getItemVisual(e, o + "Size"), r = t.getItemVisual(e, o + "Rotate"), a = t.getItemVisual(e, o + "Offset"), s = t.getItemVisual(e, o + "KeepAspect"), l = Rn(i), u = On(a || 0, l), d = It(n, -l[0] / 2 + u[0], -l[1] / 2 + u[1], l[0], l[1], null, s);
        return d.__specifiedRotation = r == null || isNaN(r) ? void 0 : +r * Math.PI / 180 || 0, 
        d.name = o, d;
    }
}

function Ai(o, t) {
    o.x1 = t[0][0], o.y1 = t[0][1], o.x2 = t[1][0], o.y2 = t[1][1], o.percent = 1;
    var e = t[2];
    e ? (o.cpx1 = e[0], o.cpy1 = e[1]) : (o.cpx1 = NaN, o.cpy1 = NaN);
}

var Ep = function(o) {
    function t(e, n, i) {
        var r = o.call(this) || this;
        return r._createLine(e, n, i), r;
    }
    return W(t, o), t.prototype._createLine = function(e, n, i) {
        var r = e.hostModel, a = function(s) {
            var l = new Vp({
                name: "line",
                subPixelOptimize: !0
            });
            return Ai(l.shape, s), l;
        }(e.getItemLayout(n));
        a.shape.percent = 0, gt(a, {
            shape: {
                percent: 1
            }
        }, r, n), this.add(a), E(Li, function(s) {
            var l = ks(s, e, n);
            this.add(l), this[Ns(s)] = Ps(s, e, n);
        }, this), this._updateCommonStl(e, n, i);
    }, t.prototype.updateData = function(e, n, i) {
        var r = e.hostModel, a = this.childOfName("line"), s = e.getItemLayout(n), l = {
            shape: {}
        };
        Ai(l.shape, s), Ae(a, l, r, n), E(Li, function(u) {
            var d = Ps(u, e, n), h = Ns(u);
            if (this[h] !== d) {
                this.remove(this.childOfName(u));
                var c = ks(u, e, n);
                this.add(c);
            }
            this[h] = d;
        }, this), this._updateCommonStl(e, n, i);
    }, t.prototype.getLinePath = function() {
        return this.childAt(0);
    }, t.prototype._updateCommonStl = function(e, n, i) {
        var r = e.hostModel, a = this.childOfName("line"), s = i && i.emphasisLineStyle, l = i && i.blurLineStyle, u = i && i.selectLineStyle, d = i && i.labelStatesModels, h = i && i.emphasisDisabled, c = i && i.focus, g = i && i.blurScope;
        if (!i || e.hasItemOption) {
            var p = e.getItemModel(n), f = p.getModel("emphasis");
            s = f.getModel("lineStyle").getLineStyle(), l = p.getModel([ "blur", "lineStyle" ]).getLineStyle(), 
            u = p.getModel([ "select", "lineStyle" ]).getLineStyle(), h = f.get("disabled"), 
            c = f.get("focus"), g = f.get("blurScope"), d = $e(p);
        }
        var y = e.getItemVisual(n, "style"), x = y.stroke;
        a.useStyle(y), a.style.fill = null, a.style.strokeNoScale = !0, a.ensureState("emphasis").style = s, 
        a.ensureState("blur").style = l, a.ensureState("select").style = u, E(Li, function(_) {
            var w = this.childOfName(_);
            if (w) {
                w.setColor(x), w.style.opacity = y.opacity;
                for (var I = 0; I < Po.length; I++) {
                    var M = Po[I], D = a.getState(M);
                    if (D) {
                        var L = D.style || {}, C = w.ensureState(M), A = C.style || (C.style = {});
                        L.stroke != null && (A[w.__isEmptyBrush ? "stroke" : "fill"] = L.stroke), 
                        L.opacity != null && (A.opacity = L.opacity);
                    }
                }
                w.markRedraw();
            }
        }, this);
        var S = r.getRawValue(n);
        pt(this, d, {
            labelDataIndex: n,
            labelFetcher: {
                getFormattedLabel: function(_, w) {
                    return r.getFormattedLabel(_, w, e.dataType);
                }
            },
            inheritColor: x || "#000",
            defaultOpacity: y.opacity,
            defaultText: (S == null ? e.getName(n) : isFinite(S) ? Id(S) : S) + ""
        });
        var m = this.getTextContent();
        if (m) {
            var v = d.normal;
            m.__align = m.style.align, m.__verticalAlign = m.style.verticalAlign, 
            m.__position = v.get("position") || "middle";
            var b = v.get("distance");
            $(b) || (b = [ b, b ]), m.__labelDistance = b;
        }
        this.setTextConfig({
            position: null,
            local: !0,
            inside: !1
        }), Pe(this, c, g, h);
    }, t.prototype.highlight = function() {
        ko(this);
    }, t.prototype.downplay = function() {
        Vo(this);
    }, t.prototype.updateLayout = function(e, n) {
        this.setLinePoints(e.getItemLayout(n));
    }, t.prototype.setLinePoints = function(e) {
        var n = this.childOfName("line");
        Ai(n.shape, e), n.dirty();
    }, t.prototype.beforeUpdate = function() {
        var e = this, n = e.childOfName("fromSymbol"), i = e.childOfName("toSymbol"), r = e.getTextContent();
        if (n || i || r && !r.ignore) {
            for (var a = 1, s = this.parent; s; ) s.scaleX && (a /= s.scaleX), s = s.parent;
            var l = e.childOfName("line");
            if (this.__dirty || l.__dirty) {
                var u = l.shape.percent, d = l.pointAt(0), h = l.pointAt(u), c = Ot([], h, d);
                if (nn(c, c), n && (n.setPosition(d), M(n, 0), n.scaleX = n.scaleY = a * u, 
                n.markRedraw()), i && (i.setPosition(h), M(i, 1), i.scaleX = i.scaleY = a * u, 
                i.markRedraw()), r && !r.ignore) {
                    r.x = r.y = 0, r.originX = r.originY = 0;
                    var g = void 0, p = void 0, f = r.__labelDistance, y = f[0] * a, x = f[1] * a, S = u / 2, m = l.tangentAt(S), v = [ m[1], -m[0] ], b = l.pointAt(S);
                    v[1] > 0 && (v[0] = -v[0], v[1] = -v[1]);
                    var _ = m[0] < 0 ? -1 : 1;
                    if (r.__position !== "start" && r.__position !== "end") {
                        var w = -Math.atan2(m[1], m[0]);
                        h[0] < d[0] && (w = Math.PI + w), r.rotation = w;
                    }
                    var I = void 0;
                    switch (r.__position) {
                      case "insideStartTop":
                      case "insideMiddleTop":
                      case "insideEndTop":
                      case "middle":
                        I = -x, p = "bottom";
                        break;

                      case "insideStartBottom":
                      case "insideMiddleBottom":
                      case "insideEndBottom":
                        I = x, p = "top";
                        break;

                      default:
                        I = 0, p = "middle";
                    }
                    switch (r.__position) {
                      case "end":
                        r.x = c[0] * y + h[0], r.y = c[1] * x + h[1], g = c[0] > .8 ? "left" : c[0] < -.8 ? "right" : "center", 
                        p = c[1] > .8 ? "top" : c[1] < -.8 ? "bottom" : "middle";
                        break;

                      case "start":
                        r.x = -c[0] * y + d[0], r.y = -c[1] * x + d[1], g = c[0] > .8 ? "right" : c[0] < -.8 ? "left" : "center", 
                        p = c[1] > .8 ? "bottom" : c[1] < -.8 ? "top" : "middle";
                        break;

                      case "insideStartTop":
                      case "insideStart":
                      case "insideStartBottom":
                        r.x = y * _ + d[0], r.y = d[1] + I, g = m[0] < 0 ? "right" : "left", 
                        r.originX = -y * _, r.originY = -I;
                        break;

                      case "insideMiddleTop":
                      case "insideMiddle":
                      case "insideMiddleBottom":
                      case "middle":
                        r.x = b[0], r.y = b[1] + I, g = "center", r.originY = -I;
                        break;

                      case "insideEndTop":
                      case "insideEnd":
                      case "insideEndBottom":
                        r.x = -y * _ + h[0], r.y = h[1] + I, g = m[0] >= 0 ? "right" : "left", 
                        r.originX = y * _, r.originY = -I;
                    }
                    r.scaleX = r.scaleY = a, r.setStyle({
                        verticalAlign: r.__verticalAlign || p,
                        align: r.__align || g
                    });
                }
            }
        }
        function M(D, L) {
            var C = D.__specifiedRotation;
            if (C == null) {
                var A = l.tangentAt(L);
                D.attr("rotation", (L === 1 ? -1 : 1) * Math.PI / 2 - Math.atan2(A[1], A[0]));
            } else D.attr("rotation", C);
        }
    }, t;
}(de);

const Ti = Ep;

function Vs(o) {
    var t = o.hostModel, e = t.getModel("emphasis");
    return {
        lineStyle: t.getModel("lineStyle").getLineStyle(),
        emphasisLineStyle: e.getModel([ "lineStyle" ]).getLineStyle(),
        blurLineStyle: t.getModel([ "blur", "lineStyle" ]).getLineStyle(),
        selectLineStyle: t.getModel([ "select", "lineStyle" ]).getLineStyle(),
        emphasisDisabled: e.get("disabled"),
        blurScope: e.get("blurScope"),
        focus: e.get("focus"),
        labelStatesModels: $e(t)
    };
}

function Es(o) {
    return isNaN(o[0]) || isNaN(o[1]);
}

function Ni(o) {
    return o && !Es(o[0]) && !Es(o[1]);
}

const Pi = function() {
    function o(t) {
        this.group = new de(), this._LineCtor = t || Ti;
    }
    return o.prototype.updateData = function(t) {
        var e = this;
        this._progressiveEls = null;
        var n = this, i = n.group, r = n._lineData;
        n._lineData = t, r || i.removeAll();
        var a = Vs(t);
        t.diff(r).add(function(s) {
            e._doAdd(t, s, a);
        }).update(function(s, l) {
            e._doUpdate(r, t, l, s, a);
        }).remove(function(s) {
            i.remove(r.getItemGraphicEl(s));
        }).execute();
    }, o.prototype.updateLayout = function() {
        var t = this._lineData;
        t && t.eachItemGraphicEl(function(e, n) {
            e.updateLayout(t, n);
        }, this);
    }, o.prototype.incrementalPrepareUpdate = function(t) {
        this._seriesScope = Vs(t), this._lineData = null, this.group.removeAll();
    }, o.prototype.incrementalUpdate = function(t, e) {
        function n(a) {
            a.isGroup || function(s) {
                return s.animators && s.animators.length > 0;
            }(a) || (a.incremental = !0, a.ensureState("emphasis").hoverLayer = !0);
        }
        this._progressiveEls = [];
        for (var i = t.start; i < t.end; i++) if (Ni(e.getItemLayout(i))) {
            var r = new this._LineCtor(e, i, this._seriesScope);
            r.traverse(n), this.group.add(r), e.setItemGraphicEl(i, r), this._progressiveEls.push(r);
        }
    }, o.prototype.remove = function() {
        this.group.removeAll();
    }, o.prototype.eachRendered = function(t) {
        Bn(this._progressiveEls || this.group, t);
    }, o.prototype._doAdd = function(t, e, n) {
        if (Ni(t.getItemLayout(e))) {
            var i = new this._LineCtor(t, e, n);
            t.setItemGraphicEl(e, i), this.group.add(i);
        }
    }, o.prototype._doUpdate = function(t, e, n, i, r) {
        var a = t.getItemGraphicEl(n);
        Ni(e.getItemLayout(i)) ? (a ? a.updateData(e, i, r) : a = new this._LineCtor(e, i, r), 
        e.setItemGraphicEl(i, a), this.group.add(a)) : this.group.remove(a);
    }, o;
}();

var ki = [], Vi = [], Ei = [], Yt = $r, zi = Dd, zs = Math.abs;

function Rs(o, t, e) {
    for (var n, i = o[0], r = o[1], a = o[2], s = 1 / 0, l = e * e, u = .1, d = .1; d <= .9; d += .1) ki[0] = Yt(i[0], r[0], a[0], d), 
    ki[1] = Yt(i[1], r[1], a[1], d), (g = zs(zi(ki, t) - l)) < s && (s = g, n = d);
    for (var h = 0; h < 32; h++) {
        var c = n + u;
        Vi[0] = Yt(i[0], r[0], a[0], n), Vi[1] = Yt(i[1], r[1], a[1], n), Ei[0] = Yt(i[0], r[0], a[0], c), 
        Ei[1] = Yt(i[1], r[1], a[1], c);
        var g = zi(Vi, t) - l;
        if (zs(g) < .01) break;
        var p = zi(Ei, t) - l;
        u /= 2, g < 0 ? p >= 0 ? n += u : n -= u : p >= 0 ? n -= u : n += u;
    }
    return n;
}

function Ri(o, t) {
    var e = [], n = Md, i = [ [], [], [] ], r = [ [], [] ], a = [];
    t /= 2, o.eachEdge(function(s, l) {
        var u = s.getLayout(), d = s.getVisual("fromSymbol"), h = s.getVisual("toSymbol");
        u.__original || (u.__original = [ ft(u[0]), ft(u[1]) ], u[2] && u.__original.push(ft(u[2])));
        var c = u.__original;
        if (u[2] != null) {
            if (ke(i[0], c[0]), ke(i[1], c[2]), ke(i[2], c[1]), d && d !== "none") {
                var g = xn(s.node1), p = Rs(i, c[0], g * t);
                n(i[0][0], i[1][0], i[2][0], p, e), i[0][0] = e[3], i[1][0] = e[4], 
                n(i[0][1], i[1][1], i[2][1], p, e), i[0][1] = e[3], i[1][1] = e[4];
            }
            h && h !== "none" && (g = xn(s.node2), p = Rs(i, c[1], g * t), n(i[0][0], i[1][0], i[2][0], p, e), 
            i[1][0] = e[1], i[2][0] = e[2], n(i[0][1], i[1][1], i[2][1], p, e), 
            i[1][1] = e[1], i[2][1] = e[2]), ke(u[0], i[0]), ke(u[1], i[2]), ke(u[2], i[1]);
        } else ke(r[0], c[0]), ke(r[1], c[1]), Ot(a, r[1], r[0]), nn(a, a), d && d !== "none" && (g = xn(s.node1), 
        No(r[0], r[0], a, g * t)), h && h !== "none" && (g = xn(s.node2), No(r[1], r[1], a, -g * t)), 
        ke(u[0], r[0]), ke(u[1], r[1]);
    });
}

function Os(o) {
    return o.type === "view";
}

var zp = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.init = function(e, n) {
        var i = new An(), r = new Pi(), a = this.group;
        this._controller = new Tn(n.getZr()), this._controllerHost = {
            target: a
        }, a.add(i.group), a.add(r.group), this._symbolDraw = i, this._lineDraw = r, 
        this._firstRender = !0;
    }, t.prototype.render = function(e, n, i) {
        var r = this, a = e.coordinateSystem;
        this._model = e;
        var s = this._symbolDraw, l = this._lineDraw, u = this.group;
        if (Os(a)) {
            var d = {
                x: a.x,
                y: a.y,
                scaleX: a.scaleX,
                scaleY: a.scaleY
            };
            this._firstRender ? u.attr(d) : Ae(u, d, e);
        }
        Ri(e.getGraph(), mn(e));
        var h = e.getData();
        s.updateData(h);
        var c = e.getEdgeData();
        l.updateData(c), this._updateNodeAndLinkScale(), this._updateController(e, n, i), 
        clearTimeout(this._layoutTimeout);
        var g = e.forceLayout, p = e.get([ "force", "layoutAnimation" ]);
        g && this._startForceLayoutIteration(g, p);
        var f = e.get("layout");
        h.graph.eachNode(function(m) {
            var v = m.dataIndex, b = m.getGraphicEl(), _ = m.getModel();
            if (b) {
                b.off("drag").off("dragend");
                var w = _.get("draggable");
                w && b.on("drag", function(I) {
                    switch (f) {
                      case "force":
                        g.warmUp(), !r._layouting && r._startForceLayoutIteration(g, p), 
                        g.setFixed(v), h.setItemLayout(v, [ b.x, b.y ]);
                        break;

                      case "circular":
                        h.setItemLayout(v, [ b.x, b.y ]), m.setLayout({
                            fixed: !0
                        }, !0), Mi(e, "symbolSize", m, [ I.offsetX, I.offsetY ]), 
                        r.updateLayout(e);
                        break;

                      default:
                        h.setItemLayout(v, [ b.x, b.y ]), wi(e.getGraph(), e), r.updateLayout(e);
                    }
                }).on("dragend", function() {
                    g && g.setUnfixed(v);
                }), b.setDraggable(w, !!_.get("cursor")), _.get([ "emphasis", "focus" ]) === "adjacency" && (me(b).focus = m.getAdjacentDataIndices());
            }
        }), h.graph.eachEdge(function(m) {
            var v = m.getGraphicEl(), b = m.getModel().get([ "emphasis", "focus" ]);
            v && b === "adjacency" && (me(v).focus = {
                edge: [ m.dataIndex ],
                node: [ m.node1.dataIndex, m.node2.dataIndex ]
            });
        });
        var y = e.get("layout") === "circular" && e.get([ "circular", "rotateLabel" ]), x = h.getLayout("cx"), S = h.getLayout("cy");
        h.graph.eachNode(function(m) {
            Ls(m, y, x, S);
        }), this._firstRender = !1;
    }, t.prototype.dispose = function() {
        this.remove(), this._controller && this._controller.dispose(), this._controllerHost = null;
    }, t.prototype._startForceLayoutIteration = function(e, n) {
        var i = this;
        (function r() {
            e.step(function(a) {
                i.updateLayout(i._model), (i._layouting = !a) && (n ? i._layoutTimeout = setTimeout(r, 16) : r());
            });
        })();
    }, t.prototype._updateController = function(e, n, i) {
        var r = this, a = this._controller, s = this._controllerHost, l = this.group;
        a.setPointerChecker(function(u, d, h) {
            var c = l.getBoundingRect();
            return c.applyTransform(l.transform), c.contain(d, h) && !zr(u, i, e);
        }), Os(e.coordinateSystem) ? (a.enable(e.get("roam")), s.zoomLimit = e.get("scaleLimit"), 
        s.zoom = e.coordinateSystem.getZoom(), a.off("pan").off("zoom").on("pan", function(u) {
            Rr(s, u.dx, u.dy), i.dispatchAction({
                seriesId: e.id,
                type: "graphRoam",
                dx: u.dx,
                dy: u.dy
            });
        }).on("zoom", function(u) {
            Or(s, u.scale, u.originX, u.originY), i.dispatchAction({
                seriesId: e.id,
                type: "graphRoam",
                zoom: u.scale,
                originX: u.originX,
                originY: u.originY
            }), r._updateNodeAndLinkScale(), Ri(e.getGraph(), mn(e)), r._lineDraw.updateLayout(), 
            i.updateLabelLayout();
        })) : a.disable();
    }, t.prototype._updateNodeAndLinkScale = function() {
        var e = this._model, n = e.getData(), i = mn(e);
        n.eachItemGraphicEl(function(r, a) {
            r && r.setSymbolScale(i);
        });
    }, t.prototype.updateLayout = function(e) {
        Ri(e.getGraph(), mn(e)), this._symbolDraw.updateLayout(), this._lineDraw.updateLayout();
    }, t.prototype.remove = function() {
        clearTimeout(this._layoutTimeout), this._layouting = !1, this._layoutTimeout = null, 
        this._symbolDraw && this._symbolDraw.remove(), this._lineDraw && this._lineDraw.remove();
    }, t.type = "graph", t;
}(De);

const Rp = zp;

function Xt(o) {
    return "_EC_" + o;
}

var Op = function() {
    function o(t) {
        this.type = "graph", this.nodes = [], this.edges = [], this._nodesMap = {}, 
        this._edgesMap = {}, this._directed = t || !1;
    }
    return o.prototype.isDirected = function() {
        return this._directed;
    }, o.prototype.addNode = function(t, e) {
        t = t == null ? "" + e : "" + t;
        var n = this._nodesMap;
        if (!n[Xt(t)]) {
            var i = new At(t, e);
            return i.hostGraph = this, this.nodes.push(i), n[Xt(t)] = i, i;
        }
    }, o.prototype.getNodeByIndex = function(t) {
        var e = this.data.getRawIndex(t);
        return this.nodes[e];
    }, o.prototype.getNodeById = function(t) {
        return this._nodesMap[Xt(t)];
    }, o.prototype.addEdge = function(t, e, n) {
        var i = this._nodesMap, r = this._edgesMap;
        if (it(t) && (t = this.nodes[t]), it(e) && (e = this.nodes[e]), t instanceof At || (t = i[Xt(t)]), 
        e instanceof At || (e = i[Xt(e)]), t && e) {
            var a = t.id + "-" + e.id, s = new Bs(t, e, n);
            return s.hostGraph = this, this._directed && (t.outEdges.push(s), e.inEdges.push(s)), 
            t.edges.push(s), t !== e && e.edges.push(s), this.edges.push(s), r[a] = s, 
            s;
        }
    }, o.prototype.getEdgeByIndex = function(t) {
        var e = this.edgeData.getRawIndex(t);
        return this.edges[e];
    }, o.prototype.getEdge = function(t, e) {
        t instanceof At && (t = t.id), e instanceof At && (e = e.id);
        var n = this._edgesMap;
        return this._directed ? n[t + "-" + e] : n[t + "-" + e] || n[e + "-" + t];
    }, o.prototype.eachNode = function(t, e) {
        for (var n = this.nodes, i = n.length, r = 0; r < i; r++) n[r].dataIndex >= 0 && t.call(e, n[r], r);
    }, o.prototype.eachEdge = function(t, e) {
        for (var n = this.edges, i = n.length, r = 0; r < i; r++) n[r].dataIndex >= 0 && n[r].node1.dataIndex >= 0 && n[r].node2.dataIndex >= 0 && t.call(e, n[r], r);
    }, o.prototype.breadthFirstTraverse = function(t, e, n, i) {
        if (e instanceof At || (e = this._nodesMap[Xt(e)]), e) {
            for (var r = n === "out" ? "outEdges" : n === "in" ? "inEdges" : "edges", a = 0; a < this.nodes.length; a++) this.nodes[a].__visited = !1;
            if (!t.call(i, e, null)) for (var s = [ e ]; s.length; ) {
                var l = s.shift(), u = l[r];
                for (a = 0; a < u.length; a++) {
                    var d = u[a], h = d.node1 === l ? d.node2 : d.node1;
                    if (!h.__visited) {
                        if (t.call(i, h, l)) return;
                        s.push(h), h.__visited = !0;
                    }
                }
            }
        }
    }, o.prototype.update = function() {
        for (var t = this.data, e = this.edgeData, n = this.nodes, i = this.edges, r = 0, a = n.length; r < a; r++) n[r].dataIndex = -1;
        for (r = 0, a = t.count(); r < a; r++) n[t.getRawIndex(r)].dataIndex = r;
        for (e.filterSelf(function(s) {
            var l = i[e.getRawIndex(s)];
            return l.node1.dataIndex >= 0 && l.node2.dataIndex >= 0;
        }), r = 0, a = i.length; r < a; r++) i[r].dataIndex = -1;
        for (r = 0, a = e.count(); r < a; r++) i[e.getRawIndex(r)].dataIndex = r;
    }, o.prototype.clone = function() {
        for (var t = new o(this._directed), e = this.nodes, n = this.edges, i = 0; i < e.length; i++) t.addNode(e[i].id, e[i].dataIndex);
        for (i = 0; i < n.length; i++) {
            var r = n[i];
            t.addEdge(r.node1.id, r.node2.id, r.dataIndex);
        }
        return t;
    }, o;
}(), At = function() {
    function o(t, e) {
        this.inEdges = [], this.outEdges = [], this.edges = [], this.dataIndex = -1, 
        this.id = t ?? "", this.dataIndex = e ?? -1;
    }
    return o.prototype.degree = function() {
        return this.edges.length;
    }, o.prototype.inDegree = function() {
        return this.inEdges.length;
    }, o.prototype.outDegree = function() {
        return this.outEdges.length;
    }, o.prototype.getModel = function(t) {
        if (!(this.dataIndex < 0)) return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t);
    }, o.prototype.getAdjacentDataIndices = function() {
        for (var t = {
            edge: [],
            node: []
        }, e = 0; e < this.edges.length; e++) {
            var n = this.edges[e];
            n.dataIndex < 0 || (t.edge.push(n.dataIndex), t.node.push(n.node1.dataIndex, n.node2.dataIndex));
        }
        return t;
    }, o.prototype.getTrajectoryDataIndices = function() {
        for (var t = be(), e = be(), n = 0; n < this.edges.length; n++) {
            var i = this.edges[n];
            if (!(i.dataIndex < 0)) {
                t.set(i.dataIndex, !0);
                for (var r = [ i.node1 ], a = [ i.node2 ], s = 0; s < r.length; ) {
                    var l = r[s];
                    s++, e.set(l.dataIndex, !0);
                    for (var u = 0; u < l.inEdges.length; u++) t.set(l.inEdges[u].dataIndex, !0), 
                    r.push(l.inEdges[u].node1);
                }
                for (s = 0; s < a.length; ) {
                    var d = a[s];
                    for (s++, e.set(d.dataIndex, !0), u = 0; u < d.outEdges.length; u++) t.set(d.outEdges[u].dataIndex, !0), 
                    a.push(d.outEdges[u].node2);
                }
            }
        }
        return {
            edge: t.keys(),
            node: e.keys()
        };
    }, o;
}(), Bs = function() {
    function o(t, e, n) {
        this.dataIndex = -1, this.node1 = t, this.node2 = e, this.dataIndex = n ?? -1;
    }
    return o.prototype.getModel = function(t) {
        if (!(this.dataIndex < 0)) return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t);
    }, o.prototype.getAdjacentDataIndices = function() {
        return {
            edge: [ this.dataIndex ],
            node: [ this.node1.dataIndex, this.node2.dataIndex ]
        };
    }, o.prototype.getTrajectoryDataIndices = function() {
        var t = be(), e = be();
        t.set(this.dataIndex, !0);
        for (var n = [ this.node1 ], i = [ this.node2 ], r = 0; r < n.length; ) {
            var a = n[r];
            r++, e.set(a.dataIndex, !0);
            for (var s = 0; s < a.inEdges.length; s++) t.set(a.inEdges[s].dataIndex, !0), 
            n.push(a.inEdges[s].node1);
        }
        for (r = 0; r < i.length; ) {
            var l = i[r];
            for (r++, e.set(l.dataIndex, !0), s = 0; s < l.outEdges.length; s++) t.set(l.outEdges[s].dataIndex, !0), 
            i.push(l.outEdges[s].node2);
        }
        return {
            edge: t.keys(),
            node: e.keys()
        };
    }, o;
}();

function Gs(o, t) {
    return {
        getValue: function(e) {
            var n = this[o][t];
            return n.getStore().get(n.getDimensionIndex(e || "value"), this.dataIndex);
        },
        setVisual: function(e, n) {
            this.dataIndex >= 0 && this[o][t].setItemVisual(this.dataIndex, e, n);
        },
        getVisual: function(e) {
            return this[o][t].getItemVisual(this.dataIndex, e);
        },
        setLayout: function(e, n) {
            this.dataIndex >= 0 && this[o][t].setItemLayout(this.dataIndex, e, n);
        },
        getLayout: function() {
            return this[o][t].getItemLayout(this.dataIndex);
        },
        getGraphicEl: function() {
            return this[o][t].getItemGraphicEl(this.dataIndex);
        },
        getRawIndex: function() {
            return this[o][t].getRawIndex(this.dataIndex);
        }
    };
}

Mt(At, Gs("hostGraph", "data")), Mt(Bs, Gs("hostGraph", "edgeData"));

const Bp = Op;

function Fs(o, t, e, n, i) {
    for (var r = new Bp(n), a = 0; a < o.length; a++) r.addNode(Qe(o[a].id, o[a].name, a), a);
    var s = [], l = [], u = 0;
    for (a = 0; a < t.length; a++) {
        var d = t[a], h = d.source, c = d.target;
        r.addEdge(h, c, u) && (l.push(d), s.push(Qe(st(d.id, null), h + " > " + c)), 
        u++);
    }
    var g, p = e.get("coordinateSystem");
    if (p === "cartesian2d" || p === "polar") g = Et(o, e); else {
        var f = Qr.get(p), y = f && f.dimensions || [];
        Ne(y, "value") < 0 && y.concat([ "value" ]);
        var x = Ao(o, {
            coordDimensions: y,
            encodeDefine: e.getEncode()
        }).dimensions;
        (g = new ze(x, e)).initData(o);
    }
    var S = new ze([ "value" ], e);
    return S.initData(l, s), i && i(g, S), rs({
        mainData: g,
        struct: r,
        structAttr: "graph",
        datas: {
            node: g,
            edge: S
        },
        datasAttr: {
            node: "data",
            edge: "edgeData"
        }
    }), r.update(), r;
}

var Gp = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e.hasSymbolVisual = !0, e;
    }
    return W(t, o), t.prototype.init = function(e) {
        o.prototype.init.apply(this, arguments);
        var n = this;
        function i() {
            return n._categoriesData;
        }
        this.legendVisualProvider = new Eo(i, i), this.fillDataTextStyle(e.edges || e.links), 
        this._updateCategoriesData();
    }, t.prototype.mergeOption = function(e) {
        o.prototype.mergeOption.apply(this, arguments), this.fillDataTextStyle(e.edges || e.links), 
        this._updateCategoriesData();
    }, t.prototype.mergeDefaultAndTheme = function(e) {
        o.prototype.mergeDefaultAndTheme.apply(this, arguments), zo(e, "edgeLabel", [ "show" ]);
    }, t.prototype.getInitialData = function(e, n) {
        var i, r = e.edges || e.links || [], a = e.data || e.nodes || [], s = this;
        if (a && r) {
            eo(i = this) && (i.__curvenessList = [], i.__edgeMap = {}, Is(i));
            var l = Fs(a, r, this, !0, function(u, d) {
                u.wrapMethod("getItemModel", function(p) {
                    var f = s._categoriesModels[p.getShallow("category")];
                    return f && (f.parentModel = p.parentModel, p.parentModel = f), 
                    p;
                });
                var h = ct.prototype.getModel;
                function c(p, f) {
                    var y = h.call(this, p, f);
                    return y.resolveParentPath = g, y;
                }
                function g(p) {
                    if (p && (p[0] === "label" || p[1] === "label")) {
                        var f = p.slice();
                        return p[0] === "label" ? f[0] = "edgeLabel" : p[1] === "label" && (f[1] = "edgeLabel"), 
                        f;
                    }
                    return p;
                }
                d.wrapMethod("getItemModel", function(p) {
                    return p.resolveParentPath = g, p.getModel = c, p;
                });
            });
            return E(l.edges, function(u) {
                (function(d, h, c, g) {
                    if (eo(c)) {
                        var p = vn(d, h, c), f = c.__edgeMap, y = f[Ms(p)];
                        f[p] && !y ? f[p].isForward = !0 : y && f[p] && (y.isForward = !0, 
                        f[p].isForward = !1), f[p] = f[p] || [], f[p].push(g);
                    }
                })(u.node1, u.node2, this, u.dataIndex);
            }, this), l.data;
        }
    }, t.prototype.getGraph = function() {
        return this.getData().graph;
    }, t.prototype.getEdgeData = function() {
        return this.getGraph().edgeData;
    }, t.prototype.getCategoriesData = function() {
        return this._categoriesData;
    }, t.prototype.formatTooltip = function(e, n, i) {
        if (i === "edge") {
            var r = this.getData(), a = this.getDataParams(e, i), s = r.graph.getEdgeByIndex(e), l = r.getName(s.node1.dataIndex), u = r.getName(s.node2.dataIndex), d = [];
            return l != null && d.push(l), u != null && d.push(u), Ke("nameValue", {
                name: d.join(" > "),
                value: a.value,
                noValue: a.value == null
            });
        }
        return Cd({
            series: this,
            dataIndex: e,
            multipleSeries: n
        });
    }, t.prototype._updateCategoriesData = function() {
        var e = K(this.option.categories || [], function(i) {
            return i.value != null ? i : Q({
                value: 0
            }, i);
        }), n = new ze([ "value" ], this);
        n.initData(e), this._categoriesData = n, this._categoriesModels = n.mapArray(function(i) {
            return n.getItemModel(i);
        });
    }, t.prototype.setZoom = function(e) {
        this.option.zoom = e;
    }, t.prototype.setCenter = function(e) {
        this.option.center = e;
    }, t.prototype.isAnimationEnabled = function() {
        return o.prototype.isAnimationEnabled.call(this) && !(this.get("layout") === "force" && this.get([ "force", "layoutAnimation" ]));
    }, t.type = "series.graph", t.dependencies = [ "grid", "polar", "geo", "singleAxis", "calendar" ], 
    t.defaultOption = {
        z: 2,
        coordinateSystem: "view",
        legendHoverLink: !0,
        layout: null,
        circular: {
            rotateLabel: !1
        },
        force: {
            initLayout: null,
            repulsion: [ 0, 50 ],
            gravity: .1,
            friction: .6,
            edgeLength: 30,
            layoutAnimation: !0
        },
        left: "center",
        top: "center",
        symbol: "circle",
        symbolSize: 10,
        edgeSymbol: [ "none", "none" ],
        edgeSymbolSize: 10,
        edgeLabel: {
            position: "middle",
            distance: 5
        },
        draggable: !1,
        roam: !1,
        center: null,
        zoom: 1,
        nodeScaleRatio: .6,
        label: {
            show: !1,
            formatter: "{b}"
        },
        itemStyle: {},
        lineStyle: {
            color: "#aaa",
            width: 1,
            opacity: .5
        },
        emphasis: {
            scale: !0,
            label: {
                show: !0
            }
        },
        select: {
            itemStyle: {
                borderColor: "#212121"
            }
        }
    }, t;
}(Me);

const Fp = Gp;

var Wp = {
    type: "graphRoam",
    event: "graphRoam",
    update: "none"
}, Hp = [ "itemStyle", "opacity" ], Zp = function(o) {
    function t(e, n) {
        var i = o.call(this) || this, r = i, a = new on(), s = new Fe();
        return r.setTextContent(s), i.setTextGuideLine(a), i.updateData(e, n, !0), 
        i;
    }
    return W(t, o), t.prototype.updateData = function(e, n, i) {
        var r = this, a = e.hostModel, s = e.getItemModel(n), l = e.getItemLayout(n), u = s.getModel("emphasis"), d = s.get(Hp);
        d = d ?? 1, i || Bt(r), r.useStyle(e.getItemVisual(n, "style")), r.style.lineJoin = "round", 
        i ? (r.setShape({
            points: l.points
        }), r.style.opacity = 0, gt(r, {
            style: {
                opacity: d
            }
        }, a, n)) : Ae(r, {
            style: {
                opacity: d
            },
            shape: {
                points: l.points
            }
        }, a, n), at(r, s), this._updateLabel(e, n), Pe(this, u.get("focus"), u.get("blurScope"), u.get("disabled"));
    }, t.prototype._updateLabel = function(e, n) {
        var i = this, r = this.getTextGuideLine(), a = i.getTextContent(), s = e.hostModel, l = e.getItemModel(n), u = e.getItemLayout(n).label, d = e.getItemVisual(n, "style"), h = d.fill;
        pt(a, $e(l), {
            labelFetcher: e.hostModel,
            labelDataIndex: n,
            defaultOpacity: d.opacity,
            defaultText: e.getName(n)
        }, {
            normal: {
                align: u.textAlign,
                verticalAlign: u.verticalAlign
            }
        }), i.setTextConfig({
            local: !0,
            inside: !!u.inside,
            insideStroke: h,
            outsideFill: h
        });
        var c = u.linePoints;
        r.setShape({
            points: c
        }), i.textGuideLineConfig = {
            anchor: c ? new lt(c[0][0], c[0][1]) : null
        }, Ae(a, {
            style: {
                x: u.x,
                y: u.y
            }
        }, s, n), a.attr({
            rotation: u.rotation,
            originX: u.x,
            originY: u.y,
            z2: 10
        }), Ld(i, Ad(l), {
            stroke: h
        });
    }, t;
}(zt);

const Yp = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e.ignoreLabelLineUpdate = !0, e;
    }
    return W(t, o), t.prototype.render = function(e, n, i) {
        var r = e.getData(), a = this._data, s = this.group;
        r.diff(a).add(function(l) {
            var u = new Zp(r, l);
            r.setItemGraphicEl(l, u), s.add(u);
        }).update(function(l, u) {
            var d = a.getItemGraphicEl(u);
            d.updateData(r, l), s.add(d), r.setItemGraphicEl(l, d);
        }).remove(function(l) {
            var u = a.getItemGraphicEl(l);
            Td(u, e, l);
        }).execute(), this._data = r;
    }, t.prototype.remove = function() {
        this.group.removeAll(), this._data = null;
    }, t.prototype.dispose = function() {}, t.type = "funnel", t;
}(De);

var Xp = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.init = function(e) {
        o.prototype.init.apply(this, arguments), this.legendVisualProvider = new Eo(ee(this.getData, this), ee(this.getRawData, this)), 
        this._defaultLabelLine(e);
    }, t.prototype.getInitialData = function(e, n) {
        return Jr(this, {
            coordDimensions: [ "value" ],
            encodeDefaulter: he(Nd, this)
        });
    }, t.prototype._defaultLabelLine = function(e) {
        zo(e, "labelLine", [ "show" ]);
        var n = e.labelLine, i = e.emphasis.labelLine;
        n.show = n.show && e.label.show, i.show = i.show && e.emphasis.label.show;
    }, t.prototype.getDataParams = function(e) {
        var n = this.getData(), i = o.prototype.getDataParams.call(this, e), r = n.mapDimension("value"), a = n.getSum(r);
        return i.percent = a ? +(n.get(r, e) / a * 100).toFixed(2) : 0, i.$vars.push("percent"), 
        i;
    }, t.type = "series.funnel", t.defaultOption = {
        z: 2,
        legendHoverLink: !0,
        colorBy: "data",
        left: 80,
        top: 60,
        right: 80,
        bottom: 60,
        minSize: "0%",
        maxSize: "100%",
        sort: "descending",
        orient: "vertical",
        gap: 0,
        funnelAlign: "center",
        label: {
            show: !0,
            position: "outer"
        },
        labelLine: {
            show: !0,
            length: 20,
            lineStyle: {
                width: 1
            }
        },
        itemStyle: {
            borderColor: "#fff",
            borderWidth: 1
        },
        emphasis: {
            label: {
                show: !0
            }
        },
        select: {
            itemStyle: {
                borderColor: "#212121"
            }
        }
    }, t;
}(Me);

const Up = Xp;

function jp(o, t) {
    o.eachSeriesByType("funnel", function(e) {
        var n = e.getData(), i = n.mapDimension("value"), r = e.get("sort"), a = function(A, T) {
            return rt(A.getBoxLayoutParams(), {
                width: T.getWidth(),
                height: T.getHeight()
            });
        }(e, t), s = e.get("orient"), l = a.width, u = a.height, d = function(A, T) {
            for (var V = A.mapDimension("value"), N = A.mapArray(V, function(B) {
                return B;
            }), k = [], P = T === "ascending", R = 0, z = A.count(); R < z; R++) k[R] = R;
            return ve(T) ? k.sort(T) : T !== "none" && k.sort(function(B, G) {
                return P ? N[B] - N[G] : N[G] - N[B];
            }), k;
        }(n, r), h = a.x, c = a.y, g = s === "horizontal" ? [ oe(e.get("minSize"), u), oe(e.get("maxSize"), u) ] : [ oe(e.get("minSize"), l), oe(e.get("maxSize"), l) ], p = n.getDataExtent(i), f = e.get("min"), y = e.get("max");
        f == null && (f = Math.min(p[0], 0)), y == null && (y = p[1]);
        var x = e.get("funnelAlign"), S = e.get("gap"), m = ((s === "horizontal" ? l : u) - S * (n.count() - 1)) / n.count(), v = function(A, T) {
            if (s === "horizontal") {
                var V = n.get(i, A) || 0, N = Oe(V, [ f, y ], g, !0), k = void 0;
                switch (x) {
                  case "top":
                    k = c;
                    break;

                  case "center":
                    k = c + (u - N) / 2;
                    break;

                  case "bottom":
                    k = c + (u - N);
                }
                return [ [ T, k ], [ T, k + N ] ];
            }
            var P, R = n.get(i, A) || 0, z = Oe(R, [ f, y ], g, !0);
            switch (x) {
              case "left":
                P = h;
                break;

              case "center":
                P = h + (l - z) / 2;
                break;

              case "right":
                P = h + l - z;
            }
            return [ [ P, T ], [ P + z, T ] ];
        };
        r === "ascending" && (m = -m, S = -S, s === "horizontal" ? h += l : c += u, 
        d = d.reverse());
        for (var b = 0; b < d.length; b++) {
            var _ = d[b], w = d[b + 1], I = n.getItemModel(_);
            if (s === "horizontal") {
                var M = I.get([ "itemStyle", "width" ]);
                M == null ? M = m : (M = oe(M, l), r === "ascending" && (M = -M));
                var D = v(_, h), L = v(w, h + M);
                h += M + S, n.setItemLayout(_, {
                    points: D.concat(L.slice().reverse())
                });
            } else {
                var C = I.get([ "itemStyle", "height" ]);
                C == null ? C = m : (C = oe(C, u), r === "ascending" && (C = -C)), 
                D = v(_, c), L = v(w, c + C), c += C + S, n.setItemLayout(_, {
                    points: D.concat(L.slice().reverse())
                });
            }
        }
        (function(A) {
            var T = A.hostModel.get("orient");
            A.each(function(V) {
                var N, k, P, R, z = A.getItemModel(V), B = z.getModel("label").get("position"), G = z.getModel("labelLine"), U = A.getItemLayout(V), O = U.points, F = B === "inner" || B === "inside" || B === "center" || B === "insideLeft" || B === "insideRight";
                if (F) B === "insideLeft" ? (k = (O[0][0] + O[3][0]) / 2 + 5, P = (O[0][1] + O[3][1]) / 2, 
                N = "left") : B === "insideRight" ? (k = (O[1][0] + O[2][0]) / 2 - 5, 
                P = (O[1][1] + O[2][1]) / 2, N = "right") : (k = (O[0][0] + O[1][0] + O[2][0] + O[3][0]) / 4, 
                P = (O[0][1] + O[1][1] + O[2][1] + O[3][1]) / 4, N = "center"), 
                R = [ [ k, P ], [ k, P ] ]; else {
                    var j = void 0, Y = void 0, H = void 0, X = void 0, q = G.get("length");
                    B === "left" ? (j = (O[3][0] + O[0][0]) / 2, Y = (O[3][1] + O[0][1]) / 2, 
                    k = (H = j - q) - 5, N = "right") : B === "right" ? (j = (O[1][0] + O[2][0]) / 2, 
                    Y = (O[1][1] + O[2][1]) / 2, k = (H = j + q) + 5, N = "left") : B === "top" ? (j = (O[3][0] + O[0][0]) / 2, 
                    P = (X = (Y = (O[3][1] + O[0][1]) / 2) - q) - 5, N = "center") : B === "bottom" ? (j = (O[1][0] + O[2][0]) / 2, 
                    P = (X = (Y = (O[1][1] + O[2][1]) / 2) + q) + 5, N = "center") : B === "rightTop" ? (j = T === "horizontal" ? O[3][0] : O[1][0], 
                    Y = T === "horizontal" ? O[3][1] : O[1][1], T === "horizontal" ? (P = (X = Y - q) - 5, 
                    N = "center") : (k = (H = j + q) + 5, N = "top")) : B === "rightBottom" ? (j = O[2][0], 
                    Y = O[2][1], T === "horizontal" ? (P = (X = Y + q) + 5, N = "center") : (k = (H = j + q) + 5, 
                    N = "bottom")) : B === "leftTop" ? (j = O[0][0], Y = T === "horizontal" ? O[0][1] : O[1][1], 
                    T === "horizontal" ? (P = (X = Y - q) - 5, N = "center") : (k = (H = j - q) - 5, 
                    N = "right")) : B === "leftBottom" ? (j = T === "horizontal" ? O[1][0] : O[3][0], 
                    Y = T === "horizontal" ? O[1][1] : O[2][1], T === "horizontal" ? (P = (X = Y + q) + 5, 
                    N = "center") : (k = (H = j - q) - 5, N = "right")) : (j = (O[1][0] + O[2][0]) / 2, 
                    Y = (O[1][1] + O[2][1]) / 2, T === "horizontal" ? (P = (X = Y + q) + 5, 
                    N = "center") : (k = (H = j + q) + 5, N = "left")), T === "horizontal" ? k = H = j : P = X = Y, 
                    R = [ [ j, Y ], [ H, X ] ];
                }
                U.label = {
                    linePoints: R,
                    x: k,
                    y: P,
                    verticalAlign: "middle",
                    textAlign: N,
                    inside: F
                };
            });
        })(n);
    });
}

function Ws(o, t, e, n) {
    for (var i, r = [], a = 0; a < e.length; a++) {
        var s = e[a], l = o.get(o.mapDimension(s), t);
        i = l, (n.getAxis(s).type === "category" ? i == null : i == null || isNaN(i)) || r.push(n.dataToPoint(l, s));
    }
    return r;
}

function Hs(o, t, e, n, i) {
    var r = Ws(o, e, n, i), a = new on({
        shape: {
            points: r
        },
        z2: 10
    });
    return t.add(a), o.setItemGraphicEl(e, a), a;
}

function Zs(o) {
    var t = o.get("smooth", !0);
    return t === !0 && (t = .3), t = Pd(t), kd(t) && (t = 0), {
        smooth: t
    };
}

function Oi(o, t, e, n) {
    o.useStyle(t.getItemVisual(e, "style")), o.style.fill = null, o.setShape("smooth", n.smooth);
    var i = t.getItemModel(e), r = i.getModel("emphasis");
    at(o, i, "lineStyle"), Pe(o, r.get("focus"), r.get("blurScope"), r.get("disabled"));
}

const qp = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e._dataGroup = new de(), e._initialized = !1, e;
    }
    return W(t, o), t.prototype.init = function() {
        this.group.add(this._dataGroup);
    }, t.prototype.render = function(e, n, i, r) {
        this._progressiveEls = null;
        var a = this._dataGroup, s = e.getData(), l = this._data, u = e.coordinateSystem, d = u.dimensions, h = Zs(e);
        if (s.diff(l).add(function(g) {
            Oi(Hs(s, a, g, d, u), s, g, h);
        }).update(function(g, p) {
            var f = l.getItemGraphicEl(p), y = Ws(s, g, d, u);
            s.setItemGraphicEl(g, f), Ae(f, {
                shape: {
                    points: y
                }
            }, e, g), Bt(f), Oi(f, s, g, h);
        }).remove(function(g) {
            var p = l.getItemGraphicEl(g);
            a.remove(p);
        }).execute(), !this._initialized) {
            this._initialized = !0;
            var c = function(g, p, f) {
                var y = g.model, x = g.getRect(), S = new Re({
                    shape: {
                        x: x.x,
                        y: x.y,
                        width: x.width,
                        height: x.height
                    }
                }), m = y.get("layout") === "horizontal" ? "width" : "height";
                return S.setShape(m, 0), gt(S, {
                    shape: {
                        width: x.width,
                        height: x.height
                    }
                }, p, f), S;
            }(u, e, function() {
                setTimeout(function() {
                    a.removeClipPath();
                });
            });
            a.setClipPath(c);
        }
        this._data = s;
    }, t.prototype.incrementalPrepareRender = function(e, n, i) {
        this._initialized = !0, this._data = null, this._dataGroup.removeAll();
    }, t.prototype.incrementalRender = function(e, n, i) {
        for (var r = n.getData(), a = n.coordinateSystem, s = a.dimensions, l = Zs(n), u = this._progressiveEls = [], d = e.start; d < e.end; d++) {
            var h = Hs(r, this._dataGroup, d, s, a);
            h.incremental = !0, Oi(h, r, d, l), u.push(h);
        }
    }, t.prototype.remove = function() {
        this._dataGroup && this._dataGroup.removeAll(), this._data = null;
    }, t.type = "parallel", t;
}(De);

function Kp(o) {
    var t = o.ecModel.getComponent("parallel", o.get("parallelIndex"));
    if (t) {
        var e = {};
        return E(t.dimensions, function(n) {
            var i = +n.replace("dim", "");
            e[n] = i;
        }), e;
    }
}

const $p = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e.visualStyleAccessPath = "lineStyle", e.visualDrawType = "stroke", 
        e;
    }
    return W(t, o), t.prototype.getInitialData = function(e, n) {
        return Et(null, this, {
            useEncodeDefaulter: ee(Kp, null, this)
        });
    }, t.prototype.getRawIndicesByActiveState = function(e) {
        var n = this.coordinateSystem, i = this.getData(), r = [];
        return n.eachActiveState(i, function(a, s) {
            e === a && r.push(i.getRawIndex(s));
        }), r;
    }, t.type = "series.parallel", t.dependencies = [ "parallel" ], t.defaultOption = {
        z: 2,
        coordinateSystem: "parallel",
        parallelIndex: 0,
        label: {
            show: !1
        },
        inactiveOpacity: .05,
        activeOpacity: 1,
        lineStyle: {
            width: 1,
            opacity: .45,
            type: "solid"
        },
        emphasis: {
            label: {
                show: !1
            }
        },
        progressive: 500,
        smooth: !1,
        animationEasing: "linear"
    }, t;
}(Me);

var Qp = [ "lineStyle", "opacity" ];

const Jp = {
    seriesType: "parallel",
    reset: function(o, t) {
        var e = o.coordinateSystem, n = {
            normal: o.get([ "lineStyle", "opacity" ]),
            active: o.get("activeOpacity"),
            inactive: o.get("inactiveOpacity")
        };
        return {
            progress: function(i, r) {
                e.eachActiveState(r, function(a, s) {
                    var l = n[a];
                    if (a === "normal" && r.hasItemOption) {
                        var u = r.getItemModel(s).get(Qp, !0);
                        u != null && (l = u);
                    }
                    r.ensureUniqueItemVisual(s, "style").opacity = l;
                }, i.start, i.end);
            }
        };
    }
};

var ef = function() {
    this.x1 = 0, this.y1 = 0, this.x2 = 0, this.y2 = 0, this.cpx1 = 0, this.cpy1 = 0, 
    this.cpx2 = 0, this.cpy2 = 0, this.extent = 0;
}, tf = function(o) {
    function t(e) {
        return o.call(this, e) || this;
    }
    return W(t, o), t.prototype.getDefaultShape = function() {
        return new ef();
    }, t.prototype.buildPath = function(e, n) {
        var i = n.extent;
        e.moveTo(n.x1, n.y1), e.bezierCurveTo(n.cpx1, n.cpy1, n.cpx2, n.cpy2, n.x2, n.y2), 
        n.orient === "vertical" ? (e.lineTo(n.x2 + i, n.y2), e.bezierCurveTo(n.cpx2 + i, n.cpy2, n.cpx1 + i, n.cpy1, n.x1 + i, n.y1)) : (e.lineTo(n.x2, n.y2 + i), 
        e.bezierCurveTo(n.cpx2, n.cpy2 + i, n.cpx1, n.cpy1 + i, n.x1, n.y1 + i)), 
        e.closePath();
    }, t.prototype.highlight = function() {
        ko(this);
    }, t.prototype.downplay = function() {
        Vo(this);
    }, t;
}(Se), nf = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e._focusAdjacencyDisabled = !1, e;
    }
    return W(t, o), t.prototype.render = function(e, n, i) {
        var r = this, a = e.getGraph(), s = this.group, l = e.layoutInfo, u = l.width, d = l.height, h = e.getData(), c = e.getData("edge"), g = e.get("orient");
        this._model = e, s.removeAll(), s.x = l.x, s.y = l.y, a.eachEdge(function(p) {
            var f = new tf(), y = me(f);
            y.dataIndex = p.dataIndex, y.seriesIndex = e.seriesIndex, y.dataType = "edge";
            var x, S, m, v, b, _, w, I, M = p.getModel(), D = M.getModel("lineStyle"), L = D.get("curveness"), C = p.node1.getLayout(), A = p.node1.getModel(), T = A.get("localX"), V = A.get("localY"), N = p.node2.getLayout(), k = p.node2.getModel(), P = k.get("localX"), R = k.get("localY"), z = p.getLayout();
            f.shape.extent = Math.max(1, z.dy), f.shape.orient = g, g === "vertical" ? (x = (T != null ? T * u : C.x) + z.sy, 
            S = (V != null ? V * d : C.y) + C.dy, m = (P != null ? P * u : N.x) + z.ty, 
            b = x, _ = S * (1 - L) + (v = R != null ? R * d : N.y) * L, w = m, I = S * L + v * (1 - L)) : (x = (T != null ? T * u : C.x) + C.dx, 
            S = (V != null ? V * d : C.y) + z.sy, b = x * (1 - L) + (m = P != null ? P * u : N.x) * L, 
            _ = S, w = x * L + m * (1 - L), I = v = (R != null ? R * d : N.y) + z.ty), 
            f.setShape({
                x1: x,
                y1: S,
                x2: m,
                y2: v,
                cpx1: b,
                cpy1: _,
                cpx2: w,
                cpy2: I
            }), f.useStyle(D.getItemStyle()), Ys(f.style, g, p);
            var B = "" + M.get("value"), G = $e(M, "edgeLabel");
            pt(f, G, {
                labelFetcher: {
                    getFormattedLabel: function(F, j, Y, H, X, q) {
                        return e.getFormattedLabel(F, j, "edge", H, tn(X, G.normal && G.normal.get("formatter"), B), q);
                    }
                },
                labelDataIndex: p.dataIndex,
                defaultText: B
            }), f.setTextConfig({
                position: "inside"
            });
            var U = M.getModel("emphasis");
            at(f, M, "lineStyle", function(F) {
                var j = F.getItemStyle();
                return Ys(j, g, p), j;
            }), s.add(f), c.setItemGraphicEl(p.dataIndex, f);
            var O = U.get("focus");
            Pe(f, O === "adjacency" ? p.getAdjacentDataIndices() : O === "trajectory" ? p.getTrajectoryDataIndices() : O, U.get("blurScope"), U.get("disabled"));
        }), a.eachNode(function(p) {
            var f = p.getLayout(), y = p.getModel(), x = y.get("localX"), S = y.get("localY"), m = y.getModel("emphasis"), v = new Re({
                shape: {
                    x: x != null ? x * u : f.x,
                    y: S != null ? S * d : f.y,
                    width: f.dx,
                    height: f.dy
                },
                style: y.getModel("itemStyle").getItemStyle(),
                z2: 10
            });
            pt(v, $e(y), {
                labelFetcher: {
                    getFormattedLabel: function(_, w) {
                        return e.getFormattedLabel(_, w, "node");
                    }
                },
                labelDataIndex: p.dataIndex,
                defaultText: p.id
            }), v.disableLabelAnimation = !0, v.setStyle("fill", p.getVisual("color")), 
            v.setStyle("decal", p.getVisual("style").decal), at(v, y), s.add(v), 
            h.setItemGraphicEl(p.dataIndex, v), me(v).dataType = "node";
            var b = m.get("focus");
            Pe(v, b === "adjacency" ? p.getAdjacentDataIndices() : b === "trajectory" ? p.getTrajectoryDataIndices() : b, m.get("blurScope"), m.get("disabled"));
        }), h.eachItemGraphicEl(function(p, f) {
            h.getItemModel(f).get("draggable") && (p.drift = function(y, x) {
                r._focusAdjacencyDisabled = !0, this.shape.x += y, this.shape.y += x, 
                this.dirty(), i.dispatchAction({
                    type: "dragNode",
                    seriesId: e.id,
                    dataIndex: h.getRawIndex(f),
                    localX: this.shape.x / u,
                    localY: this.shape.y / d
                });
            }, p.ondragend = function() {
                r._focusAdjacencyDisabled = !1;
            }, p.draggable = !0, p.cursor = "move");
        }), !this._data && e.isAnimationEnabled() && s.setClipPath(function(p, f, y) {
            var x = new Re({
                shape: {
                    x: p.x - 10,
                    y: p.y - 10,
                    width: 0,
                    height: p.height + 20
                }
            });
            return gt(x, {
                shape: {
                    width: p.width + 20
                }
            }, f, y), x;
        }(s.getBoundingRect(), e, function() {
            s.removeClipPath();
        })), this._data = e.getData();
    }, t.prototype.dispose = function() {}, t.type = "sankey", t;
}(De);

function Ys(o, t, e) {
    switch (o.fill) {
      case "source":
        o.fill = e.node1.getVisual("color"), o.decal = e.node1.getVisual("style").decal;
        break;

      case "target":
        o.fill = e.node2.getVisual("color"), o.decal = e.node2.getVisual("style").decal;
        break;

      case "gradient":
        var n = e.node1.getVisual("color"), i = e.node2.getVisual("color");
        ue(n) && ue(i) && (o.fill = new Vd(0, 0, +(t === "horizontal"), +(t === "vertical"), [ {
            color: n,
            offset: 0
        }, {
            color: i,
            offset: 1
        } ]));
    }
}

const of = nf;

var rf = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.getInitialData = function(e, n) {
        var i = e.edges || e.links, r = e.data || e.nodes, a = e.levels;
        this.levelModels = [];
        for (var s = this.levelModels, l = 0; l < a.length; l++) a[l].depth != null && a[l].depth >= 0 && (s[a[l].depth] = new ct(a[l], this, n));
        if (r && i) {
            var u = Fs(r, i, this, !0, function(d, h) {
                d.wrapMethod("getItemModel", function(c, g) {
                    var p = c.parentModel, f = p.getData().getItemLayout(g);
                    if (f) {
                        var y = f.depth, x = p.levelModels[y];
                        x && (c.parentModel = x);
                    }
                    return c;
                }), h.wrapMethod("getItemModel", function(c, g) {
                    var p = c.parentModel, f = p.getGraph().getEdgeByIndex(g).node1.getLayout();
                    if (f) {
                        var y = f.depth, x = p.levelModels[y];
                        x && (c.parentModel = x);
                    }
                    return c;
                });
            });
            return u.data;
        }
    }, t.prototype.setNodePosition = function(e, n) {
        var i = (this.option.data || this.option.nodes)[e];
        i.localX = n[0], i.localY = n[1];
    }, t.prototype.getGraph = function() {
        return this.getData().graph;
    }, t.prototype.getEdgeData = function() {
        return this.getGraph().edgeData;
    }, t.prototype.formatTooltip = function(e, n, i) {
        function r(c) {
            return isNaN(c) || c == null;
        }
        if (i === "edge") {
            var a = this.getDataParams(e, i), s = a.data, l = a.value, u = s.source + " -- " + s.target;
            return Ke("nameValue", {
                name: u,
                value: l,
                noValue: r(l)
            });
        }
        var d = this.getGraph().getNodeByIndex(e).getLayout().value, h = this.getDataParams(e, i).data.name;
        return Ke("nameValue", {
            name: h != null ? h + "" : null,
            value: d,
            noValue: r(d)
        });
    }, t.prototype.optionUpdated = function() {}, t.prototype.getDataParams = function(e, n) {
        var i = o.prototype.getDataParams.call(this, e, n);
        if (i.value == null && n === "node") {
            var r = this.getGraph().getNodeByIndex(e).getLayout().value;
            i.value = r;
        }
        return i;
    }, t.type = "series.sankey", t.defaultOption = {
        z: 2,
        coordinateSystem: "view",
        left: "5%",
        top: "5%",
        right: "20%",
        bottom: "5%",
        orient: "horizontal",
        nodeWidth: 20,
        nodeGap: 8,
        draggable: !0,
        layoutIterations: 32,
        label: {
            show: !0,
            position: "right",
            fontSize: 12
        },
        edgeLabel: {
            show: !1,
            fontSize: 12
        },
        levels: [],
        nodeAlign: "justify",
        lineStyle: {
            color: "#314656",
            opacity: .2,
            curveness: .5
        },
        emphasis: {
            label: {
                show: !0
            },
            lineStyle: {
                opacity: .5
            }
        },
        select: {
            itemStyle: {
                borderColor: "#212121"
            }
        },
        animationEasing: "linear",
        animationDuration: 1e3
    }, t;
}(Me);

const af = rf;

function sf(o, t) {
    o.eachSeriesByType("sankey", function(e) {
        var n = e.get("nodeWidth"), i = e.get("nodeGap"), r = function(h, c) {
            return rt(h.getBoxLayoutParams(), {
                width: c.getWidth(),
                height: c.getHeight()
            });
        }(e, t);
        e.layoutInfo = r;
        var a = r.width, s = r.height, l = e.getGraph(), u = l.nodes, d = l.edges;
        (function(h) {
            E(h, function(c) {
                var g = mt(c.outEdges, to), p = mt(c.inEdges, to), f = c.getValue() || 0, y = Math.max(g, p, f);
                c.setLayout({
                    value: y
                }, !0);
            });
        })(u), function(h, c, g, p, f, y, x, S, m) {
            (function(v, b, _, w, I, M, D) {
                for (var L = [], C = [], A = [], T = [], V = 0, N = 0; N < b.length; N++) L[N] = 1;
                for (N = 0; N < v.length; N++) C[N] = v[N].inEdges.length, C[N] === 0 && A.push(v[N]);
                for (var k = -1; A.length; ) {
                    for (var P = 0; P < A.length; P++) {
                        var R = A[P], z = R.hostGraph.data.getRawDataItem(R.dataIndex), B = z.depth != null && z.depth >= 0;
                        B && z.depth > k && (k = z.depth), R.setLayout({
                            depth: B ? z.depth : V
                        }, !0), M === "vertical" ? R.setLayout({
                            dy: _
                        }, !0) : R.setLayout({
                            dx: _
                        }, !0);
                        for (var G = 0; G < R.outEdges.length; G++) {
                            var U = R.outEdges[G];
                            L[b.indexOf(U)] = 0;
                            var O = U.node2;
                            --C[v.indexOf(O)] == 0 && T.indexOf(O) < 0 && T.push(O);
                        }
                    }
                    ++V, A = T, T = [];
                }
                for (N = 0; N < L.length; N++) if (L[N] === 1) throw new Error("Sankey is a DAG, the original data has cycle!");
                var F = k > V - 1 ? k : V - 1;
                D && D !== "left" && function(Y, H, X, q) {
                    if (H === "right") {
                        for (var J = [], ie = Y, Ce = 0; ie.length; ) {
                            for (var Xe = 0; Xe < ie.length; Xe++) {
                                var Ve = ie[Xe];
                                Ve.setLayout({
                                    skNodeHeight: Ce
                                }, !0);
                                for (var le = 0; le < Ve.inEdges.length; le++) {
                                    var ae = Ve.inEdges[le];
                                    J.indexOf(ae.node1) < 0 && J.push(ae.node1);
                                }
                            }
                            ie = J, J = [], ++Ce;
                        }
                        E(Y, function(pe) {
                            Xs(pe) || pe.setLayout({
                                depth: Math.max(0, q - pe.getLayout().skNodeHeight)
                            }, !0);
                        });
                    } else H === "justify" && function(pe, Be) {
                        E(pe, function(nt) {
                            Xs(nt) || nt.outEdges.length || nt.setLayout({
                                depth: Be
                            }, !0);
                        });
                    }(Y, q);
                }(v, D, 0, F);
                var j = M === "vertical" ? (I - _) / F : (w - _) / F;
                (function(Y, H, X) {
                    E(Y, function(q) {
                        var J = q.getLayout().depth * H;
                        X === "vertical" ? q.setLayout({
                            y: J
                        }, !0) : q.setLayout({
                            x: J
                        }, !0);
                    });
                })(v, j, M);
            })(h, c, g, f, y, S, m), function(v, b, _, w, I, M, D) {
                var L = function(A, T) {
                    var V = [], N = T === "vertical" ? "y" : "x", k = Oo(A, function(P) {
                        return P.getLayout()[N];
                    });
                    return k.keys.sort(function(P, R) {
                        return P - R;
                    }), E(k.keys, function(P) {
                        V.push(k.buckets.get(P));
                    }), V;
                }(v, D);
                (function(A, T, V, N, k, P) {
                    var R = 1 / 0;
                    E(A, function(z) {
                        var B = z.length, G = 0;
                        E(z, function(O) {
                            G += O.getLayout().value;
                        });
                        var U = P === "vertical" ? (N - (B - 1) * k) / G : (V - (B - 1) * k) / G;
                        U < R && (R = U);
                    }), E(A, function(z) {
                        E(z, function(B, G) {
                            var U = B.getLayout().value * R;
                            P === "vertical" ? (B.setLayout({
                                x: G
                            }, !0), B.setLayout({
                                dx: U
                            }, !0)) : (B.setLayout({
                                y: G
                            }, !0), B.setLayout({
                                dy: U
                            }, !0));
                        });
                    }), E(T, function(z) {
                        var B = +z.getValue() * R;
                        z.setLayout({
                            dy: B
                        }, !0);
                    });
                })(L, b, _, w, I, D), Bi(L, I, _, w, D);
                for (var C = 1; M > 0; M--) lf(L, C *= .99, D), Bi(L, I, _, w, D), 
                pf(L, C, D), Bi(L, I, _, w, D);
            }(h, c, y, f, p, x, S), function(v, b) {
                var _ = b === "vertical" ? "x" : "y";
                E(v, function(w) {
                    w.outEdges.sort(function(I, M) {
                        return I.node2.getLayout()[_] - M.node2.getLayout()[_];
                    }), w.inEdges.sort(function(I, M) {
                        return I.node1.getLayout()[_] - M.node1.getLayout()[_];
                    });
                }), E(v, function(w) {
                    var I = 0, M = 0;
                    E(w.outEdges, function(D) {
                        D.setLayout({
                            sy: I
                        }, !0), I += D.getLayout().dy;
                    }), E(w.inEdges, function(D) {
                        D.setLayout({
                            ty: M
                        }, !0), M += D.getLayout().dy;
                    });
                });
            }(h, S);
        }(u, d, n, i, a, s, je(u, function(h) {
            return h.getLayout().value === 0;
        }).length !== 0 ? 0 : e.get("layoutIterations"), e.get("orient"), e.get("nodeAlign"));
    });
}

function Xs(o) {
    var t = o.hostGraph.data.getRawDataItem(o.dataIndex);
    return t.depth != null && t.depth >= 0;
}

function Bi(o, t, e, n, i) {
    var r = i === "vertical" ? "x" : "y";
    E(o, function(a) {
        var s, l, u;
        a.sort(function(p, f) {
            return p.getLayout()[r] - f.getLayout()[r];
        });
        for (var d = 0, h = a.length, c = i === "vertical" ? "dx" : "dy", g = 0; g < h; g++) (u = d - (l = a[g]).getLayout()[r]) > 0 && (s = l.getLayout()[r] + u, 
        i === "vertical" ? l.setLayout({
            x: s
        }, !0) : l.setLayout({
            y: s
        }, !0)), d = l.getLayout()[r] + l.getLayout()[c] + t;
        if ((u = d - t - (i === "vertical" ? n : e)) > 0) for (s = l.getLayout()[r] - u, 
        i === "vertical" ? l.setLayout({
            x: s
        }, !0) : l.setLayout({
            y: s
        }, !0), d = s, g = h - 2; g >= 0; --g) (u = (l = a[g]).getLayout()[r] + l.getLayout()[c] + t - d) > 0 && (s = l.getLayout()[r] - u, 
        i === "vertical" ? l.setLayout({
            x: s
        }, !0) : l.setLayout({
            y: s
        }, !0)), d = l.getLayout()[r];
    });
}

function lf(o, t, e) {
    E(o.slice().reverse(), function(n) {
        E(n, function(i) {
            if (i.outEdges.length) {
                var r = mt(i.outEdges, uf, e) / mt(i.outEdges, to);
                if (isNaN(r)) {
                    var a = i.outEdges.length;
                    r = a ? mt(i.outEdges, df, e) / a : 0;
                }
                if (e === "vertical") {
                    var s = i.getLayout().x + (r - vt(i, e)) * t;
                    i.setLayout({
                        x: s
                    }, !0);
                } else {
                    var l = i.getLayout().y + (r - vt(i, e)) * t;
                    i.setLayout({
                        y: l
                    }, !0);
                }
            }
        });
    });
}

function uf(o, t) {
    return vt(o.node2, t) * o.getValue();
}

function df(o, t) {
    return vt(o.node2, t);
}

function hf(o, t) {
    return vt(o.node1, t) * o.getValue();
}

function cf(o, t) {
    return vt(o.node1, t);
}

function vt(o, t) {
    return t === "vertical" ? o.getLayout().x + o.getLayout().dx / 2 : o.getLayout().y + o.getLayout().dy / 2;
}

function to(o) {
    return o.getValue();
}

function mt(o, t, e) {
    for (var n = 0, i = o.length, r = -1; ++r < i; ) {
        var a = +t(o[r], e);
        isNaN(a) || (n += a);
    }
    return n;
}

function pf(o, t, e) {
    E(o, function(n) {
        E(n, function(i) {
            if (i.inEdges.length) {
                var r = mt(i.inEdges, hf, e) / mt(i.inEdges, to);
                if (isNaN(r)) {
                    var a = i.inEdges.length;
                    r = a ? mt(i.inEdges, cf, e) / a : 0;
                }
                if (e === "vertical") {
                    var s = i.getLayout().x + (r - vt(i, e)) * t;
                    i.setLayout({
                        x: s
                    }, !0);
                } else {
                    var l = i.getLayout().y + (r - vt(i, e)) * t;
                    i.setLayout({
                        y: l
                    }, !0);
                }
            }
        });
    });
}

function ff(o) {
    o.eachSeriesByType("sankey", function(t) {
        var e = t.getGraph(), n = e.nodes, i = e.edges;
        if (n.length) {
            var r = 1 / 0, a = -1 / 0;
            E(n, function(s) {
                var l = s.getLayout().value;
                l < r && (r = l), l > a && (a = l);
            }), E(n, function(s) {
                var l = new jr({
                    type: "color",
                    mappingMethod: "linear",
                    dataExtent: [ r, a ],
                    visual: t.get("color")
                }).mapValueToVisual(s.getLayout().value), u = s.getModel().get([ "itemStyle", "color" ]);
                u != null ? (s.setVisual("color", u), s.setVisual("style", {
                    fill: u
                })) : (s.setVisual("color", l), s.setVisual("style", {
                    fill: l
                }));
            });
        }
        i.length && E(i, function(s) {
            var l = s.getModel().get("lineStyle");
            s.setVisual("style", l);
        });
    });
}

var Us = function() {
    function o() {}
    return o.prototype.getInitialData = function(t, e) {
        var n, i, r = e.getComponent("xAxis", this.get("xAxisIndex")), a = e.getComponent("yAxis", this.get("yAxisIndex")), s = r.get("type"), l = a.get("type");
        s === "category" ? (t.layout = "horizontal", n = r.getOrdinalMeta(), i = !0) : l === "category" ? (t.layout = "vertical", 
        n = a.getOrdinalMeta(), i = !0) : t.layout = t.layout || "horizontal";
        var u = [ "x", "y" ], d = t.layout === "horizontal" ? 0 : 1, h = this._baseAxisDim = u[d], c = u[1 - d], g = [ r, a ], p = g[d].get("type"), f = g[1 - d].get("type"), y = t.data;
        if (y && i) {
            var x = [];
            E(y, function(v, b) {
                var _;
                $(v) ? (_ = v.slice(), v.unshift(b)) : $(v.value) ? ((_ = Q({}, v)).value = _.value.slice(), 
                v.value.unshift(b)) : _ = v, x.push(_);
            }), t.data = x;
        }
        var S = this.defaultValueDimensions, m = [ {
            name: h,
            type: Bo(p),
            ordinalMeta: n,
            otherDims: {
                tooltip: !1,
                itemName: 0
            },
            dimsDef: [ "base" ]
        }, {
            name: c,
            type: Bo(f),
            dimsDef: S.slice()
        } ];
        return Jr(this, {
            coordDimensions: m,
            dimensionsCount: S.length + 1,
            encodeDefaulter: he(Ed, m, this)
        });
    }, o.prototype.getBaseAxis = function() {
        var t = this._baseAxisDim;
        return this.ecModel.getComponent(t + "Axis", this.get(t + "AxisIndex")).axis;
    }, o;
}(), js = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e.defaultValueDimensions = [ {
            name: "min",
            defaultTooltip: !0
        }, {
            name: "Q1",
            defaultTooltip: !0
        }, {
            name: "median",
            defaultTooltip: !0
        }, {
            name: "Q3",
            defaultTooltip: !0
        }, {
            name: "max",
            defaultTooltip: !0
        } ], e.visualDrawType = "stroke", e;
    }
    return W(t, o), t.type = "series.boxplot", t.dependencies = [ "xAxis", "yAxis", "grid" ], 
    t.defaultOption = {
        z: 2,
        coordinateSystem: "cartesian2d",
        legendHoverLink: !0,
        layout: null,
        boxWidth: [ 7, 50 ],
        itemStyle: {
            color: "#fff",
            borderWidth: 1
        },
        emphasis: {
            scale: !0,
            itemStyle: {
                borderWidth: 2,
                shadowBlur: 5,
                shadowOffsetX: 1,
                shadowOffsetY: 1,
                shadowColor: "rgba(0,0,0,0.2)"
            }
        },
        animationDuration: 800
    }, t;
}(Me);

Mt(js, Us, !0);

const gf = js;

var yf = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.render = function(e, n, i) {
        var r = e.getData(), a = this.group, s = this._data;
        this._data || a.removeAll();
        var l = e.get("layout") === "horizontal" ? 1 : 0;
        r.diff(s).add(function(u) {
            if (r.hasValue(u)) {
                var d = qs(r.getItemLayout(u), r, u, l, !0);
                r.setItemGraphicEl(u, d), a.add(d);
            }
        }).update(function(u, d) {
            var h = s.getItemGraphicEl(d);
            if (r.hasValue(u)) {
                var c = r.getItemLayout(u);
                h ? (Bt(h), Ks(c, h, r, u)) : h = qs(c, r, u, l), a.add(h), r.setItemGraphicEl(u, h);
            } else a.remove(h);
        }).remove(function(u) {
            var d = s.getItemGraphicEl(u);
            d && a.remove(d);
        }).execute(), this._data = r;
    }, t.prototype.remove = function(e) {
        var n = this.group, i = this._data;
        this._data = null, i && i.eachItemGraphicEl(function(r) {
            r && n.remove(r);
        });
    }, t.type = "boxplot", t;
}(De), vf = function() {}, mf = function(o) {
    function t(e) {
        var n = o.call(this, e) || this;
        return n.type = "boxplotBoxPath", n;
    }
    return W(t, o), t.prototype.getDefaultShape = function() {
        return new vf();
    }, t.prototype.buildPath = function(e, n) {
        var i = n.points, r = 0;
        for (e.moveTo(i[r][0], i[r][1]), r++; r < 4; r++) e.lineTo(i[r][0], i[r][1]);
        for (e.closePath(); r < i.length; r++) e.moveTo(i[r][0], i[r][1]), r++, 
        e.lineTo(i[r][0], i[r][1]);
    }, t;
}(Se);

function qs(o, t, e, n, i) {
    var r = o.ends, a = new mf({
        shape: {
            points: i ? xf(r, n, o) : r
        }
    });
    return Ks(o, a, t, e, i), a;
}

function Ks(o, t, e, n, i) {
    var r = e.hostModel;
    (0, zd[i ? "initProps" : "updateProps"])(t, {
        shape: {
            points: o.ends
        }
    }, r, n), t.useStyle(e.getItemVisual(n, "style")), t.style.strokeNoScale = !0, 
    t.z2 = 100;
    var a = e.getItemModel(n), s = a.getModel("emphasis");
    at(t, a), Pe(t, s.get("focus"), s.get("blurScope"), s.get("disabled"));
}

function xf(o, t, e) {
    return K(o, function(n) {
        return (n = n.slice())[t] = e.initBaseline, n;
    });
}

const _f = yf;

var _n = E;

function bf(o) {
    var t = function(e) {
        var n = [], i = [];
        return e.eachSeriesByType("boxplot", function(r) {
            var a = r.getBaseAxis(), s = Ne(i, a);
            s < 0 && (s = i.length, i[s] = a, n[s] = {
                axis: a,
                seriesModels: []
            }), n[s].seriesModels.push(r);
        }), n;
    }(o);
    _n(t, function(e) {
        var n = e.seriesModels;
        n.length && (function(i) {
            var r, a = i.axis, s = i.seriesModels, l = s.length, u = i.boxWidthList = [], d = i.boxOffsetList = [], h = [];
            if (a.type === "category") r = a.getBandWidth(); else {
                var c = 0;
                _n(s, function(S) {
                    c = Math.max(c, S.getData().count());
                });
                var g = a.getExtent();
                r = Math.abs(g[1] - g[0]) / c;
            }
            _n(s, function(S) {
                var m = S.get("boxWidth");
                $(m) || (m = [ m, m ]), h.push([ oe(m[0], r) || 0, oe(m[1], r) || 0 ]);
            });
            var p = .8 * r - 2, f = p / l * .3, y = (p - f * (l - 1)) / l, x = y / 2 - p / 2;
            _n(s, function(S, m) {
                d.push(x), x += f + y, u.push(Math.min(Math.max(y, h[m][0]), h[m][1]));
            });
        }(e), _n(n, function(i, r) {
            (function(a, s, l) {
                var u = a.coordinateSystem, d = a.getData(), h = l / 2, c = a.get("layout") === "horizontal" ? 0 : 1, g = 1 - c, p = [ "x", "y" ], f = d.mapDimension(p[c]), y = d.mapDimensionsAll(p[g]);
                if (f == null || y.length < 5) return;
                for (var x = 0; x < d.count(); x++) {
                    var S = d.get(f, x), m = M(S, y[2], x), v = M(S, y[0], x), b = M(S, y[1], x), _ = M(S, y[3], x), w = M(S, y[4], x), I = [];
                    D(I, b, !1), D(I, _, !0), I.push(v, b, w, _), L(I, v), L(I, w), 
                    L(I, m), d.setItemLayout(x, {
                        initBaseline: m[g],
                        ends: I
                    });
                }
                function M(C, A, T) {
                    var V, N = d.get(A, T), k = [];
                    return k[c] = C, k[g] = N, isNaN(C) || isNaN(N) ? V = [ NaN, NaN ] : (V = u.dataToPoint(k))[c] += s, 
                    V;
                }
                function D(C, A, T) {
                    var V = A.slice(), N = A.slice();
                    V[c] += h, N[c] -= h, T ? C.push(V, N) : C.push(N, V);
                }
                function L(C, A) {
                    var T = A.slice(), V = A.slice();
                    T[c] -= h, V[c] += h, C.push(T, V);
                }
            })(i, e.boxOffsetList[r], e.boxWidthList[r]);
        }));
    });
}

var Sf = {
    type: "echarts:boxplot",
    transform: function(o) {
        var t = o.upstream;
        t.sourceFormat !== ta && ce("");
        var e = function(n, i) {
            for (var r = [], a = [], s = (i = i || {}).boundIQR, l = s === "none" || s === 0, u = 0; u < n.length; u++) {
                var d = yt(n[u].slice()), h = Go(d, .25), c = Go(d, .5), g = Go(d, .75), p = d[0], f = d[d.length - 1], y = (s ?? 1.5) * (g - h), x = l ? p : Math.max(p, h - y), S = l ? f : Math.min(f, g + y), m = i.itemNameFormatter, v = ve(m) ? m({
                    value: u
                }) : ue(m) ? m.replace("{value}", u + "") : u + "";
                r.push([ v, x, h, c, g, S ]);
                for (var b = 0; b < d.length; b++) {
                    var _ = d[b];
                    if (_ < x || _ > S) {
                        var w = [ v, _ ];
                        a.push(w);
                    }
                }
            }
            return {
                boxData: r,
                outliers: a
            };
        }(t.getRawData(), o.config);
        return [ {
            dimensions: [ "ItemName", "Low", "Q1", "Q2", "Q3", "High" ],
            data: e.boxData
        }, {
            data: e.outliers
        } ];
    }
}, wf = [ "color", "borderColor" ], If = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.render = function(e, n, i) {
        this.group.removeClipPath(), this._progressiveEls = null, this._updateDrawMode(e), 
        this._isLargeDraw ? this._renderLarge(e) : this._renderNormal(e);
    }, t.prototype.incrementalPrepareRender = function(e, n, i) {
        this._clear(), this._updateDrawMode(e);
    }, t.prototype.incrementalRender = function(e, n, i, r) {
        this._progressiveEls = [], this._isLargeDraw ? this._incrementalRenderLarge(e, n) : this._incrementalRenderNormal(e, n);
    }, t.prototype.eachRendered = function(e) {
        Bn(this._progressiveEls || this.group, e);
    }, t.prototype._updateDrawMode = function(e) {
        var n = e.pipelineContext.large;
        this._isLargeDraw != null && n === this._isLargeDraw || (this._isLargeDraw = n, 
        this._clear());
    }, t.prototype._renderNormal = function(e) {
        var n = e.getData(), i = this._data, r = this.group, a = n.getLayout("isSimpleBox"), s = e.get("clip", !0), l = e.coordinateSystem, u = l.getArea && l.getArea();
        this._data || r.removeAll(), n.diff(i).add(function(d) {
            if (n.hasValue(d)) {
                var h = n.getItemLayout(d);
                if (s && $s(u, h)) return;
                var c = Gi(h, d, !0);
                gt(c, {
                    shape: {
                        points: h.ends
                    }
                }, e, d), Fi(c, n, d, a), r.add(c), n.setItemGraphicEl(d, c);
            }
        }).update(function(d, h) {
            var c = i.getItemGraphicEl(h);
            if (n.hasValue(d)) {
                var g = n.getItemLayout(d);
                s && $s(u, g) ? r.remove(c) : (c ? (Ae(c, {
                    shape: {
                        points: g.ends
                    }
                }, e, d), Bt(c)) : c = Gi(g), Fi(c, n, d, a), r.add(c), n.setItemGraphicEl(d, c));
            } else r.remove(c);
        }).remove(function(d) {
            var h = i.getItemGraphicEl(d);
            h && r.remove(h);
        }).execute(), this._data = n;
    }, t.prototype._renderLarge = function(e) {
        this._clear(), Qs(e, this.group);
        var n = e.get("clip", !0) ? Fo(e.coordinateSystem, !1, e) : null;
        n ? this.group.setClipPath(n) : this.group.removeClipPath();
    }, t.prototype._incrementalRenderNormal = function(e, n) {
        for (var i, r = n.getData(), a = r.getLayout("isSimpleBox"); (i = e.next()) != null; ) {
            var s = Gi(r.getItemLayout(i));
            Fi(s, r, i, a), s.incremental = !0, this.group.add(s), this._progressiveEls.push(s);
        }
    }, t.prototype._incrementalRenderLarge = function(e, n) {
        Qs(n, this.group, this._progressiveEls, !0);
    }, t.prototype.remove = function(e) {
        this._clear();
    }, t.prototype._clear = function() {
        this.group.removeAll(), this._data = null;
    }, t.type = "candlestick", t;
}(De), Mf = function() {}, Df = function(o) {
    function t(e) {
        var n = o.call(this, e) || this;
        return n.type = "normalCandlestickBox", n;
    }
    return W(t, o), t.prototype.getDefaultShape = function() {
        return new Mf();
    }, t.prototype.buildPath = function(e, n) {
        var i = n.points;
        this.__simpleBox ? (e.moveTo(i[4][0], i[4][1]), e.lineTo(i[6][0], i[6][1])) : (e.moveTo(i[0][0], i[0][1]), 
        e.lineTo(i[1][0], i[1][1]), e.lineTo(i[2][0], i[2][1]), e.lineTo(i[3][0], i[3][1]), 
        e.closePath(), e.moveTo(i[4][0], i[4][1]), e.lineTo(i[5][0], i[5][1]), e.moveTo(i[6][0], i[6][1]), 
        e.lineTo(i[7][0], i[7][1]));
    }, t;
}(Se);

function Gi(o, t, e) {
    var n = o.ends;
    return new Df({
        shape: {
            points: e ? Cf(n, o) : n
        },
        z2: 100
    });
}

function $s(o, t) {
    for (var e = !0, n = 0; n < t.ends.length; n++) if (o.contain(t.ends[n][0], t.ends[n][1])) {
        e = !1;
        break;
    }
    return e;
}

function Fi(o, t, e, n) {
    var i = t.getItemModel(e);
    o.useStyle(t.getItemVisual(e, "style")), o.style.strokeNoScale = !0, o.__simpleBox = n, 
    at(o, i);
}

function Cf(o, t) {
    return K(o, function(e) {
        return (e = e.slice())[1] = t.initBaseline, e;
    });
}

var Lf = function() {}, Wi = function(o) {
    function t(e) {
        var n = o.call(this, e) || this;
        return n.type = "largeCandlestickBox", n;
    }
    return W(t, o), t.prototype.getDefaultShape = function() {
        return new Lf();
    }, t.prototype.buildPath = function(e, n) {
        for (var i = n.points, r = 0; r < i.length; ) if (this.__sign === i[r++]) {
            var a = i[r++];
            e.moveTo(a, i[r++]), e.lineTo(a, i[r++]);
        } else r += 3;
    }, t;
}(Se);

function Qs(o, t, e, n) {
    var i = o.getData().getLayout("largePoints"), r = new Wi({
        shape: {
            points: i
        },
        __sign: 1,
        ignoreCoarsePointer: !0
    });
    t.add(r);
    var a = new Wi({
        shape: {
            points: i
        },
        __sign: -1,
        ignoreCoarsePointer: !0
    });
    t.add(a);
    var s = new Wi({
        shape: {
            points: i
        },
        __sign: 0,
        ignoreCoarsePointer: !0
    });
    t.add(s), Hi(1, r, o), Hi(-1, a, o), Hi(0, s, o), n && (r.incremental = !0, 
    a.incremental = !0), e && e.push(r, a);
}

function Hi(o, t, e, n) {
    var i = e.get([ "itemStyle", o > 0 ? "borderColor" : "borderColor0" ]) || e.get([ "itemStyle", o > 0 ? "color" : "color0" ]);
    o === 0 && (i = e.get([ "itemStyle", "borderColorDoji" ]));
    var r = e.getModel("itemStyle").getItemStyle(wf);
    t.useStyle(r), t.style.fill = null, t.style.stroke = i;
}

const Af = If;

var Js = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e.defaultValueDimensions = [ {
            name: "open",
            defaultTooltip: !0
        }, {
            name: "close",
            defaultTooltip: !0
        }, {
            name: "lowest",
            defaultTooltip: !0
        }, {
            name: "highest",
            defaultTooltip: !0
        } ], e;
    }
    return W(t, o), t.prototype.getShadowDim = function() {
        return "open";
    }, t.prototype.brushSelector = function(e, n, i) {
        var r = n.getItemLayout(e);
        return r && i.rect(r.brushRect);
    }, t.type = "series.candlestick", t.dependencies = [ "xAxis", "yAxis", "grid" ], 
    t.defaultOption = {
        z: 2,
        coordinateSystem: "cartesian2d",
        legendHoverLink: !0,
        layout: null,
        clip: !0,
        itemStyle: {
            color: "#eb5454",
            color0: "#47b262",
            borderColor: "#eb5454",
            borderColor0: "#47b262",
            borderColorDoji: null,
            borderWidth: 1
        },
        emphasis: {
            scale: !0,
            itemStyle: {
                borderWidth: 2
            }
        },
        barMaxWidth: null,
        barMinWidth: null,
        barWidth: null,
        large: !0,
        largeThreshold: 600,
        progressive: 3e3,
        progressiveThreshold: 1e4,
        progressiveChunkMode: "mod",
        animationEasing: "linear",
        animationDuration: 300
    }, t;
}(Me);

Mt(Js, Us, !0);

const Tf = Js;

function Nf(o) {
    o && $(o.series) && E(o.series, function(t) {
        Jt(t) && t.type === "k" && (t.type = "candlestick");
    });
}

var Pf = [ "itemStyle", "borderColor" ], kf = [ "itemStyle", "borderColor0" ], Vf = [ "itemStyle", "borderColorDoji" ], Ef = [ "itemStyle", "color" ], zf = [ "itemStyle", "color0" ];

const Rf = {
    seriesType: "candlestick",
    plan: Wo(),
    performRawSeries: !0,
    reset: function(o, t) {
        function e(i, r) {
            return r.get(i > 0 ? Ef : zf);
        }
        function n(i, r) {
            return r.get(i === 0 ? Vf : i > 0 ? Pf : kf);
        }
        if (!t.isSeriesFiltered(o)) return !o.pipelineContext.large && {
            progress: function(i, r) {
                for (var a; (a = i.next()) != null; ) {
                    var s = r.getItemModel(a), l = r.getItemLayout(a).sign, u = s.getItemStyle();
                    u.fill = e(l, s), u.stroke = n(l, s) || u.fill;
                    var d = r.ensureUniqueItemVisual(a, "style");
                    Q(d, u);
                }
            }
        };
    }
};

function el(o, t, e, n, i, r) {
    return e > n ? -1 : e < n ? 1 : r ? 0 : t > 0 ? o.get(i, t - 1) <= n ? 1 : -1 : 1;
}

const Of = {
    seriesType: "candlestick",
    plan: Wo(),
    reset: function(o) {
        var t = o.coordinateSystem, e = o.getData(), n = function(h, c) {
            var g, p = h.getBaseAxis(), f = p.type === "category" ? p.getBandWidth() : (g = p.getExtent(), 
            Math.abs(g[1] - g[0]) / c.count()), y = oe(Ie(h.get("barMaxWidth"), f), f), x = oe(Ie(h.get("barMinWidth"), 1), f), S = h.get("barWidth");
            return S != null ? oe(S, f) : Math.max(Math.min(f / 2, y), x);
        }(o, e), i = [ "x", "y" ], r = e.getDimensionIndex(e.mapDimension(i[0])), a = K(e.mapDimensionsAll(i[1]), e.getDimensionIndex, e), s = a[0], l = a[1], u = a[2], d = a[3];
        if (e.setLayout({
            candleWidth: n,
            isSimpleBox: n <= 1.3
        }), !(r < 0 || a.length < 4)) return {
            progress: o.pipelineContext.large ? function(h, c) {
                for (var g, p, f = Rd(4 * h.count), y = 0, x = [], S = [], m = c.getStore(), v = !!o.get([ "itemStyle", "borderColorDoji" ]); (p = h.next()) != null; ) {
                    var b = m.get(r, p), _ = m.get(s, p), w = m.get(l, p), I = m.get(u, p), M = m.get(d, p);
                    isNaN(b) || isNaN(I) || isNaN(M) ? (f[y++] = NaN, y += 3) : (f[y++] = el(m, p, _, w, l, v), 
                    x[0] = b, x[1] = I, g = t.dataToPoint(x, null, S), f[y++] = g ? g[0] : NaN, 
                    f[y++] = g ? g[1] : NaN, x[1] = M, g = t.dataToPoint(x, null, S), 
                    f[y++] = g ? g[1] : NaN);
                }
                c.setLayout("largePoints", f);
            } : function(h, c) {
                for (var g, p = c.getStore(); (g = h.next()) != null; ) {
                    var f = p.get(r, g), y = p.get(s, g), x = p.get(l, g), S = p.get(u, g), m = p.get(d, g), v = Math.min(y, x), b = Math.max(y, x), _ = C(v, f), w = C(b, f), I = C(S, f), M = C(m, f), D = [];
                    A(D, w, 0), A(D, _, 1), D.push(V(M), V(w), V(I), V(_));
                    var L = !!c.getItemModel(g).get([ "itemStyle", "borderColorDoji" ]);
                    c.setItemLayout(g, {
                        sign: el(p, g, y, x, l, L),
                        initBaseline: y > x ? w[1] : _[1],
                        ends: D,
                        brushRect: T(S, m, f)
                    });
                }
                function C(N, k) {
                    var P = [];
                    return P[0] = k, P[1] = N, isNaN(k) || isNaN(N) ? [ NaN, NaN ] : t.dataToPoint(P);
                }
                function A(N, k, P) {
                    var R = k.slice(), z = k.slice();
                    R[0] = Ho(R[0] + n / 2, 1, !1), z[0] = Ho(z[0] - n / 2, 1, !0), 
                    P ? N.push(R, z) : N.push(z, R);
                }
                function T(N, k, P) {
                    var R = C(N, P), z = C(k, P);
                    return R[0] -= n / 2, z[0] -= n / 2, {
                        x: R[0],
                        y: R[1],
                        width: n,
                        height: z[1] - R[1]
                    };
                }
                function V(N) {
                    return N[0] = Ho(N[0], 1), N;
                }
            }
        };
    }
};

function tl(o, t) {
    var e = t.rippleEffectColor || t.color;
    o.eachChild(function(n) {
        n.attr({
            z: t.z,
            zlevel: t.zlevel,
            style: {
                stroke: t.brushType === "stroke" ? e : null,
                fill: t.brushType === "fill" ? e : null
            }
        });
    });
}

const Bf = function(o) {
    function t(e, n) {
        var i = o.call(this) || this, r = new Br(e, n), a = new de();
        return i.add(r), i.add(a), i.updateData(e, n), i;
    }
    return W(t, o), t.prototype.stopEffectAnimation = function() {
        this.childAt(1).removeAll();
    }, t.prototype.startEffectAnimation = function(e) {
        for (var n = e.symbolType, i = e.color, r = e.rippleNumber, a = this.childAt(1), s = 0; s < r; s++) {
            var l = It(n, -1, -1, 2, 2, i);
            l.attr({
                style: {
                    strokeNoScale: !0
                },
                z2: 99,
                silent: !0,
                scaleX: .5,
                scaleY: .5
            });
            var u = -s / r * e.period + e.effectOffset;
            l.animate("", !0).when(e.period, {
                scaleX: e.rippleScale / 2,
                scaleY: e.rippleScale / 2
            }).delay(u).start(), l.animateStyle(!0).when(e.period, {
                opacity: 0
            }).delay(u).start(), a.add(l);
        }
        tl(a, e);
    }, t.prototype.updateEffectAnimation = function(e) {
        for (var n = this._effectCfg, i = this.childAt(1), r = [ "symbolType", "period", "rippleScale", "rippleNumber" ], a = 0; a < r.length; a++) {
            var s = r[a];
            if (n[s] !== e[s]) return this.stopEffectAnimation(), void this.startEffectAnimation(e);
        }
        tl(i, e);
    }, t.prototype.highlight = function() {
        ko(this);
    }, t.prototype.downplay = function() {
        Vo(this);
    }, t.prototype.getSymbolType = function() {
        var e = this.childAt(0);
        return e && e.getSymbolType();
    }, t.prototype.updateData = function(e, n) {
        var i = this, r = e.hostModel;
        this.childAt(0).updateData(e, n);
        var a = this.childAt(1), s = e.getItemModel(n), l = e.getItemVisual(n, "symbol"), u = Rn(e.getItemVisual(n, "symbolSize")), d = e.getItemVisual(n, "style"), h = d && d.fill, c = s.getModel("emphasis");
        a.setScale(u), a.traverse(function(y) {
            y.setStyle("fill", h);
        });
        var g = On(e.getItemVisual(n, "symbolOffset"), u);
        g && (a.x = g[0], a.y = g[1]);
        var p = e.getItemVisual(n, "symbolRotate");
        a.rotation = (p || 0) * Math.PI / 180 || 0;
        var f = {};
        f.showEffectOn = r.get("showEffectOn"), f.rippleScale = s.get([ "rippleEffect", "scale" ]), 
        f.brushType = s.get([ "rippleEffect", "brushType" ]), f.period = 1e3 * s.get([ "rippleEffect", "period" ]), 
        f.effectOffset = n / e.count(), f.z = r.getShallow("z") || 0, f.zlevel = r.getShallow("zlevel") || 0, 
        f.symbolType = l, f.color = h, f.rippleEffectColor = s.get([ "rippleEffect", "color" ]), 
        f.rippleNumber = s.get([ "rippleEffect", "number" ]), f.showEffectOn === "render" ? (this._effectCfg ? this.updateEffectAnimation(f) : this.startEffectAnimation(f), 
        this._effectCfg = f) : (this._effectCfg = null, this.stopEffectAnimation(), 
        this.onHoverStateChange = function(y) {
            y === "emphasis" ? f.showEffectOn !== "render" && i.startEffectAnimation(f) : y === "normal" && f.showEffectOn !== "render" && i.stopEffectAnimation();
        }), this._effectCfg = f, Pe(this, c.get("focus"), c.get("blurScope"), c.get("disabled"));
    }, t.prototype.fadeOut = function(e) {
        e && e();
    }, t;
}(de), Gf = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.init = function() {
        this._symbolDraw = new An(Bf);
    }, t.prototype.render = function(e, n, i) {
        var r = e.getData(), a = this._symbolDraw;
        a.updateData(r, {
            clipShape: this._getClipShape(e)
        }), this.group.add(a.group);
    }, t.prototype._getClipShape = function(e) {
        var n = e.coordinateSystem, i = n && n.getArea && n.getArea();
        return e.get("clip", !0) ? i : null;
    }, t.prototype.updateTransform = function(e, n, i) {
        var r = e.getData();
        this.group.dirty();
        var a = Ln("").reset(e, n, i);
        a.progress && a.progress({
            start: 0,
            end: r.count(),
            count: r.count()
        }, r), this._symbolDraw.updateLayout();
    }, t.prototype._updateGroupTransform = function(e) {
        var n = e.coordinateSystem;
        n && n.getRoamTransform && (this.group.transform = Od(n.getRoamTransform()), 
        this.group.decomposeTransform());
    }, t.prototype.remove = function(e, n) {
        this._symbolDraw && this._symbolDraw.remove(!0);
    }, t.type = "effectScatter", t;
}(De), Ff = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e.hasSymbolVisual = !0, e;
    }
    return W(t, o), t.prototype.getInitialData = function(e, n) {
        return Et(null, this, {
            useEncodeDefaulter: !0
        });
    }, t.prototype.brushSelector = function(e, n, i) {
        return i.point(n.getItemLayout(e));
    }, t.type = "series.effectScatter", t.dependencies = [ "grid", "polar" ], t.defaultOption = {
        coordinateSystem: "cartesian2d",
        z: 2,
        legendHoverLink: !0,
        effectType: "ripple",
        progressive: 0,
        showEffectOn: "render",
        clip: !0,
        rippleEffect: {
            period: 4,
            scale: 2.5,
            brushType: "fill",
            number: 3
        },
        universalTransition: {
            divideShape: "clone"
        },
        symbolSize: 10
    }, t;
}(Me);

var Wf = function(o) {
    function t(e, n, i) {
        var r = o.call(this) || this;
        return r.add(r.createLine(e, n, i)), r._updateEffectSymbol(e, n), r;
    }
    return W(t, o), t.prototype.createLine = function(e, n, i) {
        return new Ti(e, n, i);
    }, t.prototype._updateEffectSymbol = function(e, n) {
        var i = e.getItemModel(n).getModel("effect"), r = i.get("symbolSize"), a = i.get("symbol");
        $(r) || (r = [ r, r ]);
        var s = e.getItemVisual(n, "style"), l = i.get("color") || s && s.stroke, u = this.childAt(1);
        this._symbolType !== a && (this.remove(u), (u = It(a, -.5, -.5, 1, 1, l)).z2 = 100, 
        u.culling = !0, this.add(u)), u && (u.setStyle("shadowColor", l), u.setStyle(i.getItemStyle([ "color" ])), 
        u.scaleX = r[0], u.scaleY = r[1], u.setColor(l), this._symbolType = a, this._symbolScale = r, 
        this._updateEffectAnimation(e, i, n));
    }, t.prototype._updateEffectAnimation = function(e, n, i) {
        var r = this.childAt(1);
        if (r) {
            var a = e.getItemLayout(i), s = 1e3 * n.get("period"), l = n.get("loop"), u = n.get("roundTrip"), d = n.get("constantSpeed"), h = Qe(n.get("delay"), function(g) {
                return g / e.count() * s / 3;
            });
            if (r.ignore = !0, this._updateAnimationPoints(r, a), d > 0 && (s = this._getLineLength(r) / d * 1e3), 
            s !== this._period || l !== this._loop || u !== this._roundTrip) {
                r.stopAnimation();
                var c = void 0;
                c = ve(h) ? h(i) : h, r.__t > 0 && (c = -s * r.__t), this._animateSymbol(r, s, c, l, u);
            }
            this._period = s, this._loop = l, this._roundTrip = u;
        }
    }, t.prototype._animateSymbol = function(e, n, i, r, a) {
        if (n > 0) {
            e.__t = 0;
            var s = this, l = e.animate("", r).when(a ? 2 * n : n, {
                __t: a ? 2 : 1
            }).delay(i).during(function() {
                s._updateSymbolPosition(e);
            });
            r || l.done(function() {
                s.remove(e);
            }), l.start();
        }
    }, t.prototype._getLineLength = function(e) {
        return rn(e.__p1, e.__cp1) + rn(e.__cp1, e.__p2);
    }, t.prototype._updateAnimationPoints = function(e, n) {
        e.__p1 = n[0], e.__p2 = n[1], e.__cp1 = n[2] || [ (n[0][0] + n[1][0]) / 2, (n[0][1] + n[1][1]) / 2 ];
    }, t.prototype.updateData = function(e, n, i) {
        this.childAt(0).updateData(e, n, i), this._updateEffectSymbol(e, n);
    }, t.prototype._updateSymbolPosition = function(e) {
        var n = e.__p1, i = e.__p2, r = e.__cp1, a = e.__t < 1 ? e.__t : 2 - e.__t, s = [ e.x, e.y ], l = s.slice(), u = $r, d = Bd;
        s[0] = u(n[0], r[0], i[0], a), s[1] = u(n[1], r[1], i[1], a);
        var h = e.__t < 1 ? d(n[0], r[0], i[0], a) : d(i[0], r[0], n[0], 1 - a), c = e.__t < 1 ? d(n[1], r[1], i[1], a) : d(i[1], r[1], n[1], 1 - a);
        e.rotation = -Math.atan2(c, h) - Math.PI / 2, this._symbolType !== "line" && this._symbolType !== "rect" && this._symbolType !== "roundRect" || (e.__lastT !== void 0 && e.__lastT < e.__t ? (e.scaleY = 1.05 * rn(l, s), 
        a === 1 && (s[0] = l[0] + (s[0] - l[0]) / 2, s[1] = l[1] + (s[1] - l[1]) / 2)) : e.__lastT === 1 ? e.scaleY = 2 * rn(n, s) : e.scaleY = this._symbolScale[1]), 
        e.__lastT = e.__t, e.ignore = !1, e.x = s[0], e.y = s[1];
    }, t.prototype.updateLayout = function(e, n) {
        this.childAt(0).updateLayout(e, n);
        var i = e.getItemModel(n).getModel("effect");
        this._updateEffectAnimation(e, i, n);
    }, t;
}(de);

const nl = Wf, ol = function(o) {
    function t(e, n, i) {
        var r = o.call(this) || this;
        return r._createPolyline(e, n, i), r;
    }
    return W(t, o), t.prototype._createPolyline = function(e, n, i) {
        var r = e.getItemLayout(n), a = new on({
            shape: {
                points: r
            }
        });
        this.add(a), this._updateCommonStl(e, n, i);
    }, t.prototype.updateData = function(e, n, i) {
        var r = e.hostModel, a = this.childAt(0), s = {
            shape: {
                points: e.getItemLayout(n)
            }
        };
        Ae(a, s, r, n), this._updateCommonStl(e, n, i);
    }, t.prototype._updateCommonStl = function(e, n, i) {
        var r = this.childAt(0), a = e.getItemModel(n), s = i && i.emphasisLineStyle, l = i && i.focus, u = i && i.blurScope, d = i && i.emphasisDisabled;
        if (!i || e.hasItemOption) {
            var h = a.getModel("emphasis");
            s = h.getModel("lineStyle").getLineStyle(), d = h.get("disabled"), l = h.get("focus"), 
            u = h.get("blurScope");
        }
        r.useStyle(e.getItemVisual(n, "style")), r.style.fill = null, r.style.strokeNoScale = !0, 
        r.ensureState("emphasis").style = s, Pe(this, l, u, d);
    }, t.prototype.updateLayout = function(e, n) {
        this.childAt(0).setShape("points", e.getItemLayout(n));
    }, t;
}(de);

var Hf = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e._lastFrame = 0, e._lastFramePercent = 0, e;
    }
    return W(t, o), t.prototype.createLine = function(e, n, i) {
        return new ol(e, n, i);
    }, t.prototype._updateAnimationPoints = function(e, n) {
        this._points = n;
        for (var i = [ 0 ], r = 0, a = 1; a < n.length; a++) {
            var s = n[a - 1], l = n[a];
            r += rn(s, l), i.push(r);
        }
        if (r !== 0) {
            for (a = 0; a < i.length; a++) i[a] /= r;
            this._offsets = i, this._length = r;
        } else this._length = 0;
    }, t.prototype._getLineLength = function() {
        return this._length;
    }, t.prototype._updateSymbolPosition = function(e) {
        var n = e.__t < 1 ? e.__t : 2 - e.__t, i = this._points, r = this._offsets, a = i.length;
        if (r) {
            var s, l = this._lastFrame;
            if (n < this._lastFramePercent) {
                for (s = Math.min(l + 1, a - 1); s >= 0 && !(r[s] <= n); s--);
                s = Math.min(s, a - 2);
            } else {
                for (s = l; s < a && !(r[s] > n); s++);
                s = Math.min(s - 1, a - 2);
            }
            var u = (n - r[s]) / (r[s + 1] - r[s]), d = i[s], h = i[s + 1];
            e.x = d[0] * (1 - u) + u * h[0], e.y = d[1] * (1 - u) + u * h[1];
            var c = e.__t < 1 ? h[0] - d[0] : d[0] - h[0], g = e.__t < 1 ? h[1] - d[1] : d[1] - h[1];
            e.rotation = -Math.atan2(g, c) - Math.PI / 2, this._lastFrame = s, this._lastFramePercent = n, 
            e.ignore = !1;
        }
    }, t;
}(nl);

const Zf = Hf;

var Yf = function() {
    this.polyline = !1, this.curveness = 0, this.segs = [];
}, Xf = function(o) {
    function t(e) {
        var n = o.call(this, e) || this;
        return n._off = 0, n.hoverDataIdx = -1, n;
    }
    return W(t, o), t.prototype.reset = function() {
        this.notClear = !1, this._off = 0;
    }, t.prototype.getDefaultStyle = function() {
        return {
            stroke: "#000",
            fill: null
        };
    }, t.prototype.getDefaultShape = function() {
        return new Yf();
    }, t.prototype.buildPath = function(e, n) {
        var i, r = n.segs, a = n.curveness;
        if (n.polyline) for (i = this._off; i < r.length; ) {
            var s = r[i++];
            if (s > 0) {
                e.moveTo(r[i++], r[i++]);
                for (var l = 1; l < s; l++) e.lineTo(r[i++], r[i++]);
            }
        } else for (i = this._off; i < r.length; ) {
            var u = r[i++], d = r[i++], h = r[i++], c = r[i++];
            if (e.moveTo(u, d), a > 0) {
                var g = (u + h) / 2 - (d - c) * a, p = (d + c) / 2 - (h - u) * a;
                e.quadraticCurveTo(g, p, h, c);
            } else e.lineTo(h, c);
        }
        this.incremental && (this._off = i, this.notClear = !0);
    }, t.prototype.findDataIndex = function(e, n) {
        var i = this.shape, r = i.segs, a = i.curveness, s = this.style.lineWidth;
        if (i.polyline) for (var l = 0, u = 0; u < r.length; ) {
            var d = r[u++];
            if (d > 0) for (var h = r[u++], c = r[u++], g = 1; g < d; g++) {
                var p = r[u++], f = r[u++];
                if (na(h, c, p, f, s, e, n)) return l;
            }
            l++;
        } else for (l = 0, u = 0; u < r.length; ) {
            if (h = r[u++], c = r[u++], p = r[u++], f = r[u++], a > 0) {
                if (Gd(h, c, (h + p) / 2 - (c - f) * a, (c + f) / 2 - (p - h) * a, p, f, s, e, n)) return l;
            } else if (na(h, c, p, f, s, e, n)) return l;
            l++;
        }
        return -1;
    }, t.prototype.contain = function(e, n) {
        var i = this.transformCoordToLocal(e, n), r = this.getBoundingRect();
        return e = i[0], n = i[1], r.contain(e, n) ? (this.hoverDataIdx = this.findDataIndex(e, n)) >= 0 : (this.hoverDataIdx = -1, 
        !1);
    }, t.prototype.getBoundingRect = function() {
        var e = this._rect;
        if (!e) {
            for (var n = this.shape.segs, i = 1 / 0, r = 1 / 0, a = -1 / 0, s = -1 / 0, l = 0; l < n.length; ) {
                var u = n[l++], d = n[l++];
                i = Math.min(u, i), a = Math.max(u, a), r = Math.min(d, r), s = Math.max(d, s);
            }
            e = this._rect = new qe(i, r, a, s);
        }
        return e;
    }, t;
}(Se);

const Uf = function() {
    function o() {
        this.group = new de();
    }
    return o.prototype.updateData = function(t) {
        this._clear();
        var e = this._create();
        e.setShape({
            segs: t.getLayout("linesPoints")
        }), this._setCommon(e, t);
    }, o.prototype.incrementalPrepareUpdate = function(t) {
        this.group.removeAll(), this._clear();
    }, o.prototype.incrementalUpdate = function(t, e) {
        var n = this._newAdded[0], i = e.getLayout("linesPoints"), r = n && n.shape.segs;
        if (r && r.length < 2e4) {
            var a = r.length, s = new Float32Array(a + i.length);
            s.set(r), s.set(i, a), n.setShape({
                segs: s
            });
        } else {
            this._newAdded = [];
            var l = this._create();
            l.incremental = !0, l.setShape({
                segs: i
            }), this._setCommon(l, e), l.__startIndex = t.start;
        }
    }, o.prototype.remove = function() {
        this._clear();
    }, o.prototype.eachRendered = function(t) {
        this._newAdded[0] && t(this._newAdded[0]);
    }, o.prototype._create = function() {
        var t = new Xf({
            cursor: "default",
            ignoreCoarsePointer: !0
        });
        return this._newAdded.push(t), this.group.add(t), t;
    }, o.prototype._setCommon = function(t, e, n) {
        var i = e.hostModel;
        t.setShape({
            polyline: i.get("polyline"),
            curveness: i.get([ "lineStyle", "curveness" ])
        }), t.useStyle(i.getModel("lineStyle").getLineStyle()), t.style.strokeNoScale = !0;
        var r = e.getVisual("style");
        r && r.stroke && t.setStyle("stroke", r.stroke), t.setStyle("fill", null);
        var a = me(t);
        a.seriesIndex = i.seriesIndex, t.on("mousemove", function(s) {
            a.dataIndex = null;
            var l = t.hoverDataIdx;
            l > 0 && (a.dataIndex = l + t.__startIndex);
        });
    }, o.prototype._clear = function() {
        this._newAdded = [], this.group.removeAll();
    }, o;
}();

var jf = {
    seriesType: "lines",
    plan: Wo(),
    reset: function(o) {
        var t = o.coordinateSystem;
        if (t) {
            var e = o.get("polyline"), n = o.pipelineContext.large;
            return {
                progress: function(i, r) {
                    var a = [];
                    if (n) {
                        var s = void 0, l = i.end - i.start;
                        if (e) {
                            for (var u = 0, d = i.start; d < i.end; d++) u += o.getLineCoordsCount(d);
                            s = new Float32Array(l + 2 * u);
                        } else s = new Float32Array(4 * l);
                        var h = 0, c = [];
                        for (d = i.start; d < i.end; d++) {
                            var g = o.getLineCoords(d, a);
                            e && (s[h++] = g);
                            for (var p = 0; p < g; p++) c = t.dataToPoint(a[p], !1, c), 
                            s[h++] = c[0], s[h++] = c[1];
                        }
                        r.setLayout("linesPoints", s);
                    } else for (d = i.start; d < i.end; d++) {
                        var f = r.getItemModel(d), y = (g = o.getLineCoords(d, a), 
                        []);
                        if (e) for (var x = 0; x < g; x++) y.push(t.dataToPoint(a[x])); else {
                            y[0] = t.dataToPoint(a[0]), y[1] = t.dataToPoint(a[1]);
                            var S = f.get([ "lineStyle", "curveness" ]);
                            +S && (y[2] = [ (y[0][0] + y[1][0]) / 2 - (y[0][1] - y[1][1]) * S, (y[0][1] + y[1][1]) / 2 - (y[1][0] - y[0][0]) * S ]);
                        }
                        r.setItemLayout(d, y);
                    }
                }
            };
        }
    }
};

const il = jf, qf = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.render = function(e, n, i) {
        var r = e.getData(), a = this._updateLineDraw(r, e), s = e.get("zlevel"), l = e.get([ "effect", "trailLength" ]), u = i.getZr(), d = u.painter.getType() === "svg";
        d || u.painter.getLayer(s).clear(!0), this._lastZlevel == null || d || u.configLayer(this._lastZlevel, {
            motionBlur: !1
        }), this._showEffect(e) && l > 0 && (d || u.configLayer(s, {
            motionBlur: !0,
            lastFrameAlpha: Math.max(Math.min(l / 10 + .9, 1), 0)
        })), a.updateData(r);
        var h = e.get("clip", !0) && Fo(e.coordinateSystem, !1, e);
        h ? this.group.setClipPath(h) : this.group.removeClipPath(), this._lastZlevel = s, 
        this._finished = !0;
    }, t.prototype.incrementalPrepareRender = function(e, n, i) {
        var r = e.getData();
        this._updateLineDraw(r, e).incrementalPrepareUpdate(r), this._clearLayer(i), 
        this._finished = !1;
    }, t.prototype.incrementalRender = function(e, n, i) {
        this._lineDraw.incrementalUpdate(e, n.getData()), this._finished = e.end === n.getData().count();
    }, t.prototype.eachRendered = function(e) {
        this._lineDraw && this._lineDraw.eachRendered(e);
    }, t.prototype.updateTransform = function(e, n, i) {
        var r = e.getData(), a = e.pipelineContext;
        if (!this._finished || a.large || a.progressiveRender) return {
            update: !0
        };
        var s = il.reset(e, n, i);
        s.progress && s.progress({
            start: 0,
            end: r.count(),
            count: r.count()
        }, r), this._lineDraw.updateLayout(), this._clearLayer(i);
    }, t.prototype._updateLineDraw = function(e, n) {
        var i = this._lineDraw, r = this._showEffect(n), a = !!n.get("polyline"), s = n.pipelineContext.large;
        return i && r === this._hasEffet && a === this._isPolyline && s === this._isLargeDraw || (i && i.remove(), 
        i = this._lineDraw = s ? new Uf() : new Pi(a ? r ? Zf : ol : r ? nl : Ti), 
        this._hasEffet = r, this._isPolyline = a, this._isLargeDraw = s), this.group.add(i.group), 
        i;
    }, t.prototype._showEffect = function(e) {
        return !!e.get([ "effect", "show" ]);
    }, t.prototype._clearLayer = function(e) {
        var n = e.getZr();
        n.painter.getType() === "svg" || this._lastZlevel == null || n.painter.getLayer(this._lastZlevel).clear(!0);
    }, t.prototype.remove = function(e, n) {
        this._lineDraw && this._lineDraw.remove(), this._lineDraw = null, this._clearLayer(n);
    }, t.prototype.dispose = function(e, n) {
        this.remove(e, n);
    }, t.type = "lines", t;
}(De);

var Kf = typeof Uint32Array > "u" ? Array : Uint32Array, $f = typeof Float64Array > "u" ? Array : Float64Array;

function rl(o) {
    var t = o.data;
    t && t[0] && t[0][0] && t[0][0].coord && (o.data = K(t, function(e) {
        var n = {
            coords: [ e[0].coord, e[1].coord ]
        };
        return e[0].name && (n.fromName = e[0].name), e[1].name && (n.toName = e[1].name), 
        oa([ n, e[0], e[1] ]);
    }));
}

var Qf = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e.visualStyleAccessPath = "lineStyle", e.visualDrawType = "stroke", 
        e;
    }
    return W(t, o), t.prototype.init = function(e) {
        e.data = e.data || [], rl(e);
        var n = this._processFlatCoordsArray(e.data);
        this._flatCoords = n.flatCoords, this._flatCoordsOffset = n.flatCoordsOffset, 
        n.flatCoords && (e.data = new Float32Array(n.count)), o.prototype.init.apply(this, arguments);
    }, t.prototype.mergeOption = function(e) {
        if (rl(e), e.data) {
            var n = this._processFlatCoordsArray(e.data);
            this._flatCoords = n.flatCoords, this._flatCoordsOffset = n.flatCoordsOffset, 
            n.flatCoords && (e.data = new Float32Array(n.count));
        }
        o.prototype.mergeOption.apply(this, arguments);
    }, t.prototype.appendData = function(e) {
        var n = this._processFlatCoordsArray(e.data);
        n.flatCoords && (this._flatCoords ? (this._flatCoords = Co(this._flatCoords, n.flatCoords), 
        this._flatCoordsOffset = Co(this._flatCoordsOffset, n.flatCoordsOffset)) : (this._flatCoords = n.flatCoords, 
        this._flatCoordsOffset = n.flatCoordsOffset), e.data = new Float32Array(n.count)), 
        this.getRawData().appendData(e.data);
    }, t.prototype._getCoordsFromItemModel = function(e) {
        var n = this.getData().getItemModel(e);
        return n.option instanceof Array ? n.option : n.getShallow("coords");
    }, t.prototype.getLineCoordsCount = function(e) {
        return this._flatCoordsOffset ? this._flatCoordsOffset[2 * e + 1] : this._getCoordsFromItemModel(e).length;
    }, t.prototype.getLineCoords = function(e, n) {
        if (this._flatCoordsOffset) {
            for (var i = this._flatCoordsOffset[2 * e], r = this._flatCoordsOffset[2 * e + 1], a = 0; a < r; a++) n[a] = n[a] || [], 
            n[a][0] = this._flatCoords[i + 2 * a], n[a][1] = this._flatCoords[i + 2 * a + 1];
            return r;
        }
        var s = this._getCoordsFromItemModel(e);
        for (a = 0; a < s.length; a++) n[a] = n[a] || [], n[a][0] = s[a][0], n[a][1] = s[a][1];
        return s.length;
    }, t.prototype._processFlatCoordsArray = function(e) {
        var n = 0;
        if (this._flatCoords && (n = this._flatCoords.length), it(e[0])) {
            for (var i = e.length, r = new Kf(i), a = new $f(i), s = 0, l = 0, u = 0, d = 0; d < i; ) {
                u++;
                var h = e[d++];
                r[l++] = s + n, r[l++] = h;
                for (var c = 0; c < h; c++) {
                    var g = e[d++], p = e[d++];
                    a[s++] = g, a[s++] = p;
                }
            }
            return {
                flatCoordsOffset: new Uint32Array(r.buffer, 0, l),
                flatCoords: a,
                count: u
            };
        }
        return {
            flatCoordsOffset: null,
            flatCoords: null,
            count: e.length
        };
    }, t.prototype.getInitialData = function(e, n) {
        var i = new ze([ "value" ], this);
        return i.hasItemOption = !1, i.initData(e.data, [], function(r, a, s, l) {
            if (r instanceof Array) return NaN;
            i.hasItemOption = !0;
            var u = r.value;
            return u != null ? u instanceof Array ? u[l] : u : void 0;
        }), i;
    }, t.prototype.formatTooltip = function(e, n, i) {
        var r = this.getData().getItemModel(e), a = r.get("name");
        if (a) return a;
        var s = r.get("fromName"), l = r.get("toName"), u = [];
        return s != null && u.push(s), l != null && u.push(l), Ke("nameValue", {
            name: u.join(" > ")
        });
    }, t.prototype.preventIncremental = function() {
        return !!this.get([ "effect", "show" ]);
    }, t.prototype.getProgressive = function() {
        var e = this.option.progressive;
        return e ?? (this.option.large ? 1e4 : this.get("progressive"));
    }, t.prototype.getProgressiveThreshold = function() {
        var e = this.option.progressiveThreshold;
        return e ?? (this.option.large ? 2e4 : this.get("progressiveThreshold"));
    }, t.prototype.getZLevelKey = function() {
        var e = this.getModel("effect"), n = e.get("trailLength");
        return this.getData().count() > this.getProgressiveThreshold() ? this.id : e.get("show") && n > 0 ? n + "" : "";
    }, t.type = "series.lines", t.dependencies = [ "grid", "polar", "geo", "calendar" ], 
    t.defaultOption = {
        coordinateSystem: "geo",
        z: 2,
        legendHoverLink: !0,
        xAxisIndex: 0,
        yAxisIndex: 0,
        symbol: [ "none", "none" ],
        symbolSize: [ 10, 10 ],
        geoIndex: 0,
        effect: {
            show: !1,
            period: 4,
            constantSpeed: 0,
            symbol: "circle",
            symbolSize: 3,
            loop: !0,
            trailLength: .2
        },
        large: !1,
        largeThreshold: 2e3,
        polyline: !1,
        clip: !0,
        label: {
            show: !1,
            position: "end"
        },
        lineStyle: {
            opacity: .5
        }
    }, t;
}(Me);

const Jf = Qf;

function no(o) {
    return o instanceof Array || (o = [ o, o ]), o;
}

const eg = {
    seriesType: "lines",
    reset: function(o) {
        var t = no(o.get("symbol")), e = no(o.get("symbolSize")), n = o.getData();
        return n.setVisual("fromSymbol", t && t[0]), n.setVisual("toSymbol", t && t[1]), 
        n.setVisual("fromSymbolSize", e && e[0]), n.setVisual("toSymbolSize", e && e[1]), 
        {
            dataEach: n.hasItemOption ? function(i, r) {
                var a = i.getItemModel(r), s = no(a.getShallow("symbol", !0)), l = no(a.getShallow("symbolSize", !0));
                s[0] && i.setItemVisual(r, "fromSymbol", s[0]), s[1] && i.setItemVisual(r, "toSymbol", s[1]), 
                l[0] && i.setItemVisual(r, "fromSymbolSize", l[0]), l[1] && i.setItemVisual(r, "toSymbolSize", l[1]);
            } : null
        };
    }
};

var tg = function() {
    function o() {
        this.blurSize = 30, this.pointSize = 20, this.maxOpacity = 1, this.minOpacity = 0, 
        this._gradientPixels = {
            inRange: null,
            outOfRange: null
        };
        var t = ia.createCanvas();
        this.canvas = t;
    }
    return o.prototype.update = function(t, e, n, i, r, a) {
        var s = this._getBrush(), l = this._getGradient(r, "inRange"), u = this._getGradient(r, "outOfRange"), d = this.pointSize + this.blurSize, h = this.canvas, c = h.getContext("2d"), g = t.length;
        h.width = e, h.height = n;
        for (var p = 0; p < g; ++p) {
            var f = t[p], y = f[0], x = f[1], S = i(f[2]);
            c.globalAlpha = S, c.drawImage(s, y - d, x - d);
        }
        if (!h.width || !h.height) return h;
        for (var m = c.getImageData(0, 0, h.width, h.height), v = m.data, b = 0, _ = v.length, w = this.minOpacity, I = this.maxOpacity - w; b < _; ) {
            S = v[b + 3] / 256;
            var M = 4 * Math.floor(255 * S);
            if (S > 0) {
                var D = a(S) ? l : u;
                S > 0 && (S = S * I + w), v[b++] = D[M], v[b++] = D[M + 1], v[b++] = D[M + 2], 
                v[b++] = D[M + 3] * S * 256;
            } else b += 4;
        }
        return c.putImageData(m, 0, 0), h;
    }, o.prototype._getBrush = function() {
        var t = this._brushCanvas || (this._brushCanvas = ia.createCanvas()), e = this.pointSize + this.blurSize, n = 2 * e;
        t.width = n, t.height = n;
        var i = t.getContext("2d");
        return i.clearRect(0, 0, n, n), i.shadowOffsetX = n, i.shadowBlur = this.blurSize, 
        i.shadowColor = "#000", i.beginPath(), i.arc(-e, e, this.pointSize, 0, 2 * Math.PI, !0), 
        i.closePath(), i.fill(), t;
    }, o.prototype._getGradient = function(t, e) {
        for (var n = this._gradientPixels, i = n[e] || (n[e] = new Uint8ClampedArray(1024)), r = [ 0, 0, 0, 0 ], a = 0, s = 0; s < 256; s++) t[e](s / 255, !0, r), 
        i[a++] = r[0], i[a++] = r[1], i[a++] = r[2], i[a++] = r[3];
        return i;
    }, o;
}();

const ng = tg;

function al(o) {
    var t = o.dimensions;
    return t[0] === "lng" && t[1] === "lat";
}

var og = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.render = function(e, n, i) {
        var r;
        n.eachComponent("visualMap", function(s) {
            s.eachTargetSeries(function(l) {
                l === e && (r = s);
            });
        }), this._progressiveEls = null, this.group.removeAll();
        var a = e.coordinateSystem;
        a.type === "cartesian2d" || a.type === "calendar" ? this._renderOnCartesianAndCalendar(e, i, 0, e.getData().count()) : al(a) && this._renderOnGeo(a, e, r, i);
    }, t.prototype.incrementalPrepareRender = function(e, n, i) {
        this.group.removeAll();
    }, t.prototype.incrementalRender = function(e, n, i, r) {
        var a = n.coordinateSystem;
        a && (al(a) ? this.render(n, i, r) : (this._progressiveEls = [], this._renderOnCartesianAndCalendar(n, r, e.start, e.end, !0)));
    }, t.prototype.eachRendered = function(e) {
        Bn(this._progressiveEls || this.group, e);
    }, t.prototype._renderOnCartesianAndCalendar = function(e, n, i, r, a) {
        var s, l, u, d, h = e.coordinateSystem, c = Gn(h, "cartesian2d");
        if (c) {
            var g = h.getAxis("x"), p = h.getAxis("y");
            s = g.getBandWidth() + .5, l = p.getBandWidth() + .5, u = g.scale.getExtent(), 
            d = p.scale.getExtent();
        }
        for (var f = this.group, y = e.getData(), x = e.getModel([ "emphasis", "itemStyle" ]).getItemStyle(), S = e.getModel([ "blur", "itemStyle" ]).getItemStyle(), m = e.getModel([ "select", "itemStyle" ]).getItemStyle(), v = e.get([ "itemStyle", "borderRadius" ]), b = $e(e), _ = e.getModel("emphasis"), w = _.get("focus"), I = _.get("blurScope"), M = _.get("disabled"), D = c ? [ y.mapDimension("x"), y.mapDimension("y"), y.mapDimension("value") ] : [ y.mapDimension("time"), y.mapDimension("value") ], L = i; L < r; L++) {
            var C = void 0, A = y.getItemVisual(L, "style");
            if (c) {
                var T = y.get(D[0], L), V = y.get(D[1], L);
                if (isNaN(y.get(D[2], L)) || isNaN(T) || isNaN(V) || T < u[0] || T > u[1] || V < d[0] || V > d[1]) continue;
                var N = h.dataToPoint([ T, V ]);
                C = new Re({
                    shape: {
                        x: N[0] - s / 2,
                        y: N[1] - l / 2,
                        width: s,
                        height: l
                    },
                    style: A
                });
            } else {
                if (isNaN(y.get(D[1], L))) continue;
                C = new Re({
                    z2: 1,
                    shape: h.dataToRect([ y.get(D[0], L) ]).contentShape,
                    style: A
                });
            }
            if (y.hasItemOption) {
                var k = y.getItemModel(L), P = k.getModel("emphasis");
                x = P.getModel("itemStyle").getItemStyle(), S = k.getModel([ "blur", "itemStyle" ]).getItemStyle(), 
                m = k.getModel([ "select", "itemStyle" ]).getItemStyle(), v = k.get([ "itemStyle", "borderRadius" ]), 
                w = P.get("focus"), I = P.get("blurScope"), M = P.get("disabled"), 
                b = $e(k);
            }
            C.shape.r = v;
            var R = e.getRawValue(L), z = "-";
            R && R[2] != null && (z = R[2] + ""), pt(C, b, {
                labelFetcher: e,
                labelDataIndex: L,
                defaultOpacity: A.opacity,
                defaultText: z
            }), C.ensureState("emphasis").style = x, C.ensureState("blur").style = S, 
            C.ensureState("select").style = m, Pe(C, w, I, M), C.incremental = a, 
            a && (C.states.emphasis.hoverLayer = !0), f.add(C), y.setItemGraphicEl(L, C), 
            this._progressiveEls && this._progressiveEls.push(C);
        }
    }, t.prototype._renderOnGeo = function(e, n, i, r) {
        var a = i.targetVisuals.inRange, s = i.targetVisuals.outOfRange, l = n.getData(), u = this._hmLayer || this._hmLayer || new ng();
        u.blurSize = n.get("blurSize"), u.pointSize = n.get("pointSize"), u.minOpacity = n.get("minOpacity"), 
        u.maxOpacity = n.get("maxOpacity");
        var d = e.getViewRect().clone(), h = e.getRoamTransform();
        d.applyTransform(h);
        var c = Math.max(d.x, 0), g = Math.max(d.y, 0), p = Math.min(d.width + d.x, r.getWidth()), f = Math.min(d.height + d.y, r.getHeight()), y = p - c, x = f - g, S = [ l.mapDimension("lng"), l.mapDimension("lat"), l.mapDimension("value") ], m = l.mapArray(S, function(w, I, M) {
            var D = e.dataToPoint([ w, I ]);
            return D[0] -= c, D[1] -= g, D.push(M), D;
        }), v = i.getExtent(), b = i.type === "visualMap.continuous" ? function(w, I) {
            var M = w[1] - w[0];
            return I = [ (I[0] - w[0]) / M, (I[1] - w[0]) / M ], function(D) {
                return D >= I[0] && D <= I[1];
            };
        }(v, i.option.range) : function(w, I, M) {
            var D = w[1] - w[0], L = (I = K(I, function(A) {
                return {
                    interval: [ (A.interval[0] - w[0]) / D, (A.interval[1] - w[0]) / D ]
                };
            })).length, C = 0;
            return function(A) {
                var T;
                for (T = C; T < L; T++) if ((V = I[T].interval)[0] <= A && A <= V[1]) {
                    C = T;
                    break;
                }
                if (T === L) for (T = C - 1; T >= 0; T--) {
                    var V;
                    if ((V = I[T].interval)[0] <= A && A <= V[1]) {
                        C = T;
                        break;
                    }
                }
                return T >= 0 && T < L && M[T];
            };
        }(v, i.getPieceList(), i.option.selected);
        u.update(m, y, x, a.color.getNormalizer(), {
            inRange: a.color.getColorMapper(),
            outOfRange: s.color.getColorMapper()
        }, b);
        var _ = new $t({
            style: {
                width: y,
                height: x,
                x: c,
                y: g,
                image: u.canvas
            },
            silent: !0
        });
        this.group.add(_);
    }, t.type = "heatmap", t;
}(De);

const ig = og, rg = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.getInitialData = function(e, n) {
        return Et(null, this, {
            generateCoord: "value"
        });
    }, t.prototype.preventIncremental = function() {
        var e = Qr.get(this.get("coordinateSystem"));
        if (e && e.dimensions) return e.dimensions[0] === "lng" && e.dimensions[1] === "lat";
    }, t.type = "series.heatmap", t.dependencies = [ "grid", "geo", "calendar" ], 
    t.defaultOption = {
        coordinateSystem: "cartesian2d",
        z: 2,
        geoIndex: 0,
        blurSize: 30,
        pointSize: 20,
        maxOpacity: 1,
        minOpacity: 0,
        select: {
            itemStyle: {
                borderColor: "#212121"
            }
        }
    }, t;
}(Me);

var ag = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e._layers = [], e;
    }
    return W(t, o), t.prototype.render = function(e, n, i) {
        var r = e.getData(), a = this, s = this.group, l = e.getLayerSeries(), u = r.getLayout("layoutInfo"), d = u.rect, h = u.boundaryGap;
        function c(y) {
            return y.name;
        }
        s.x = 0, s.y = d.y + h[0];
        var g = new Rt(this._layersSeries || [], l, c, c), p = [];
        function f(y, x, S) {
            var m = a._layers;
            if (y !== "remove") {
                for (var v, b, _ = [], w = [], I = l[x].indices, M = 0; M < I.length; M++) {
                    var D = r.getItemLayout(I[M]), L = D.x, C = D.y0, A = D.y;
                    _.push(L, C), w.push(L, C + A), v = r.getItemVisual(I[M], "style");
                }
                var T = r.getItemLayout(I[0]), V = e.getModel("label").get("margin"), N = e.getModel("emphasis");
                if (y === "add") {
                    var k = p[x] = new de();
                    b = new Fd({
                        shape: {
                            points: _,
                            stackedOnPoints: w,
                            smooth: .4,
                            stackedOnSmooth: .4,
                            smoothConstraint: !1
                        },
                        z2: 0
                    }), k.add(b), s.add(k), e.isAnimationEnabled() && b.setClipPath(function(R, z, B) {
                        var G = new Re({
                            shape: {
                                x: R.x - 10,
                                y: R.y - 10,
                                width: 0,
                                height: R.height + 20
                            }
                        });
                        return gt(G, {
                            shape: {
                                x: R.x - 50,
                                width: R.width + 100,
                                height: R.height + 20
                            }
                        }, z, B), G;
                    }(b.getBoundingRect(), e, function() {
                        b.removeClipPath();
                    }));
                } else k = m[S], b = k.childAt(0), s.add(k), p[x] = k, Ae(b, {
                    shape: {
                        points: _,
                        stackedOnPoints: w
                    }
                }, e), Bt(b);
                pt(b, $e(e), {
                    labelDataIndex: I[M - 1],
                    defaultText: r.getName(I[M - 1]),
                    inheritColor: v.fill
                }, {
                    normal: {
                        verticalAlign: "middle"
                    }
                }), b.setTextConfig({
                    position: null,
                    local: !0
                });
                var P = b.getTextContent();
                P && (P.x = T.x - V, P.y = T.y0 + T.y / 2), b.useStyle(v), r.setItemGraphicEl(x, b), 
                at(b, e), Pe(b, N.get("focus"), N.get("blurScope"), N.get("disabled"));
            } else s.remove(m[x]);
        }
        g.add(ee(f, this, "add")).update(ee(f, this, "update")).remove(ee(f, this, "remove")).execute(), 
        this._layersSeries = l, this._layers = p;
    }, t.type = "themeRiver", t;
}(De);

const sg = ag;

var lg = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.init = function(e) {
        o.prototype.init.apply(this, arguments), this.legendVisualProvider = new Eo(ee(this.getData, this), ee(this.getRawData, this));
    }, t.prototype.fixData = function(e) {
        var n = e.length, i = {}, r = Oo(e, function(c) {
            return i.hasOwnProperty(c[0] + "") || (i[c[0] + ""] = -1), c[2];
        }), a = [];
        r.buckets.each(function(c, g) {
            a.push({
                name: g,
                dataList: c
            });
        });
        for (var s = a.length, l = 0; l < s; ++l) {
            for (var u = a[l].name, d = 0; d < a[l].dataList.length; ++d) {
                var h = a[l].dataList[d][0] + "";
                i[h] = l;
            }
            for (var h in i) i.hasOwnProperty(h) && i[h] !== l && (i[h] = l, e[n] = [ h, 0, u ], 
            n++);
        }
        return e;
    }, t.prototype.getInitialData = function(e, n) {
        for (var i = this.getReferringComponents("singleAxis", ra).models[0].get("type"), r = je(e.data, function(g) {
            return g[2] !== void 0;
        }), a = this.fixData(r || []), s = [], l = this.nameMap = be(), u = 0, d = 0; d < a.length; ++d) s.push(a[d][2]), 
        l.get(a[d][2]) || (l.set(a[d][2], u), u++);
        var h = Ao(a, {
            coordDimensions: [ "single" ],
            dimensionsDefine: [ {
                name: "time",
                type: Bo(i)
            }, {
                name: "value",
                type: "float"
            }, {
                name: "name",
                type: "ordinal"
            } ],
            encodeDefine: {
                single: 0,
                value: 1,
                itemName: 2
            }
        }).dimensions, c = new ze(h, this);
        return c.initData(a), c;
    }, t.prototype.getLayerSeries = function() {
        for (var e = this.getData(), n = e.count(), i = [], r = 0; r < n; ++r) i[r] = r;
        var a = e.mapDimension("single"), s = Oo(i, function(u) {
            return e.get("name", u);
        }), l = [];
        return s.buckets.each(function(u, d) {
            u.sort(function(h, c) {
                return e.get(a, h) - e.get(a, c);
            }), l.push({
                name: d,
                indices: u
            });
        }), l;
    }, t.prototype.getAxisTooltipData = function(e, n, i) {
        $(e) || (e = e ? [ e ] : []);
        for (var r, a = this.getData(), s = this.getLayerSeries(), l = [], u = s.length, d = 0; d < u; ++d) {
            for (var h = Number.MAX_VALUE, c = -1, g = s[d].indices.length, p = 0; p < g; ++p) {
                var f = a.get(e[0], s[d].indices[p]), y = Math.abs(f - n);
                y <= h && (r = f, h = y, c = s[d].indices[p]);
            }
            l.push(c);
        }
        return {
            dataIndices: l,
            nestestValue: r
        };
    }, t.prototype.formatTooltip = function(e, n, i) {
        var r = this.getData(), a = r.getName(e), s = r.get(r.mapDimension("value"), e);
        return Ke("nameValue", {
            name: a,
            value: s
        });
    }, t.type = "series.themeRiver", t.dependencies = [ "singleAxis" ], t.defaultOption = {
        z: 2,
        colorBy: "data",
        coordinateSystem: "singleAxis",
        boundaryGap: [ "10%", "10%" ],
        singleAxisIndex: 0,
        animationEasing: "linear",
        label: {
            margin: 4,
            show: !0,
            position: "left",
            fontSize: 11
        },
        emphasis: {
            label: {
                show: !0
            }
        }
    }, t;
}(Me);

const ug = lg;

function dg(o, t) {
    o.eachSeriesByType("themeRiver", function(e) {
        var n = e.getData(), i = e.coordinateSystem, r = {}, a = i.getRect();
        r.rect = a;
        var s = e.get("boundaryGap"), l = i.getAxis();
        r.boundaryGap = s, l.orient === "horizontal" ? (s[0] = oe(s[0], a.height), 
        s[1] = oe(s[1], a.height), sl(n, e, a.height - s[0] - s[1])) : (s[0] = oe(s[0], a.width), 
        s[1] = oe(s[1], a.width), sl(n, e, a.width - s[0] - s[1])), n.setLayout("layoutInfo", r);
    });
}

function sl(o, t, e) {
    if (o.count()) for (var n, i = t.coordinateSystem, r = t.getLayerSeries(), a = o.mapDimension("single"), s = o.mapDimension("value"), l = K(r, function(y) {
        return K(y.indices, function(x) {
            var S = i.dataToPoint(o.get(a, x));
            return S[1] = o.get(s, x), S;
        });
    }), u = function(y) {
        for (var x = y.length, S = y[0].length, m = [], v = [], b = 0, _ = 0; _ < S; ++_) {
            for (var w = 0, I = 0; I < x; ++I) w += y[I][_][1];
            w > b && (b = w), m.push(w);
        }
        for (var M = 0; M < S; ++M) v[M] = (b - m[M]) / 2;
        b = 0;
        for (var D = 0; D < S; ++D) {
            var L = m[D] + v[D];
            L > b && (b = L);
        }
        return {
            y0: v,
            max: b
        };
    }(l), d = u.y0, h = e / u.max, c = r.length, g = r[0].indices.length, p = 0; p < g; ++p) {
        n = d[p] * h, o.setItemLayout(r[0].indices[p], {
            layerIndex: 0,
            x: l[0][p][0],
            y0: n,
            y: l[0][p][1] * h
        });
        for (var f = 1; f < c; ++f) n += l[f - 1][p][1] * h, o.setItemLayout(r[f].indices[p], {
            layerIndex: f,
            x: l[f][p][0],
            y0: n,
            y: l[f][p][1] * h
        });
    }
}

var hg = function(o) {
    function t(e, n, i, r) {
        var a = o.call(this) || this;
        a.z2 = 2, a.textConfig = {
            inside: !0
        }, me(a).seriesIndex = n.seriesIndex;
        var s = new Fe({
            z2: 4,
            silent: e.getModel().get([ "label", "silent" ])
        });
        return a.setTextContent(s), a.updateData(!0, e, n, i, r), a;
    }
    return W(t, o), t.prototype.updateData = function(e, n, i, r, a) {
        this.node = n, n.piece = this, i = i || this._seriesModel, r = r || this._ecModel;
        var s = this;
        me(s).dataIndex = n.dataIndex;
        var l = n.getModel(), u = l.getModel("emphasis"), d = n.getLayout(), h = Q({}, d);
        h.label = null;
        var c = n.getVisual("style");
        c.lineJoin = "bevel";
        var g = n.getVisual("decal");
        g && (c.decal = aa(g, a));
        var p = sa(l.getModel("itemStyle"), h, !0);
        Q(h, p), E(Po, function(S) {
            var m = s.ensureState(S), v = l.getModel([ S, "itemStyle" ]);
            m.style = v.getItemStyle();
            var b = sa(v, h);
            b && (m.shape = b);
        }), e ? (s.setShape(h), s.shape.r = d.r0, gt(s, {
            shape: {
                r: d.r
            }
        }, i, n.dataIndex)) : (Ae(s, {
            shape: h
        }, i), Bt(s)), s.useStyle(c), this._updateLabel(i);
        var f = l.getShallow("cursor");
        f && s.attr("cursor", f), this._seriesModel = i || this._seriesModel, this._ecModel = r || this._ecModel;
        var y = u.get("focus"), x = y === "ancestor" ? n.getAncestorsIndices() : y === "descendant" ? n.getDescendantIndices() : y;
        Pe(this, x, u.get("blurScope"), u.get("disabled"));
    }, t.prototype._updateLabel = function(e) {
        var n = this, i = this.node.getModel(), r = i.getModel("label"), a = this.node.getLayout(), s = a.endAngle - a.startAngle, l = (a.startAngle + a.endAngle) / 2, u = Math.cos(l), d = Math.sin(l), h = this, c = h.getTextContent(), g = this.node.dataIndex, p = r.get("minAngle") / 180 * Math.PI, f = r.get("show") && !(p != null && Math.abs(s) < p);
        function y(x, S) {
            var m = x.get(S);
            return m ?? r.get(S);
        }
        c.ignore = !f, E(Wd, function(x) {
            var S = x === "normal" ? i.getModel("label") : i.getModel([ x, "label" ]), m = x === "normal", v = m ? c : c.ensureState(x), b = e.getFormattedLabel(g, x);
            m && (b = b || n.node.name), v.style = We(S, {}, null, x !== "normal", !0), 
            b && (v.style.text = b);
            var _ = S.get("show");
            _ == null || m || (v.ignore = !_);
            var w, I = y(S, "position"), M = m ? h : h.states[x], D = M.style.fill;
            M.textConfig = {
                outsideFill: S.get("color") === "inherit" ? D : null,
                inside: I !== "outside"
            };
            var L = y(S, "distance") || 0, C = y(S, "align"), A = y(S, "rotate"), T = .5 * Math.PI, V = 1.5 * Math.PI, N = Fn(A === "tangential" ? Math.PI / 2 - l : l), k = N > T && !Hd(N - T) && N < V;
            I === "outside" ? (w = a.r + L, C = k ? "right" : "left") : C && C !== "center" ? C === "left" ? (w = a.r0 + L, 
            C = k ? "right" : "left") : C === "right" && (w = a.r - L, C = k ? "left" : "right") : (w = s === 2 * Math.PI && a.r0 === 0 ? 0 : (a.r + a.r0) / 2, 
            C = "center"), v.style.align = C, v.style.verticalAlign = y(S, "verticalAlign") || "middle", 
            v.x = w * u + a.cx, v.y = w * d + a.cy;
            var P = 0;
            A === "radial" ? P = Fn(-l) + (k ? Math.PI : 0) : A === "tangential" ? P = Fn(Math.PI / 2 - l) + (k ? Math.PI : 0) : it(A) && (P = A * Math.PI / 180), 
            v.rotation = Fn(P);
        }), c.dirtyStyle();
    }, t;
}(Zo);

const ll = hg;

var Zi = "sunburstRootToNode", ul = "sunburstHighlight", cg = "sunburstUnhighlight", pg = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.render = function(e, n, i, r) {
        var a = this;
        this.seriesModel = e, this.api = i, this.ecModel = n;
        var s = e.getData(), l = s.tree.root, u = e.getViewRoot(), d = this.group, h = e.get("renderLabelForZeroData"), c = [];
        u.eachNode(function(p) {
            c.push(p);
        });
        var g = this._oldChildren || [];
        (function(p, f) {
            if (p.length === 0 && f.length === 0) return;
            function y(S) {
                return S.getId();
            }
            function x(S, m) {
                (function(v, b) {
                    if (h || !v || v.getValue() || (v = null), v !== l && b !== l) {
                        if (b && b.piece) v ? (b.piece.updateData(!1, v, e, n, i), 
                        s.setItemGraphicEl(v.dataIndex, b.piece)) : function(w) {
                            w && w.piece && (d.remove(w.piece), w.piece = null);
                        }(b); else if (v) {
                            var _ = new ll(v, e, n, i);
                            d.add(_), s.setItemGraphicEl(v.dataIndex, _);
                        }
                    }
                })(S == null ? null : p[S], m == null ? null : f[m]);
            }
            new Rt(f, p, y, y).add(x).update(x).remove(he(x, null)).execute();
        })(c, g), function(p, f) {
            f.depth > 0 ? (a.virtualPiece ? a.virtualPiece.updateData(!1, p, e, n, i) : (a.virtualPiece = new ll(p, e, n, i), 
            d.add(a.virtualPiece)), f.piece.off("click"), a.virtualPiece.on("click", function(y) {
                a._rootToNode(f.parentNode);
            })) : a.virtualPiece && (d.remove(a.virtualPiece), a.virtualPiece = null);
        }(l, u), this._initEvents(), this._oldChildren = c;
    }, t.prototype._initEvents = function() {
        var e = this;
        this.group.off("click"), this.group.on("click", function(n) {
            var i = !1;
            e.seriesModel.getViewRoot().eachNode(function(r) {
                if (!i && r.piece && r.piece === n.target) {
                    var a = r.getModel().get("nodeClick");
                    if (a === "rootToNode") e._rootToNode(r); else if (a === "link") {
                        var s = r.getModel(), l = s.get("link");
                        if (l) {
                            var u = s.get("target", !0) || "_blank";
                            Hr(l, u);
                        }
                    }
                    i = !0;
                }
            });
        });
    }, t.prototype._rootToNode = function(e) {
        e !== this.seriesModel.getViewRoot() && this.api.dispatchAction({
            type: Zi,
            from: this.uid,
            seriesId: this.seriesModel.id,
            targetNode: e
        });
    }, t.prototype.containPoint = function(e, n) {
        var i = n.getData().getItemLayout(0);
        if (i) {
            var r = e[0] - i.cx, a = e[1] - i.cy, s = Math.sqrt(r * r + a * a);
            return s <= i.r && s >= i.r0;
        }
    }, t.type = "sunburst", t;
}(De);

const fg = pg;

function dl(o) {
    var t = 0;
    E(o.children, function(n) {
        dl(n);
        var i = n.value;
        $(i) && (i = i[0]), t += i;
    });
    var e = o.value;
    $(e) && (e = e[0]), (e == null || isNaN(e)) && (e = t), e < 0 && (e = 0), $(o.value) ? o.value[0] = e : o.value = e;
}

const gg = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e.ignoreStyleOnData = !0, e;
    }
    return W(t, o), t.prototype.getInitialData = function(e, n) {
        var i = {
            name: e.name,
            children: e.data
        };
        dl(i);
        var r = this._levelModels = K(e.levels || [], function(s) {
            return new ct(s, this, n);
        }, this), a = fi.createTree(i, this, function(s) {
            s.wrapMethod("getItemModel", function(l, u) {
                var d = a.getNodeByDataIndex(u), h = r[d.depth];
                return h && (l.parentModel = h), l;
            });
        });
        return a.data;
    }, t.prototype.optionUpdated = function() {
        this.resetViewRoot();
    }, t.prototype.getDataParams = function(e) {
        var n = o.prototype.getDataParams.apply(this, arguments), i = this.getData().tree.getNodeByDataIndex(e);
        return n.treePathInfo = Kn(i, this), n;
    }, t.prototype.getLevelModel = function(e) {
        return this._levelModels && this._levelModels[e.depth];
    }, t.prototype.getViewRoot = function() {
        return this._viewRoot;
    }, t.prototype.resetViewRoot = function(e) {
        e ? this._viewRoot = e : e = this._viewRoot;
        var n = this.getRawData().tree.root;
        e && (e === n || n.contains(e)) || (this._viewRoot = n);
    }, t.prototype.enableAriaDecal = function() {
        us(this);
    }, t.type = "series.sunburst", t.defaultOption = {
        z: 2,
        center: [ "50%", "50%" ],
        radius: [ 0, "75%" ],
        clockwise: !0,
        startAngle: 90,
        minAngle: 0,
        stillShowZeroSum: !0,
        nodeClick: "rootToNode",
        renderLabelForZeroData: !1,
        label: {
            rotate: "radial",
            show: !0,
            opacity: 1,
            align: "center",
            position: "inside",
            distance: 5,
            silent: !0
        },
        itemStyle: {
            borderWidth: 1,
            borderColor: "white",
            borderType: "solid",
            shadowBlur: 0,
            shadowColor: "rgba(0, 0, 0, 0.2)",
            shadowOffsetX: 0,
            shadowOffsetY: 0,
            opacity: 1
        },
        emphasis: {
            focus: "descendant"
        },
        blur: {
            itemStyle: {
                opacity: .2
            },
            label: {
                opacity: .1
            }
        },
        animationType: "expansion",
        animationDuration: 1e3,
        animationDurationUpdate: 500,
        data: [],
        sort: "desc"
    }, t;
}(Me);

var hl = Math.PI / 180;

function yg(o, t, e) {
    t.eachSeriesByType(o, function(n) {
        var i = n.get("center"), r = n.get("radius");
        $(r) || (r = [ 0, r ]), $(i) || (i = [ i, i ]);
        var a = e.getWidth(), s = e.getHeight(), l = Math.min(a, s), u = oe(i[0], a), d = oe(i[1], s), h = oe(r[0], l / 2), c = oe(r[1], l / 2), g = -n.get("startAngle") * hl, p = n.get("minAngle") * hl, f = n.getData().tree.root, y = n.getViewRoot(), x = y.depth, S = n.get("sort");
        S != null && cl(y, S);
        var m = 0;
        E(y.children, function(N) {
            !isNaN(N.getValue()) && m++;
        });
        var v = y.getValue(), b = Math.PI / (v || m) * 2, _ = y.depth > 0, w = y.height - (_ ? -1 : 1), I = (c - h) / (w || 1), M = n.get("clockwise"), D = n.get("stillShowZeroSum"), L = M ? 1 : -1, C = function(N, k) {
            if (N) {
                var P = k;
                if (N !== f) {
                    var R = N.getValue(), z = v === 0 && D ? b : R * b;
                    z < p && (z = p), P = k + L * z;
                    var B = N.depth - x - (_ ? -1 : 1), G = h + I * B, U = h + I * (B + 1), O = n.getLevelModel(N);
                    if (O) {
                        var F = O.get("r0", !0), j = O.get("r", !0), Y = O.get("radius", !0);
                        Y != null && (F = Y[0], j = Y[1]), F != null && (G = oe(F, l / 2)), 
                        j != null && (U = oe(j, l / 2));
                    }
                    N.setLayout({
                        angle: z,
                        startAngle: k,
                        endAngle: P,
                        clockwise: M,
                        cx: u,
                        cy: d,
                        r0: G,
                        r: U
                    });
                }
                if (N.children && N.children.length) {
                    var H = 0;
                    E(N.children, function(X) {
                        H += C(X, k + H);
                    });
                }
                return P - k;
            }
        };
        if (_) {
            var A = h, T = h + I, V = 2 * Math.PI;
            f.setLayout({
                angle: V,
                startAngle: g,
                endAngle: g + V,
                clockwise: M,
                cx: u,
                cy: d,
                r0: A,
                r: T
            });
        }
        C(y, g);
    });
}

function cl(o, t) {
    var e = o.children || [];
    o.children = function(n, i) {
        if (ve(i)) {
            var r = K(n, function(s, l) {
                var u = s.getValue();
                return {
                    params: {
                        depth: s.depth,
                        height: s.height,
                        dataIndex: s.dataIndex,
                        getValue: function() {
                            return u;
                        }
                    },
                    index: l
                };
            });
            return r.sort(function(s, l) {
                return i(s.params, l.params);
            }), K(r, function(s) {
                return n[s.index];
            });
        }
        var a = i === "asc";
        return n.sort(function(s, l) {
            var u = (s.getValue() - l.getValue()) * (a ? 1 : -1);
            return u === 0 ? (s.dataIndex - l.dataIndex) * (a ? -1 : 1) : u;
        });
    }(e, t), e.length && E(o.children, function(n) {
        cl(n, t);
    });
}

function vg(o) {
    var t = {};
    o.eachSeriesByType("sunburst", function(e) {
        var n = e.getData(), i = n.tree;
        i.eachNode(function(r) {
            var a = r.getModel().getModel("itemStyle").getItemStyle();
            a.fill || (a.fill = function(l, u, d) {
                for (var h = l; h && h.depth > 1; ) h = h.parentNode;
                var c = u.getColorFromPalette(h.name || h.dataIndex + "", t);
                return l.depth > 1 && ue(c) && (c = Zd(c, (l.depth - 1) / (d - 1) * .5)), 
                c;
            }(r, e, i.root.height));
            var s = n.ensureUniqueItemVisual(r.dataIndex, "style");
            Q(s, a);
        });
    });
}

var pl = {
    color: "fill",
    borderColor: "stroke"
}, mg = {
    symbol: 1,
    symbolSize: 1,
    symbolKeepAspect: 1,
    legendIcon: 1,
    visualMeta: 1,
    liftZ: 1,
    decal: 1
}, ut = Te();

const xg = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.optionUpdated = function() {
        this.currentZLevel = this.get("zlevel", !0), this.currentZ = this.get("z", !0);
    }, t.prototype.getInitialData = function(e, n) {
        return Et(null, this);
    }, t.prototype.getDataParams = function(e, n, i) {
        var r = o.prototype.getDataParams.call(this, e, n);
        return i && (r.info = ut(i).info), r;
    }, t.type = "series.custom", t.dependencies = [ "grid", "polar", "geo", "singleAxis", "calendar" ], 
    t.defaultOption = {
        coordinateSystem: "cartesian2d",
        z: 2,
        legendHoverLink: !0,
        clip: !1
    }, t;
}(Me);

function _g(o, t) {
    return t = t || [ 0, 0 ], K([ "x", "y" ], function(e, n) {
        var i = this.getAxis(e), r = t[n], a = o[n] / 2;
        return i.type === "category" ? i.getBandWidth() : Math.abs(i.dataToCoord(r - a) - i.dataToCoord(r + a));
    }, this);
}

function bg(o, t) {
    return t = t || [ 0, 0 ], K([ 0, 1 ], function(e) {
        var n = t[e], i = o[e] / 2, r = [], a = [];
        return r[e] = n - i, a[e] = n + i, r[1 - e] = a[1 - e] = t[1 - e], Math.abs(this.dataToPoint(r)[e] - this.dataToPoint(a)[e]);
    }, this);
}

function Sg(o, t) {
    var e = this.getAxis(), n = t instanceof Array ? t[0] : t, i = (o instanceof Array ? o[0] : o) / 2;
    return e.type === "category" ? e.getBandWidth() : Math.abs(e.dataToCoord(n - i) - e.dataToCoord(n + i));
}

function wg(o, t) {
    return t = t || [ 0, 0 ], K([ "Radius", "Angle" ], function(e, n) {
        var i = this["get" + e + "Axis"](), r = t[n], a = o[n] / 2, s = i.type === "category" ? i.getBandWidth() : Math.abs(i.dataToCoord(r - a) - i.dataToCoord(r + a));
        return e === "Angle" && (s = s * Math.PI / 180), s;
    }, this);
}

function fl(o, t, e, n) {
    return o && (o.legacy || o.legacy !== !1 && !e && !n && t !== "tspan" && (t === "text" || Z(o, "text")));
}

function gl(o, t, e) {
    var n, i, r, a = o;
    if (t === "text") r = a; else {
        r = {}, Z(a, "text") && (r.text = a.text), Z(a, "rich") && (r.rich = a.rich), 
        Z(a, "textFill") && (r.fill = a.textFill), Z(a, "textStroke") && (r.stroke = a.textStroke), 
        Z(a, "fontFamily") && (r.fontFamily = a.fontFamily), Z(a, "fontSize") && (r.fontSize = a.fontSize), 
        Z(a, "fontStyle") && (r.fontStyle = a.fontStyle), Z(a, "fontWeight") && (r.fontWeight = a.fontWeight), 
        i = {
            type: "text",
            style: r,
            silent: !0
        }, n = {};
        var s = Z(a, "textPosition");
        e ? n.position = s ? a.textPosition : "inside" : s && (n.position = a.textPosition), 
        Z(a, "textPosition") && (n.position = a.textPosition), Z(a, "textOffset") && (n.offset = a.textOffset), 
        Z(a, "textRotation") && (n.rotation = a.textRotation), Z(a, "textDistance") && (n.distance = a.textDistance);
    }
    return yl(r, o), E(r.rich, function(l) {
        yl(l, l);
    }), {
        textConfig: n,
        textContent: i
    };
}

function yl(o, t) {
    t && (t.font = t.textFont || t.font, Z(t, "textStrokeWidth") && (o.lineWidth = t.textStrokeWidth), 
    Z(t, "textAlign") && (o.align = t.textAlign), Z(t, "textVerticalAlign") && (o.verticalAlign = t.textVerticalAlign), 
    Z(t, "textLineHeight") && (o.lineHeight = t.textLineHeight), Z(t, "textWidth") && (o.width = t.textWidth), 
    Z(t, "textHeight") && (o.height = t.textHeight), Z(t, "textBackgroundColor") && (o.backgroundColor = t.textBackgroundColor), 
    Z(t, "textPadding") && (o.padding = t.textPadding), Z(t, "textBorderColor") && (o.borderColor = t.textBorderColor), 
    Z(t, "textBorderWidth") && (o.borderWidth = t.textBorderWidth), Z(t, "textBorderRadius") && (o.borderRadius = t.textBorderRadius), 
    Z(t, "textBoxShadowColor") && (o.shadowColor = t.textBoxShadowColor), Z(t, "textBoxShadowBlur") && (o.shadowBlur = t.textBoxShadowBlur), 
    Z(t, "textBoxShadowOffsetX") && (o.shadowOffsetX = t.textBoxShadowOffsetX), 
    Z(t, "textBoxShadowOffsetY") && (o.shadowOffsetY = t.textBoxShadowOffsetY));
}

function vl(o, t, e) {
    var n = o;
    n.textPosition = n.textPosition || e.position || "inside", e.offset != null && (n.textOffset = e.offset), 
    e.rotation != null && (n.textRotation = e.rotation), e.distance != null && (n.textDistance = e.distance);
    var i = n.textPosition.indexOf("inside") >= 0, r = o.fill || "#000";
    ml(n, t);
    var a = n.textFill == null;
    return i ? a && (n.textFill = e.insideFill || "#fff", !n.textStroke && e.insideStroke && (n.textStroke = e.insideStroke), 
    !n.textStroke && (n.textStroke = r), n.textStrokeWidth == null && (n.textStrokeWidth = 2)) : (a && (n.textFill = o.fill || e.outsideFill || "#000"), 
    !n.textStroke && e.outsideStroke && (n.textStroke = e.outsideStroke)), n.text = t.text, 
    n.rich = t.rich, E(t.rich, function(s) {
        ml(s, s);
    }), n;
}

function ml(o, t) {
    t && (Z(t, "fill") && (o.textFill = t.fill), Z(t, "stroke") && (o.textStroke = t.fill), 
    Z(t, "lineWidth") && (o.textStrokeWidth = t.lineWidth), Z(t, "font") && (o.font = t.font), 
    Z(t, "fontStyle") && (o.fontStyle = t.fontStyle), Z(t, "fontWeight") && (o.fontWeight = t.fontWeight), 
    Z(t, "fontSize") && (o.fontSize = t.fontSize), Z(t, "fontFamily") && (o.fontFamily = t.fontFamily), 
    Z(t, "align") && (o.textAlign = t.align), Z(t, "verticalAlign") && (o.textVerticalAlign = t.verticalAlign), 
    Z(t, "lineHeight") && (o.textLineHeight = t.lineHeight), Z(t, "width") && (o.textWidth = t.width), 
    Z(t, "height") && (o.textHeight = t.height), Z(t, "backgroundColor") && (o.textBackgroundColor = t.backgroundColor), 
    Z(t, "padding") && (o.textPadding = t.padding), Z(t, "borderColor") && (o.textBorderColor = t.borderColor), 
    Z(t, "borderWidth") && (o.textBorderWidth = t.borderWidth), Z(t, "borderRadius") && (o.textBorderRadius = t.borderRadius), 
    Z(t, "shadowColor") && (o.textBoxShadowColor = t.shadowColor), Z(t, "shadowBlur") && (o.textBoxShadowBlur = t.shadowBlur), 
    Z(t, "shadowOffsetX") && (o.textBoxShadowOffsetX = t.shadowOffsetX), Z(t, "shadowOffsetY") && (o.textBoxShadowOffsetY = t.shadowOffsetY), 
    Z(t, "textShadowColor") && (o.textShadowColor = t.textShadowColor), Z(t, "textShadowBlur") && (o.textShadowBlur = t.textShadowBlur), 
    Z(t, "textShadowOffsetX") && (o.textShadowOffsetX = t.textShadowOffsetX), Z(t, "textShadowOffsetY") && (o.textShadowOffsetY = t.textShadowOffsetY));
}

var xl = {
    position: [ "x", "y" ],
    scale: [ "scaleX", "scaleY" ],
    origin: [ "originX", "originY" ]
}, _l = _e(xl);

Yd(an, function(o, t) {
    return o[t] = 1, o;
}, {}), an.join(", ");

var oo = [ "", "style", "shape", "extra" ], Ut = Te();

function Yi(o, t, e, n, i) {
    var r = o + "Animation", a = sn(o, n, i) || {}, s = Ut(t).userDuring;
    return a.duration > 0 && (a.during = s ? ee(Mg, {
        el: t,
        userDuring: s
    }) : null, a.setToFinal = !0, a.scope = o), Q(a, e[r]), a;
}

function io(o, t, e, n) {
    var i = (n = n || {}).dataIndex, r = n.isInit, a = n.clearStyle, s = e.isAnimationEnabled(), l = Ut(o), u = t.style;
    l.userDuring = t.during;
    var d = {}, h = {};
    if (function(p, f, y) {
        for (var x = 0; x < _l.length; x++) {
            var S = _l[x], m = xl[S], v = f[S];
            v && (y[m[0]] = v[0], y[m[1]] = v[1]);
        }
        for (x = 0; x < an.length; x++) {
            var b = an[x];
            f[b] != null && (y[b] = f[b]);
        }
    }(0, t, h), wl("shape", t, h), wl("extra", t, h), !r && s && (function(p, f, y) {
        for (var x = f.transition, S = Tt(x) ? an : Ge(x || []), m = 0; m < S.length; m++) {
            var v = S[m];
            if (v !== "style" && v !== "shape" && v !== "extra") {
                var b = p[v];
                y[v] = b;
            }
        }
    }(o, t, d), Sl("shape", o, t, d), Sl("extra", o, t, d), function(p, f, y, x) {
        if (y) {
            var S, m = p.style;
            if (m) {
                var v = y.transition, b = f.transition;
                if (v && !Tt(v)) {
                    var _ = Ge(v);
                    !S && (S = x.style = {});
                    for (var w = 0; w < _.length; w++) {
                        var I = m[C = _[w]];
                        S[C] = I;
                    }
                } else if (p.getAnimationStyleProps && (Tt(b) || Tt(v) || Ne(b, "style") >= 0)) {
                    var M = p.getAnimationStyleProps(), D = M ? M.style : null;
                    if (D) {
                        !S && (S = x.style = {});
                        var L = _e(y);
                        for (w = 0; w < L.length; w++) {
                            var C;
                            D[C = L[w]] && (I = m[C], S[C] = I);
                        }
                    }
                }
            }
        }
    }(o, t, u, d)), h.style = u, function(p, f, y) {
        var x = f.style;
        if (!p.isGroup && x) {
            if (y) {
                p.useStyle({});
                for (var S = p.animators, m = 0; m < S.length; m++) {
                    var v = S[m];
                    v.targetName === "style" && v.changeTarget(p.style);
                }
            }
            p.setStyle(x);
        }
        f && (f.style = null, f && p.attr(f), f.style = x);
    }(o, h, a), function(p, f) {
        Z(f, "silent") && (p.silent = f.silent), Z(f, "ignore") && (p.ignore = f.ignore), 
        p instanceof en && Z(f, "invisible") && (p.invisible = f.invisible), p instanceof Se && Z(f, "autoBatch") && (p.autoBatch = f.autoBatch);
    }(o, t), s) if (r) {
        var c = {};
        E(oo, function(p) {
            var f = p ? t[p] : t;
            f && f.enterFrom && (p && (c[p] = c[p] || {}), Q(p ? c[p] : c, f.enterFrom));
        });
        var g = Yi("enter", o, t, e, i);
        g.duration > 0 && o.animateFrom(c, g);
    } else (function(p, f, y, x, S) {
        if (S) {
            var m = Yi("update", p, f, x, y);
            m.duration > 0 && p.animateFrom(S, m);
        }
    })(o, t, i || 0, e, d);
    bl(o, t), u ? o.dirty() : o.markRedraw();
}

function bl(o, t) {
    for (var e = Ut(o).leaveToProps, n = 0; n < oo.length; n++) {
        var i = oo[n], r = i ? t[i] : t;
        r && r.leaveTo && (e || (e = Ut(o).leaveToProps = {}), i && (e[i] = e[i] || {}), 
        Q(i ? e[i] : e, r.leaveTo));
    }
}

function ro(o, t, e, n) {
    if (o) {
        var i = o.parent, r = Ut(o).leaveToProps;
        if (r) {
            var a = Yi("update", o, t, e, 0);
            a.done = function() {
                i.remove(o), n && n();
            }, o.animateTo(r, a);
        } else i.remove(o), n && n();
    }
}

function Tt(o) {
    return o === "all";
}

var et = {}, Ig = {
    setTransform: function(o, t) {
        return et.el[o] = t, this;
    },
    getTransform: function(o) {
        return et.el[o];
    },
    setShape: function(o, t) {
        var e = et.el;
        return (e.shape || (e.shape = {}))[o] = t, e.dirtyShape && e.dirtyShape(), 
        this;
    },
    getShape: function(o) {
        var t = et.el.shape;
        if (t) return t[o];
    },
    setStyle: function(o, t) {
        var e = et.el, n = e.style;
        return n && (n[o] = t, e.dirtyStyle && e.dirtyStyle()), this;
    },
    getStyle: function(o) {
        var t = et.el.style;
        if (t) return t[o];
    },
    setExtra: function(o, t) {
        return (et.el.extra || (et.el.extra = {}))[o] = t, this;
    },
    getExtra: function(o) {
        var t = et.el.extra;
        if (t) return t[o];
    }
};

function Mg() {
    var o = this, t = o.el;
    if (t) {
        var e = Ut(t).userDuring, n = o.userDuring;
        e === n ? (et.el = t, n(Ig)) : o.el = o.userDuring = null;
    }
}

function Sl(o, t, e, n) {
    var i = e[o];
    if (i) {
        var r, a = t[o];
        if (a) {
            var s = e.transition, l = i.transition;
            if (l) if (!r && (r = n[o] = {}), Tt(l)) Q(r, a); else for (var u = Ge(l), d = 0; d < u.length; d++) {
                var h = a[g = u[d]];
                r[g] = h;
            } else if (Tt(s) || Ne(s, o) >= 0) {
                !r && (r = n[o] = {});
                var c = _e(a);
                for (d = 0; d < c.length; d++) {
                    var g;
                    h = a[g = c[d]], Dg(i[g], h) && (r[g] = h);
                }
            }
        }
    }
}

function wl(o, t, e) {
    var n = t[o];
    if (n) for (var i = e[o] = {}, r = _e(n), a = 0; a < r.length; a++) {
        var s = r[a];
        i[s] = Xd(n[s]);
    }
}

function Dg(o, t) {
    return la(o) ? o !== t : o != null && isFinite(o);
}

var Il = Te(), Cg = [ "percent", "easing", "shape", "style", "extra" ];

function Ml(o) {
    o.stopAnimation("keyframe"), o.attr(Il(o));
}

function ao(o, t, e) {
    if (e.isAnimationEnabled() && t) if ($(t)) E(t, function(s) {
        ao(o, s, e);
    }); else {
        var n = t.keyframes, i = t.duration;
        if (e && i == null) {
            var r = sn("enter", e, 0);
            i = r && r.duration;
        }
        if (n && i) {
            var a = Il(o);
            E(oo, function(s) {
                var l;
                s && !o[s] || (n.sort(function(u, d) {
                    return u.percent - d.percent;
                }), E(n, function(u) {
                    var d = o.animators, h = s ? u[s] : u;
                    if (h) {
                        var c = _e(h);
                        if (s || (c = je(c, function(f) {
                            return Ne(Cg, f) < 0;
                        })), c.length) {
                            l || ((l = o.animate(s, t.loop, !0)).scope = "keyframe");
                            for (var g = 0; g < d.length; g++) d[g] !== l && d[g].targetName === l.targetName && d[g].stopTracks(c);
                            s && (a[s] = a[s] || {});
                            var p = s ? a[s] : a;
                            E(c, function(f) {
                                p[f] = ((s ? o[s] : o) || {})[f];
                            }), l.whenWithKeys(i * u.percent, h, c, u.easing);
                        }
                    }
                }), l && l.delay(t.delay || 0).duration(i).start(t.easing));
            });
        }
    }
}

var dt = "emphasis", xt = "normal", Xi = "blur", Ui = "select", _t = [ xt, dt, Xi, Ui ], ji = {
    normal: [ "itemStyle" ],
    emphasis: [ dt, "itemStyle" ],
    blur: [ Xi, "itemStyle" ],
    select: [ Ui, "itemStyle" ]
}, qi = {
    normal: [ "label" ],
    emphasis: [ dt, "label" ],
    blur: [ Xi, "label" ],
    select: [ Ui, "label" ]
}, Lg = [ "x", "y" ], Ag = "e\0\0", Ze = {
    normal: {},
    emphasis: {},
    blur: {},
    select: {}
}, Tg = {
    cartesian2d: function(o) {
        var t = o.master.getRect();
        return {
            coordSys: {
                type: "cartesian2d",
                x: t.x,
                y: t.y,
                width: t.width,
                height: t.height
            },
            api: {
                coord: function(e) {
                    return o.dataToPoint(e);
                },
                size: ee(_g, o)
            }
        };
    },
    geo: function(o) {
        var t = o.getBoundingRect();
        return {
            coordSys: {
                type: "geo",
                x: t.x,
                y: t.y,
                width: t.width,
                height: t.height,
                zoom: o.getZoom()
            },
            api: {
                coord: function(e) {
                    return o.dataToPoint(e);
                },
                size: ee(bg, o)
            }
        };
    },
    single: function(o) {
        var t = o.getRect();
        return {
            coordSys: {
                type: "singleAxis",
                x: t.x,
                y: t.y,
                width: t.width,
                height: t.height
            },
            api: {
                coord: function(e) {
                    return o.dataToPoint(e);
                },
                size: ee(Sg, o)
            }
        };
    },
    polar: function(o) {
        var t = o.getRadiusAxis(), e = o.getAngleAxis(), n = t.getExtent();
        return n[0] > n[1] && n.reverse(), {
            coordSys: {
                type: "polar",
                cx: o.cx,
                cy: o.cy,
                r: n[1],
                r0: n[0]
            },
            api: {
                coord: function(i) {
                    var r = t.dataToRadius(i[0]), a = e.dataToAngle(i[1]), s = o.coordToPoint([ r, a ]);
                    return s.push(r, a * Math.PI / 180), s;
                },
                size: ee(wg, o)
            }
        };
    },
    calendar: function(o) {
        var t = o.getRect(), e = o.getRangeInfo();
        return {
            coordSys: {
                type: "calendar",
                x: t.x,
                y: t.y,
                width: t.width,
                height: t.height,
                cellWidth: o.getCellWidth(),
                cellHeight: o.getCellHeight(),
                rangeInfo: {
                    start: e.start,
                    end: e.end,
                    weeks: e.weeks,
                    dayCount: e.allDay
                }
            },
            api: {
                coord: function(n, i) {
                    return o.dataToPoint(n, i);
                }
            }
        };
    }
};

function Ki(o) {
    return o instanceof Se;
}

function $i(o) {
    return o instanceof en;
}

const Ng = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.render = function(e, n, i, r) {
        this._progressiveEls = null;
        var a = this._data, s = e.getData(), l = this.group, u = Cl(e, s, n, i);
        a || l.removeAll(), s.diff(a).add(function(h) {
            er(i, null, h, u(h, r), e, l, s);
        }).remove(function(h) {
            var c = a.getItemGraphicEl(h);
            c && ro(c, ut(c).option, e);
        }).update(function(h, c) {
            var g = a.getItemGraphicEl(c);
            er(i, g, h, u(h, r), e, l, s);
        }).execute();
        var d = e.get("clip", !0) ? Fo(e.coordinateSystem, !1, e) : null;
        d ? l.setClipPath(d) : l.removeClipPath(), this._data = s;
    }, t.prototype.incrementalPrepareRender = function(e, n, i) {
        this.group.removeAll(), this._data = null;
    }, t.prototype.incrementalRender = function(e, n, i, r, a) {
        var s = n.getData(), l = Cl(n, s, i, r), u = this._progressiveEls = [];
        function d(g) {
            g.isGroup || (g.incremental = !0, g.ensureState("emphasis").hoverLayer = !0);
        }
        for (var h = e.start; h < e.end; h++) {
            var c = er(null, null, h, l(h, a), n, this.group, s);
            c && (c.traverse(d), u.push(c));
        }
    }, t.prototype.eachRendered = function(e) {
        Bn(this._progressiveEls || this.group, e);
    }, t.prototype.filterForExposedEvent = function(e, n, i, r) {
        var a = n.element;
        if (a == null || i.name === a) return !0;
        for (;(i = i.__hostTarget || i.parent) && i !== this.group; ) if (i.name === a) return !0;
        return !1;
    }, t.type = "custom", t;
}(De);

function Qi(o) {
    var t, e = o.type;
    if (e === "path") {
        var n = o.shape, i = n.width != null && n.height != null ? {
            x: n.x || 0,
            y: n.y || 0,
            width: n.width,
            height: n.height
        } : null, r = Pl(n);
        t = qd(r, null, i, n.layout || "center"), ut(t).customPathData = r;
    } else if (e === "image") t = new $t({}), ut(t).customImagePath = o.style.image; else if (e === "text") t = new Fe({}); else if (e === "group") t = new de(); else {
        if (e === "compoundPath") throw new Error('"compoundPath" is not supported yet.');
        var a = ha(e);
        a || ce(""), t = new a();
    }
    return ut(t).customGraphicType = e, t.name = o.name, t.z2EmphasisLift = 1, t.z2SelectLift = 1, 
    t;
}

function Ji(o, t, e, n, i, r, a) {
    Ml(t);
    var s = i && i.normal.cfg;
    s && t.setTextConfig(s), n && n.transition == null && (n.transition = Lg);
    var l = n && n.style;
    if (l) {
        if (t.type === "text") {
            var u = l;
            Z(u, "textFill") && (u.fill = u.textFill), Z(u, "textStroke") && (u.stroke = u.textStroke);
        }
        var d = void 0, h = Ki(t) ? l.decal : null;
        o && h && (h.dirty = !0, d = aa(h, o)), l.__decalPattern = d;
    }
    $i(t) && l && (d = l.__decalPattern) && (l.decal = d), io(t, n, r, {
        dataIndex: e,
        isInit: a,
        clearStyle: !0
    }), ao(t, n.keyframeAnimation, r);
}

function Dl(o, t, e, n, i) {
    var r = t.isGroup ? null : t, a = i && i[o].cfg;
    if (r) {
        var s = r.ensureState(o);
        if (n === !1) {
            var l = r.getState(o);
            l && (l.style = null);
        } else s.style = n || null;
        a && (s.textConfig = a), Pn(r);
    }
}

function Pg(o, t, e) {
    var n = e === xt, i = n ? t : so(t, e), r = i ? i.z2 : null;
    r != null && ((n ? o : o.ensureState(e)).z2 = r || 0);
}

function Cl(o, t, e, n) {
    var i = o.get("renderItem"), r = o.coordinateSystem, a = {};
    r && (a = r.prepareCustoms ? r.prepareCustoms(r) : Tg[r.type](r));
    for (var s, l, u = we({
        getWidth: n.getWidth,
        getHeight: n.getHeight,
        getZr: n.getZr,
        getDevicePixelRatio: n.getDevicePixelRatio,
        value: function(_, w) {
            return w == null && (w = s), t.getStore().get(t.getDimensionIndex(_ || 0), w);
        },
        style: function(_, w) {
            w == null && (w = s);
            var I = t.getItemVisual(w, "style"), M = I && I.fill, D = I && I.opacity, L = S(w, xt).getItemStyle();
            M != null && (L.fill = M), D != null && (L.opacity = D);
            var C = {
                inheritColor: ue(M) ? M : "#000"
            }, A = m(w, xt), T = We(A, null, C, !1, !0);
            T.text = A.getShallow("show") ? Ie(o.getFormattedLabel(w, xt), ua(t, w)) : null;
            var V = da(A, C, !1);
            return b(_, L), L = vl(L, T, V), _ && v(L, _), L.legacy = !0, L;
        },
        ordinalRawValue: function(_, w) {
            w == null && (w = s), _ = _ || 0;
            var I = t.getDimensionInfo(_);
            if (!I) {
                var M = t.getDimensionIndex(_);
                return M >= 0 ? t.getStore().get(M, w) : void 0;
            }
            var D = t.get(I.name, w), L = I && I.ordinalMeta;
            return L ? L.categories[D] : D;
        },
        styleEmphasis: function(_, w) {
            w == null && (w = s);
            var I = S(w, dt).getItemStyle(), M = m(w, dt), D = We(M, null, null, !0, !0);
            D.text = M.getShallow("show") ? tn(o.getFormattedLabel(w, dt), o.getFormattedLabel(w, xt), ua(t, w)) : null;
            var L = da(M, null, !0);
            return b(_, I), I = vl(I, D, L), _ && v(I, _), I.legacy = !0, I;
        },
        visual: function(_, w) {
            if (w == null && (w = s), Z(pl, _)) {
                var I = t.getItemVisual(w, "style");
                return I ? I[pl[_]] : null;
            }
            if (Z(mg, _)) return t.getItemVisual(w, _);
        },
        barLayout: function(_) {
            if (r.type === "cartesian2d") {
                var w = r.getBaseAxis();
                return Ud(we({
                    axis: w
                }, _));
            }
        },
        currentSeriesIndices: function() {
            return e.getCurrentSeriesIndices();
        },
        font: function(_) {
            return jd(_, e);
        }
    }, a.api || {}), d = {
        context: {},
        seriesId: o.id,
        seriesName: o.name,
        seriesIndex: o.seriesIndex,
        coordSys: a.coordSys,
        dataInsideLength: t.count(),
        encode: kg(o.getData())
    }, h = {}, c = {}, g = {}, p = {}, f = 0; f < _t.length; f++) {
        var y = _t[f];
        g[y] = o.getModel(ji[y]), p[y] = o.getModel(qi[y]);
    }
    function x(_) {
        return _ === s ? l || (l = t.getItemModel(_)) : t.getItemModel(_);
    }
    function S(_, w) {
        return t.hasItemOption ? _ === s ? h[w] || (h[w] = x(_).getModel(ji[w])) : x(_).getModel(ji[w]) : g[w];
    }
    function m(_, w) {
        return t.hasItemOption ? _ === s ? c[w] || (c[w] = x(_).getModel(qi[w])) : x(_).getModel(qi[w]) : p[w];
    }
    return function(_, w) {
        return s = _, l = null, h = {}, c = {}, i && i(we({
            dataIndexInside: _,
            dataIndex: t.getRawIndex(_),
            actionType: w ? w.type : null
        }, d), u);
    };
    function v(_, w) {
        for (var I in w) Z(w, I) && (_[I] = w[I]);
    }
    function b(_, w) {
        _ && (_.textFill && (w.textFill = _.textFill), _.textPosition && (w.textPosition = _.textPosition));
    }
}

function kg(o) {
    var t = {};
    return E(o.dimensions, function(e) {
        var n = o.getDimensionInfo(e);
        if (!n.isExtraCoord) {
            var i = n.coordDim;
            (t[i] = t[i] || [])[n.coordDimIndex] = o.getDimensionIndex(e);
        }
    }), t;
}

function er(o, t, e, n, i, r, a) {
    if (n) {
        var s = tr(o, t, e, n, i, r);
        return s && a.setItemGraphicEl(e, s), s && Pe(s, n.focus, n.blurScope, n.emphasisDisabled), 
        s;
    }
    r.remove(t);
}

function tr(o, t, e, n, i, r) {
    var a = -1, s = t;
    t && Ll(t, n, i) && (a = Ne(r.childrenRef(), t), t = null);
    var l, u, d = !t, h = t;
    h ? h.clearStates() : (h = Qi(n), s && (l = s, (u = h).copyTransform(l), $i(u) && $i(l) && (u.setStyle(l.style), 
    u.z = l.z, u.z2 = l.z2, u.zlevel = l.zlevel, u.invisible = l.invisible, u.ignore = l.ignore, 
    Ki(u) && Ki(l) && u.setShape(l.shape)))), n.morph === !1 ? h.disableMorphing = !0 : h.disableMorphing && (h.disableMorphing = !1), 
    Ze.normal.cfg = Ze.normal.conOpt = Ze.emphasis.cfg = Ze.emphasis.conOpt = Ze.blur.cfg = Ze.blur.conOpt = Ze.select.cfg = Ze.select.conOpt = null, 
    Ze.isLegacy = !1, function(f, y, x, S, m, v) {
        if (!f.isGroup) {
            Al(x, null, v), Al(x, dt, v);
            var b = v.normal.conOpt, _ = v.emphasis.conOpt, w = v.blur.conOpt, I = v.select.conOpt;
            if (b != null || _ != null || I != null || w != null) {
                var M = f.getTextContent();
                if (b === !1) M && f.removeTextContent(); else {
                    b = v.normal.conOpt = b || {
                        type: "text"
                    }, M ? M.clearStates() : (M = Qi(b), f.setTextContent(M)), Ji(null, M, y, b, null, S, m);
                    for (var D = b && b.style, L = 0; L < _t.length; L++) {
                        var C = _t[L];
                        if (C !== xt) {
                            var A = v[C].conOpt;
                            Dl(C, M, 0, nr(b, A, C), null);
                        }
                    }
                    D ? M.dirty() : M.markRedraw();
                }
            }
        }
    }(h, e, n, i, d, Ze), function(f, y, x, S, m) {
        var v = x.clipPath;
        if (v === !1) f && f.getClipPath() && f.removeClipPath(); else if (v) {
            var b = f.getClipPath();
            b && Ll(b, v, S) && (b = null), b || (b = Qi(v), f.setClipPath(b)), 
            Ji(null, b, y, v, null, S, m);
        }
    }(h, e, n, i, d), Ji(o, h, e, n, Ze, i, d), Z(n, "info") && (ut(h).info = n.info);
    for (var c = 0; c < _t.length; c++) {
        var g = _t[c];
        if (g !== xt) {
            var p = so(n, g);
            Dl(g, h, 0, nr(n, p, g), Ze);
        }
    }
    return function(f, y, x) {
        if (!f.isGroup) {
            var S = f, m = x.currentZ, v = x.currentZLevel;
            S.z = m, S.zlevel = v;
            var b = y.z2;
            b != null && (S.z2 = b || 0);
            for (var _ = 0; _ < _t.length; _++) Pg(S, y, _t[_]);
        }
    }(h, n, i), n.type === "group" && function(f, y, x, S, m) {
        var v = S.children, b = v ? v.length : 0, _ = S.$mergeChildren, w = _ === "byName" || S.diffChildrenByName, I = _ === !1;
        if (!(!b && !w && !I)) {
            if (w) return M = {
                api: f,
                oldChildren: y.children() || [],
                newChildren: v || [],
                dataIndex: x,
                seriesModel: m,
                group: y
            }, void new Rt(M.oldChildren, M.newChildren, Tl, Tl, M).add(Nl).update(Nl).remove(Eg).execute();
            var M;
            I && y.removeAll();
            for (var D = 0; D < b; D++) {
                var L = v[D], C = y.childAt(D);
                L ? (L.ignore == null && (L.ignore = !1), tr(f, C, x, L, m, y)) : C.ignore = !0;
            }
            for (var A = y.childCount() - 1; A >= D; A--) {
                var T = y.childAt(A);
                Vg(y, T, m);
            }
        }
    }(o, h, e, n, i), a >= 0 ? r.replaceAt(h, a) : r.add(h), h;
}

function Ll(o, t, e) {
    var n, i = ut(o), r = t.type, a = t.shape, s = t.style;
    return e.isUniversalTransitionEnabled() || r != null && r !== i.customGraphicType || r === "path" && (n = a) && (Z(n, "pathData") || Z(n, "d")) && Pl(a) !== i.customPathData || r === "image" && Z(s, "image") && s.image !== i.customImagePath;
}

function Al(o, t, e) {
    var n = t ? so(o, t) : o, i = t ? nr(o, n, dt) : o.style, r = o.type, a = n ? n.textConfig : null, s = o.textContent, l = s ? t ? so(s, t) : s : null;
    if (i && (e.isLegacy || fl(i, r, !!a, !!l))) {
        e.isLegacy = !0;
        var u = gl(i, r, !t);
        !a && u.textConfig && (a = u.textConfig), !l && u.textContent && (l = u.textContent);
    }
    if (!t && l) {
        var d = l;
        !d.type && (d.type = "text");
    }
    var h = t ? e[t] : e.normal;
    h.cfg = a, h.conOpt = l;
}

function so(o, t) {
    return t ? o ? o[t] : null : o;
}

function nr(o, t, e) {
    var n = t && t.style;
    return n == null && e === dt && o && (n = o.styleEmphasis), n;
}

function Vg(o, t, e) {
    t && ro(t, ut(o).option, e);
}

function Tl(o, t) {
    var e = o && o.name;
    return e ?? Ag + t;
}

function Nl(o, t) {
    var e = this.context, n = o != null ? e.newChildren[o] : null, i = t != null ? e.oldChildren[t] : null;
    tr(e.api, i, e.dataIndex, n, e.seriesModel, e.group);
}

function Eg(o) {
    var t = this.context, e = t.oldChildren[o];
    e && ro(e, ut(e).option, t.seriesModel);
}

function Pl(o) {
    return o && (o.pathData || o.d);
}

function or(o, t) {
    t = t || {};
    var e = o.coordinateSystem, n = o.axis, i = {}, r = n.position, a = n.orient, s = e.getRect(), l = [ s.x, s.x + s.width, s.y, s.y + s.height ], u = {
        horizontal: {
            top: l[2],
            bottom: l[3]
        },
        vertical: {
            left: l[0],
            right: l[1]
        }
    };
    i.position = [ a === "vertical" ? u.vertical[r] : l[0], a === "horizontal" ? u.horizontal[r] : l[3] ], 
    i.rotation = Math.PI / 2 * {
        horizontal: 0,
        vertical: 1
    }[a], i.labelDirection = i.tickDirection = i.nameDirection = {
        top: -1,
        bottom: 1,
        right: 1,
        left: -1
    }[r], o.get([ "axisTick", "inside" ]) && (i.tickDirection = -i.tickDirection), 
    Qe(t.labelInside, o.get([ "axisLabel", "inside" ])) && (i.labelDirection = -i.labelDirection);
    var d = t.rotate;
    return d == null && (d = o.get([ "axisLabel", "rotate" ])), i.labelRotation = r === "top" ? -d : d, 
    i.z2 = 1, i;
}

var zg = [ "axisLine", "axisTickLabel", "axisName" ], Rg = [ "splitArea", "splitLine" ], Og = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e.axisPointerClass = "SingleAxisPointer", e;
    }
    return W(t, o), t.prototype.render = function(e, n, i, r) {
        var a = this.group;
        a.removeAll();
        var s = this._axisGroup;
        this._axisGroup = new de();
        var l = or(e), u = new Kd(e, l);
        E(zg, u.add, u), a.add(this._axisGroup), a.add(u.getGroup()), E(Rg, function(d) {
            e.get([ d, "show" ]) && Bg[d](this, this.group, this._axisGroup, e);
        }, this), $d(s, this._axisGroup, e), o.prototype.render.call(this, e, n, i, r);
    }, t.prototype.remove = function() {
        Qd(this);
    }, t.type = "singleAxis", t;
}(ca), Bg = {
    splitLine: function(o, t, e, n) {
        var i = n.axis;
        if (!i.scale.isBlank()) {
            var r = n.getModel("splitLine"), a = r.getModel("lineStyle"), s = a.get("color");
            s = s instanceof Array ? s : [ s ];
            for (var l = a.get("width"), u = n.coordinateSystem.getRect(), d = i.isHorizontal(), h = [], c = 0, g = i.getTicksCoords({
                tickModel: r
            }), p = [], f = [], y = 0; y < g.length; ++y) {
                var x = i.toGlobalCoord(g[y].coord);
                d ? (p[0] = x, p[1] = u.y, f[0] = x, f[1] = u.y + u.height) : (p[0] = u.x, 
                p[1] = x, f[0] = u.x + u.width, f[1] = x);
                var S = new zn({
                    shape: {
                        x1: p[0],
                        y1: p[1],
                        x2: f[0],
                        y2: f[1]
                    },
                    silent: !0
                });
                Jd(S.shape, l);
                var m = c++ % s.length;
                h[m] = h[m] || [], h[m].push(S);
            }
            var v = a.getLineStyle([ "color" ]);
            for (y = 0; y < h.length; ++y) t.add(eh(h[y], {
                style: we({
                    stroke: s[y % s.length]
                }, v),
                silent: !0
            }));
        }
    },
    splitArea: function(o, t, e, n) {
        th(o, e, n, n);
    }
};

const Gg = Og;

var kl = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.getCoordSysModel = function() {
        return this;
    }, t.type = "singleAxis", t.layoutMode = "box", t.defaultOption = {
        left: "5%",
        top: "5%",
        right: "5%",
        bottom: "5%",
        type: "value",
        position: "bottom",
        orient: "horizontal",
        axisLine: {
            show: !0,
            lineStyle: {
                width: 1,
                type: "solid"
            }
        },
        tooltip: {
            show: !0
        },
        axisTick: {
            show: !0,
            length: 6,
            lineStyle: {
                width: 1
            }
        },
        axisLabel: {
            show: !0,
            interval: "auto"
        },
        splitLine: {
            show: !0,
            lineStyle: {
                type: "dashed",
                opacity: .2
            }
        }
    }, t;
}(Gt);

Mt(kl, nh.prototype);

const ir = kl;

var Fg = function(o) {
    function t(e, n, i, r, a) {
        var s = o.call(this, e, n, i) || this;
        return s.type = r || "value", s.position = a || "bottom", s;
    }
    return W(t, o), t.prototype.isHorizontal = function() {
        var e = this.position;
        return e === "top" || e === "bottom";
    }, t.prototype.pointToData = function(e, n) {
        return this.coordinateSystem.pointToData(e)[0];
    }, t;
}(pa);

const Wg = Fg;

var Vl = [ "single" ], Hg = function() {
    function o(t, e, n) {
        this.type = "single", this.dimension = "single", this.dimensions = Vl, this.axisPointerEnabled = !0, 
        this.model = t, this._init(t, e, n);
    }
    return o.prototype._init = function(t, e, n) {
        var i = this.dimension, r = new Wg(i, oh(t), [ 0, 0 ], t.get("type"), t.get("position")), a = r.type === "category";
        r.onBand = a && t.get("boundaryGap"), r.inverse = t.get("inverse"), r.orient = t.get("orient"), 
        t.axis = r, r.model = t, r.coordinateSystem = this, this._axis = r;
    }, o.prototype.update = function(t, e) {
        t.eachSeries(function(n) {
            if (n.coordinateSystem === this) {
                var i = n.getData();
                E(i.mapDimensionsAll(this.dimension), function(r) {
                    this._axis.scale.unionExtentFromData(i, r);
                }, this), ih(this._axis.scale, this._axis.model);
            }
        }, this);
    }, o.prototype.resize = function(t, e) {
        this._rect = rt({
            left: t.get("left"),
            top: t.get("top"),
            right: t.get("right"),
            bottom: t.get("bottom"),
            width: t.get("width"),
            height: t.get("height")
        }, {
            width: e.getWidth(),
            height: e.getHeight()
        }), this._adjustAxis();
    }, o.prototype.getRect = function() {
        return this._rect;
    }, o.prototype._adjustAxis = function() {
        var t = this._rect, e = this._axis, n = e.isHorizontal(), i = n ? [ 0, t.width ] : [ 0, t.height ], r = e.inverse ? 1 : 0;
        e.setExtent(i[r], i[1 - r]), this._updateAxisTransform(e, n ? t.x : t.y);
    }, o.prototype._updateAxisTransform = function(t, e) {
        var n = t.getExtent(), i = n[0] + n[1], r = t.isHorizontal();
        t.toGlobalCoord = r ? function(a) {
            return a + e;
        } : function(a) {
            return i - a + e;
        }, t.toLocalCoord = r ? function(a) {
            return a - e;
        } : function(a) {
            return i - a + e;
        };
    }, o.prototype.getAxis = function() {
        return this._axis;
    }, o.prototype.getBaseAxis = function() {
        return this._axis;
    }, o.prototype.getAxes = function() {
        return [ this._axis ];
    }, o.prototype.getTooltipAxes = function() {
        return {
            baseAxes: [ this.getAxis() ],
            otherAxes: []
        };
    }, o.prototype.containPoint = function(t) {
        var e = this.getRect(), n = this.getAxis();
        return n.orient === "horizontal" ? n.contain(n.toLocalCoord(t[0])) && t[1] >= e.y && t[1] <= e.y + e.height : n.contain(n.toLocalCoord(t[1])) && t[0] >= e.y && t[0] <= e.y + e.height;
    }, o.prototype.pointToData = function(t) {
        var e = this.getAxis();
        return [ e.coordToData(e.toLocalCoord(t[e.orient === "horizontal" ? 0 : 1])) ];
    }, o.prototype.dataToPoint = function(t) {
        var e = this.getAxis(), n = this.getRect(), i = [], r = e.orient === "horizontal" ? 0 : 1;
        return t instanceof Array && (t = t[0]), i[r] = e.toGlobalCoord(e.dataToCoord(+t)), 
        i[1 - r] = r === 0 ? n.y + n.height / 2 : n.x + n.width / 2, i;
    }, o.prototype.convertToPixel = function(t, e, n) {
        return El(e) === this ? this.dataToPoint(n) : null;
    }, o.prototype.convertFromPixel = function(t, e, n) {
        return El(e) === this ? this.pointToData(n) : null;
    }, o;
}();

function El(o) {
    var t = o.seriesModel, e = o.singleAxisModel;
    return e && e.coordinateSystem || t && t.coordinateSystem;
}

const Zg = {
    create: function(o, t) {
        var e = [];
        return o.eachComponent("singleAxis", function(n, i) {
            var r = new Hg(n, o, t);
            r.name = "single_" + i, r.resize(n, t), n.coordinateSystem = r, e.push(r);
        }), o.eachSeries(function(n) {
            if (n.get("coordinateSystem") === "singleAxis") {
                var i = n.getReferringComponents("singleAxis", ra).models[0];
                n.coordinateSystem = i && i.coordinateSystem;
            }
        }), e;
    },
    dimensions: Vl
};

var zl = [ "x", "y" ], Yg = [ "width", "height" ], Xg = function(o) {
    function t() {
        return o !== null && o.apply(this, arguments) || this;
    }
    return W(t, o), t.prototype.makeElOption = function(e, n, i, r, a) {
        var s = i.axis, l = s.coordinateSystem, u = rr(l, 1 - lo(s)), d = l.dataToPoint(n)[0], h = r.get("type");
        if (h && h !== "none") {
            var c = rh(r), g = Ug[h](s, d, u);
            g.style = c, e.graphicKey = g.type, e.pointer = g;
        }
        var p = or(i);
        ah(n, e, p, i, r, a);
    }, t.prototype.getHandleTransform = function(e, n, i) {
        var r = or(n, {
            labelInside: !1
        });
        r.labelMargin = i.get([ "handle", "margin" ]);
        var a = sh(n.axis, e, r);
        return {
            x: a[0],
            y: a[1],
            rotation: r.rotation + (r.labelDirection < 0 ? Math.PI : 0)
        };
    }, t.prototype.updateHandleTransform = function(e, n, i, r) {
        var a = i.axis, s = a.coordinateSystem, l = lo(a), u = rr(s, l), d = [ e.x, e.y ];
        d[l] += n[l], d[l] = Math.min(u[1], d[l]), d[l] = Math.max(u[0], d[l]);
        var h = rr(s, 1 - l), c = (h[1] + h[0]) / 2, g = [ c, c ];
        return g[l] = d[l], {
            x: d[0],
            y: d[1],
            rotation: e.rotation,
            cursorPoint: g,
            tooltipOption: {
                verticalAlign: "middle"
            }
        };
    }, t;
}(lh), Ug = {
    line: function(o, t, e) {
        return {
            type: "Line",
            subPixelOptimize: !0,
            shape: uh([ t, e[0] ], [ t, e[1] ], lo(o))
        };
    },
    shadow: function(o, t, e) {
        var n = o.getBandWidth(), i = e[1] - e[0];
        return {
            type: "Rect",
            shape: dh([ t - n / 2, e[0] ], [ n, i ], lo(o))
        };
    }
};

function lo(o) {
    return o.isHorizontal() ? 0 : 1;
}

function rr(o, t) {
    var e = o.getRect();
    return [ e[zl[t]], e[zl[t]] + e[Yg[t]] ];
}

const jg = Xg;

var qg = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.type = "single", t;
}(Ft);

function Rl(o, t) {
    var e, n = o.cellSize;
    (e = $(n) ? n : o.cellSize = [ n, n ]).length === 1 && (e[1] = e[0]);
    var i = K([ 0, 1 ], function(r) {
        return ch(t, r) && (e[r] = "auto"), e[r] != null && e[r] !== "auto";
    });
    ya(o, t, {
        type: "box",
        ignoreSize: i
    });
}

const Kg = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.init = function(e, n, i) {
        var r = ga(e);
        o.prototype.init.apply(this, arguments), Rl(e, r);
    }, t.prototype.mergeOption = function(e) {
        o.prototype.mergeOption.apply(this, arguments), Rl(this.option, e);
    }, t.prototype.getCellSize = function() {
        return this.option.cellSize;
    }, t.type = "calendar", t.defaultOption = {
        z: 2,
        left: 80,
        top: 60,
        cellSize: 20,
        orient: "horizontal",
        splitLine: {
            show: !0,
            lineStyle: {
                color: "#000",
                width: 1,
                type: "solid"
            }
        },
        itemStyle: {
            color: "#fff",
            borderWidth: 1,
            borderColor: "#ccc"
        },
        dayLabel: {
            show: !0,
            firstDay: 0,
            position: "start",
            margin: "50%",
            color: "#000"
        },
        monthLabel: {
            show: !0,
            position: "start",
            margin: 5,
            align: "center",
            formatter: null,
            color: "#000"
        },
        yearLabel: {
            show: !0,
            position: null,
            margin: 30,
            formatter: null,
            color: "#ccc",
            fontFamily: "sans-serif",
            fontWeight: "bolder",
            fontSize: 20
        }
    }, t;
}(Gt);

var $g = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.render = function(e, n, i) {
        var r = this.group;
        r.removeAll();
        var a = e.coordinateSystem, s = a.getRangeInfo(), l = a.getOrient(), u = n.getLocaleModel();
        this._renderDayRect(e, s, r), this._renderLines(e, s, l, r), this._renderYearText(e, s, l, r), 
        this._renderMonthText(e, u, l, r), this._renderWeekText(e, u, s, l, r);
    }, t.prototype._renderDayRect = function(e, n, i) {
        for (var r = e.coordinateSystem, a = e.getModel("itemStyle").getItemStyle(), s = r.getCellWidth(), l = r.getCellHeight(), u = n.start.time; u <= n.end.time; u = r.getNextNDay(u, 1).time) {
            var d = r.dataToRect([ u ], !1).tl, h = new Re({
                shape: {
                    x: d[0],
                    y: d[1],
                    width: s,
                    height: l
                },
                cursor: "default",
                style: a
            });
            i.add(h);
        }
    }, t.prototype._renderLines = function(e, n, i, r) {
        var a = this, s = e.coordinateSystem, l = e.getModel([ "splitLine", "lineStyle" ]).getLineStyle(), u = e.get([ "splitLine", "show" ]), d = l.lineWidth;
        this._tlpoints = [], this._blpoints = [], this._firstDayOfMonth = [], this._firstDayPoints = [];
        for (var h = n.start, c = 0; h.time <= n.end.time; c++) {
            p(h.formatedDate), c === 0 && (h = s.getDateInfo(n.start.y + "-" + n.start.m));
            var g = h.date;
            g.setMonth(g.getMonth() + 1), h = s.getDateInfo(g);
        }
        function p(f) {
            a._firstDayOfMonth.push(s.getDateInfo(f)), a._firstDayPoints.push(s.dataToRect([ f ], !1).tl);
            var y = a._getLinePointsOfOneWeek(e, f, i);
            a._tlpoints.push(y[0]), a._blpoints.push(y[y.length - 1]), u && a._drawSplitline(y, l, r);
        }
        p(s.getNextNDay(n.end.time, 1).formatedDate), u && this._drawSplitline(a._getEdgesPoints(a._tlpoints, d, i), l, r), 
        u && this._drawSplitline(a._getEdgesPoints(a._blpoints, d, i), l, r);
    }, t.prototype._getEdgesPoints = function(e, n, i) {
        var r = [ e[0].slice(), e[e.length - 1].slice() ], a = i === "horizontal" ? 0 : 1;
        return r[0][a] = r[0][a] - n / 2, r[1][a] = r[1][a] + n / 2, r;
    }, t.prototype._drawSplitline = function(e, n, i) {
        var r = new on({
            z2: 20,
            shape: {
                points: e
            },
            style: n
        });
        i.add(r);
    }, t.prototype._getLinePointsOfOneWeek = function(e, n, i) {
        for (var r = e.coordinateSystem, a = r.getDateInfo(n), s = [], l = 0; l < 7; l++) {
            var u = r.getNextNDay(a.time, l), d = r.dataToRect([ u.time ], !1);
            s[2 * u.day] = d.tl, s[2 * u.day + 1] = d[i === "horizontal" ? "bl" : "tr"];
        }
        return s;
    }, t.prototype._formatterLabel = function(e, n) {
        return ue(e) && e ? ph(e, n) : ve(e) ? e(n) : n.nameMap;
    }, t.prototype._yearTextPositionControl = function(e, n, i, r, a) {
        var s = n[0], l = n[1], u = [ "center", "bottom" ];
        r === "bottom" ? (l += a, u = [ "center", "top" ]) : r === "left" ? s -= a : r === "right" ? (s += a, 
        u = [ "center", "top" ]) : l -= a;
        var d = 0;
        return r !== "left" && r !== "right" || (d = Math.PI / 2), {
            rotation: d,
            x: s,
            y: l,
            style: {
                align: u[0],
                verticalAlign: u[1]
            }
        };
    }, t.prototype._renderYearText = function(e, n, i, r) {
        var a = e.getModel("yearLabel");
        if (a.get("show")) {
            var s = a.get("margin"), l = a.get("position");
            l || (l = i !== "horizontal" ? "top" : "left");
            var u = [ this._tlpoints[this._tlpoints.length - 1], this._blpoints[0] ], d = (u[0][0] + u[1][0]) / 2, h = (u[0][1] + u[1][1]) / 2, c = i === "horizontal" ? 0 : 1, g = {
                top: [ d, u[c][1] ],
                bottom: [ d, u[1 - c][1] ],
                left: [ u[1 - c][0], h ],
                right: [ u[c][0], h ]
            }, p = n.start.y;
            +n.end.y > +n.start.y && (p = p + "-" + n.end.y);
            var f = a.get("formatter"), y = {
                start: n.start.y,
                end: n.end.y,
                nameMap: p
            }, x = this._formatterLabel(f, y), S = new Fe({
                z2: 30,
                style: We(a, {
                    text: x
                })
            });
            S.attr(this._yearTextPositionControl(S, g[l], i, l, s)), r.add(S);
        }
    }, t.prototype._monthTextPositionControl = function(e, n, i, r, a) {
        var s = "left", l = "top", u = e[0], d = e[1];
        return i === "horizontal" ? (d += a, n && (s = "center"), r === "start" && (l = "bottom")) : (u += a, 
        n && (l = "middle"), r === "start" && (s = "right")), {
            x: u,
            y: d,
            align: s,
            verticalAlign: l
        };
    }, t.prototype._renderMonthText = function(e, n, i, r) {
        var a = e.getModel("monthLabel");
        if (a.get("show")) {
            var s = a.get("nameMap"), l = a.get("margin"), u = a.get("position"), d = a.get("align"), h = [ this._tlpoints, this._blpoints ];
            s && !ue(s) || (s && (n = va(s) || n), s = n.get([ "time", "monthAbbr" ]) || []);
            var c = u === "start" ? 0 : 1, g = i === "horizontal" ? 0 : 1;
            l = u === "start" ? -l : l;
            for (var p = d === "center", f = 0; f < h[c].length - 1; f++) {
                var y = h[c][f].slice(), x = this._firstDayOfMonth[f];
                if (p) {
                    var S = this._firstDayPoints[f];
                    y[g] = (S[g] + h[0][f + 1][g]) / 2;
                }
                var m = a.get("formatter"), v = s[+x.m - 1], b = {
                    yyyy: x.y,
                    yy: (x.y + "").slice(2),
                    MM: x.m,
                    M: +x.m,
                    nameMap: v
                }, _ = this._formatterLabel(m, b), w = new Fe({
                    z2: 30,
                    style: Q(We(a, {
                        text: _
                    }), this._monthTextPositionControl(y, p, i, u, l))
                });
                r.add(w);
            }
        }
    }, t.prototype._weekTextPositionControl = function(e, n, i, r, a) {
        var s = "center", l = "middle", u = e[0], d = e[1], h = i === "start";
        return n === "horizontal" ? (u = u + r + (h ? 1 : -1) * a[0] / 2, s = h ? "right" : "left") : (d = d + r + (h ? 1 : -1) * a[1] / 2, 
        l = h ? "bottom" : "top"), {
            x: u,
            y: d,
            align: s,
            verticalAlign: l
        };
    }, t.prototype._renderWeekText = function(e, n, i, r, a) {
        var s = e.getModel("dayLabel");
        if (s.get("show")) {
            var l = e.coordinateSystem, u = s.get("position"), d = s.get("nameMap"), h = s.get("margin"), c = l.getFirstDayOfWeek();
            (!d || ue(d)) && (d && (n = va(d) || n), d = n.get([ "time", "dayOfWeekShort" ]) || K(n.get([ "time", "dayOfWeekAbbr" ]), function(v) {
                return v[0];
            }));
            var g = l.getNextNDay(i.end.time, 7 - i.lweek).time, p = [ l.getCellWidth(), l.getCellHeight() ];
            h = oe(h, Math.min(p[1], p[0])), u === "start" && (g = l.getNextNDay(i.start.time, -(7 + i.fweek)).time, 
            h = -h);
            for (var f = 0; f < 7; f++) {
                var y, x = l.getNextNDay(g, f), S = l.dataToRect([ x.time ], !1).center;
                y = Math.abs((f + c) % 7);
                var m = new Fe({
                    z2: 30,
                    style: Q(We(s, {
                        text: d[y]
                    }), this._weekTextPositionControl(S, r, u, h, p))
                });
                a.add(m);
            }
        }
    }, t.type = "calendar", t;
}(Ft);

const Qg = $g;

var ar = 864e5;

function Ol(o) {
    var t = o.calendarModel, e = o.seriesModel;
    return t ? t.coordinateSystem : e ? e.coordinateSystem : null;
}

const Jg = function() {
    function o(t, e, n) {
        this.type = "calendar", this.dimensions = o.dimensions, this.getDimensionsInfo = o.getDimensionsInfo, 
        this._model = t;
    }
    return o.getDimensionsInfo = function() {
        return [ {
            name: "time",
            type: "time"
        }, "value" ];
    }, o.prototype.getRangeInfo = function() {
        return this._rangeInfo;
    }, o.prototype.getModel = function() {
        return this._model;
    }, o.prototype.getRect = function() {
        return this._rect;
    }, o.prototype.getCellWidth = function() {
        return this._sw;
    }, o.prototype.getCellHeight = function() {
        return this._sh;
    }, o.prototype.getOrient = function() {
        return this._orient;
    }, o.prototype.getFirstDayOfWeek = function() {
        return this._firstDayOfWeek;
    }, o.prototype.getDateInfo = function(t) {
        var e = (t = fh(t)).getFullYear(), n = t.getMonth() + 1, i = n < 10 ? "0" + n : "" + n, r = t.getDate(), a = r < 10 ? "0" + r : "" + r, s = t.getDay();
        return {
            y: e + "",
            m: i,
            d: a,
            day: s = Math.abs((s + 7 - this.getFirstDayOfWeek()) % 7),
            time: t.getTime(),
            formatedDate: e + "-" + i + "-" + a,
            date: t
        };
    }, o.prototype.getNextNDay = function(t, e) {
        return (e = e || 0) === 0 || (t = new Date(this.getDateInfo(t).time)).setDate(t.getDate() + e), 
        this.getDateInfo(t);
    }, o.prototype.update = function(t, e) {
        this._firstDayOfWeek = +this._model.getModel("dayLabel").get("firstDay"), 
        this._orient = this._model.get("orient"), this._lineWidth = this._model.getModel("itemStyle").getItemStyle().lineWidth || 0, 
        this._rangeInfo = this._getRangeInfo(this._initRangeOption());
        var n = this._rangeInfo.weeks || 1, i = [ "width", "height" ], r = this._model.getCellSize().slice(), a = this._model.getBoxLayoutParams(), s = this._orient === "horizontal" ? [ n, 7 ] : [ 7, n ];
        E([ 0, 1 ], function(h) {
            d(r, h) && (a[i[h]] = r[h] * s[h]);
        });
        var l = {
            width: e.getWidth(),
            height: e.getHeight()
        }, u = this._rect = rt(a, l);
        function d(h, c) {
            return h[c] != null && h[c] !== "auto";
        }
        E([ 0, 1 ], function(h) {
            d(r, h) || (r[h] = u[i[h]] / s[h]);
        }), this._sw = r[0], this._sh = r[1];
    }, o.prototype.dataToPoint = function(t, e) {
        $(t) && (t = t[0]), e == null && (e = !0);
        var n = this.getDateInfo(t), i = this._rangeInfo, r = n.formatedDate;
        if (e && !(n.time >= i.start.time && n.time < i.end.time + ar)) return [ NaN, NaN ];
        var a = n.day, s = this._getRangeInfo([ i.start.time, r ]).nthWeek;
        return this._orient === "vertical" ? [ this._rect.x + a * this._sw + this._sw / 2, this._rect.y + s * this._sh + this._sh / 2 ] : [ this._rect.x + s * this._sw + this._sw / 2, this._rect.y + a * this._sh + this._sh / 2 ];
    }, o.prototype.pointToData = function(t) {
        var e = this.pointToDate(t);
        return e && e.time;
    }, o.prototype.dataToRect = function(t, e) {
        var n = this.dataToPoint(t, e);
        return {
            contentShape: {
                x: n[0] - (this._sw - this._lineWidth) / 2,
                y: n[1] - (this._sh - this._lineWidth) / 2,
                width: this._sw - this._lineWidth,
                height: this._sh - this._lineWidth
            },
            center: n,
            tl: [ n[0] - this._sw / 2, n[1] - this._sh / 2 ],
            tr: [ n[0] + this._sw / 2, n[1] - this._sh / 2 ],
            br: [ n[0] + this._sw / 2, n[1] + this._sh / 2 ],
            bl: [ n[0] - this._sw / 2, n[1] + this._sh / 2 ]
        };
    }, o.prototype.pointToDate = function(t) {
        var e = Math.floor((t[0] - this._rect.x) / this._sw) + 1, n = Math.floor((t[1] - this._rect.y) / this._sh) + 1, i = this._rangeInfo.range;
        return this._orient === "vertical" ? this._getDateByWeeksAndDay(n, e - 1, i) : this._getDateByWeeksAndDay(e, n - 1, i);
    }, o.prototype.convertToPixel = function(t, e, n) {
        var i = Ol(e);
        return i === this ? i.dataToPoint(n) : null;
    }, o.prototype.convertFromPixel = function(t, e, n) {
        var i = Ol(e);
        return i === this ? i.pointToData(n) : null;
    }, o.prototype.containPoint = function(t) {
        return !1;
    }, o.prototype._initRangeOption = function() {
        var t, e = this._model.get("range");
        if ($(e) && e.length === 1 && (e = e[0]), $(e)) t = e; else {
            var n = e.toString();
            if (/^\d{4}$/.test(n) && (t = [ n + "-01-01", n + "-12-31" ]), /^\d{4}[\/|-]\d{1,2}$/.test(n)) {
                var i = this.getDateInfo(n), r = i.date;
                r.setMonth(r.getMonth() + 1);
                var a = this.getNextNDay(r, -1);
                t = [ i.formatedDate, a.formatedDate ];
            }
            /^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n) && (t = [ n, n ]);
        }
        if (!t) return e;
        var s = this._getRangeInfo(t);
        return s.start.time > s.end.time && t.reverse(), t;
    }, o.prototype._getRangeInfo = function(t) {
        var e, n = [ this.getDateInfo(t[0]), this.getDateInfo(t[1]) ];
        n[0].time > n[1].time && (e = !0, n.reverse());
        var i = Math.floor(n[1].time / ar) - Math.floor(n[0].time / ar) + 1, r = new Date(n[0].time), a = r.getDate(), s = n[1].date.getDate();
        r.setDate(a + i - 1);
        var l = r.getDate();
        if (l !== s) for (var u = r.getTime() - n[1].time > 0 ? 1 : -1; (l = r.getDate()) !== s && (r.getTime() - n[1].time) * u > 0; ) i -= u, 
        r.setDate(l - u);
        var d = Math.floor((i + n[0].day + 6) / 7), h = e ? 1 - d : d - 1;
        return e && n.reverse(), {
            range: [ n[0].formatedDate, n[1].formatedDate ],
            start: n[0],
            end: n[1],
            allDay: i,
            weeks: d,
            nthWeek: h,
            fweek: n[0].day,
            lweek: n[1].day
        };
    }, o.prototype._getDateByWeeksAndDay = function(t, e, n) {
        var i = this._getRangeInfo(n);
        if (t > i.weeks || t === 0 && e < i.fweek || t === i.weeks && e > i.lweek) return null;
        var r = 7 * (t - 1) - i.fweek + e, a = new Date(i.start.time);
        return a.setDate(+i.start.d + r), this.getDateInfo(a);
    }, o.create = function(t, e) {
        var n = [];
        return t.eachComponent("calendar", function(i) {
            var r = new o(i);
            n.push(r), i.coordinateSystem = r;
        }), t.eachSeries(function(i) {
            i.get("coordinateSystem") === "calendar" && (i.coordinateSystem = n[i.get("calendarIndex") || 0]);
        }), n;
    }, o.dimensions = [ "time", "value" ], o;
}();

function Bl(o, t) {
    var e;
    return E(t, function(n) {
        o[n] != null && o[n] !== "auto" && (e = !0);
    }), e;
}

var Gl = [ "transition", "enterFrom", "leaveTo" ], ey = Gl.concat([ "enterAnimation", "updateAnimation", "leaveAnimation" ]);

function uo(o, t, e) {
    if (e && (!o[e] && t[e] && (o[e] = {}), o = o[e], t = t[e]), o && t) for (var n = e ? Gl : ey, i = 0; i < n.length; i++) {
        var r = n[i];
        o[r] == null && t[r] != null && (o[r] = t[r]);
    }
}

var ty = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e.preventAutoZ = !0, e;
    }
    return W(t, o), t.prototype.mergeOption = function(e, n) {
        var i = this.option.elements;
        this.option.elements = null, o.prototype.mergeOption.call(this, e, n), this.option.elements = i;
    }, t.prototype.optionUpdated = function(e, n) {
        var i = this.option, r = (n ? i : e).elements, a = i.elements = n ? [] : i.elements, s = [];
        this._flatten(r, s, null);
        var l = gh(a, s, "normalMerge"), u = this._elOptionsToUpdate = [];
        E(l, function(d, h) {
            var c = d.newOption;
            c && (u.push(c), function(g, p) {
                var f = g.existing;
                if (p.id = g.keyInfo.id, !p.type && f && (p.type = f.type), p.parentId == null) {
                    var y = p.parentOption;
                    y ? p.parentId = y.id : f && (p.parentId = f.parentId);
                }
                p.parentOption = null;
            }(d, c), function(g, p, f) {
                var y = Q({}, f), x = g[p], S = f.$action || "merge";
                S === "merge" ? x ? (ln(x, y, !0), ya(x, y, {
                    ignoreSize: !0
                }), yh(f, x), uo(f, x), uo(f, x, "shape"), uo(f, x, "style"), uo(f, x, "extra"), 
                f.clipPath = x.clipPath) : g[p] = y : S === "replace" ? g[p] = y : S === "remove" && x && (g[p] = null);
            }(a, h, c), function(g, p) {
                if (g && (g.hv = p.hv = [ Bl(p, [ "left", "right" ]), Bl(p, [ "top", "bottom" ]) ], 
                g.type === "group")) {
                    var f = g, y = p;
                    f.width == null && (f.width = y.width = 0), f.height == null && (f.height = y.height = 0);
                }
            }(a[h], c));
        }, this), i.elements = je(a, function(d) {
            return d && delete d.$action, d != null;
        });
    }, t.prototype._flatten = function(e, n, i) {
        E(e, function(r) {
            if (r) {
                i && (r.parentOption = i), n.push(r);
                var a = r.children;
                a && a.length && this._flatten(a, n, r), delete r.children;
            }
        }, this);
    }, t.prototype.useElOptionsToUpdate = function() {
        var e = this._elOptionsToUpdate;
        return this._elOptionsToUpdate = null, e;
    }, t.type = "graphic", t.defaultOption = {
        elements: []
    }, t;
}(Gt), Fl = {
    path: null,
    compoundPath: null,
    group: de,
    image: $t,
    text: Fe
}, Ye = Te(), ny = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.init = function() {
        this._elMap = be();
    }, t.prototype.render = function(e, n, i) {
        e !== this._lastGraphicModel && this._clear(), this._lastGraphicModel = e, 
        this._updateElements(e), this._relocate(e, i);
    }, t.prototype._updateElements = function(e) {
        var n = e.useElOptionsToUpdate();
        if (n) {
            var i = this._elMap, r = this.group, a = e.get("z"), s = e.get("zlevel");
            E(n, function(l) {
                var u = st(l.id, null), d = u != null ? i.get(u) : null, h = st(l.parentId, null), c = h != null ? i.get(h) : r, g = l.type, p = l.style;
                g === "text" && p && l.hv && l.hv[1] && (p.textVerticalAlign = p.textBaseline = p.verticalAlign = p.align = null);
                var f = l.textContent, y = l.textConfig;
                if (p && fl(p, g, !!y, !!f)) {
                    var x = gl(p, g, !0);
                    !y && x.textConfig && (y = l.textConfig = x.textConfig), !f && x.textContent && (f = x.textContent);
                }
                var S = function(N) {
                    return N = Q({}, N), E([ "id", "parentId", "$action", "hv", "bounding", "textContent", "clipPath" ].concat(mh), function(k) {
                        delete N[k];
                    }), N;
                }(l), m = l.$action || "merge", v = m === "merge", b = m === "replace";
                if (v) {
                    var _ = d;
                    (A = !d) ? _ = Wl(u, c, l.type, i) : (_ && (Ye(_).isNew = !1), 
                    Ml(_)), _ && (io(_, S, e, {
                        isInit: A
                    }), Hl(_, l, a, s));
                } else if (b) {
                    ho(d, l, i, e);
                    var w = Wl(u, c, l.type, i);
                    w && (io(w, S, e, {
                        isInit: !0
                    }), Hl(w, l, a, s));
                } else m === "remove" && (bl(d, l), ho(d, l, i, e));
                var I = i.get(u);
                if (I && f) if (v) {
                    var M = I.getTextContent();
                    M ? M.attr(f) : I.setTextContent(new Fe(f));
                } else b && I.setTextContent(new Fe(f));
                if (I) {
                    var D = l.clipPath;
                    if (D) {
                        var L = D.type, C = void 0, A = !1;
                        if (v) {
                            var T = I.getClipPath();
                            C = (A = !T || Ye(T).type !== L) ? sr(L) : T;
                        } else b && (A = !0, C = sr(L));
                        I.setClipPath(C), io(C, D, e, {
                            isInit: A
                        }), ao(C, D.keyframeAnimation, e);
                    }
                    var V = Ye(I);
                    I.setTextConfig(y), V.option = l, function(N, k, P) {
                        var R = me(N).eventData;
                        N.silent || N.ignore || R || (R = me(N).eventData = {
                            componentType: "graphic",
                            componentIndex: k.componentIndex,
                            name: N.name
                        }), R && (R.info = P.info);
                    }(I, e, l), vh({
                        el: I,
                        componentModel: e,
                        itemName: I.name,
                        itemTooltipOption: l.tooltip
                    }), ao(I, l.keyframeAnimation, e);
                }
            });
        }
    }, t.prototype._relocate = function(e, n) {
        for (var i = e.option.elements, r = this.group, a = this._elMap, s = n.getWidth(), l = n.getHeight(), u = [ "x", "y" ], d = 0; d < i.length; d++) {
            var h = i[d];
            if ((y = (f = st(h.id, null)) != null ? a.get(f) : null) && y.isGroup) {
                var c = (x = y.parent) === r, g = Ye(y), p = Ye(x);
                g.width = oe(g.option.width, c ? s : p.width) || 0, g.height = oe(g.option.height, c ? l : p.height) || 0;
            }
        }
        for (d = i.length - 1; d >= 0; d--) {
            var f, y;
            if (h = i[d], y = (f = st(h.id, null)) != null ? a.get(f) : null) {
                var x = y.parent, S = (p = Ye(x), x === r ? {
                    width: s,
                    height: l
                } : {
                    width: p.width,
                    height: p.height
                }), m = {}, v = Wr(y, h, S, null, {
                    hv: h.hv,
                    boundingMode: h.bounding
                }, m);
                if (!Ye(y).isNew && v) {
                    for (var b = h.transition, _ = {}, w = 0; w < u.length; w++) {
                        var I = u[w], M = m[I];
                        b && (Tt(b) || Ne(b, I) >= 0) ? _[I] = M : y[I] = M;
                    }
                    Ae(y, _, e, 0);
                } else y.attr(m);
            }
        }
    }, t.prototype._clear = function() {
        var e = this, n = this._elMap;
        n.each(function(i) {
            ho(i, Ye(i).option, n, e._lastGraphicModel);
        }), this._elMap = be();
    }, t.prototype.dispose = function() {
        this._clear();
    }, t.type = "graphic", t;
}(Ft);

function sr(o) {
    var t = new (Z(Fl, o) ? Fl[o] : ha(o))({});
    return Ye(t).type = o, t;
}

function Wl(o, t, e, n) {
    var i = sr(e);
    return t.add(i), n.set(o, i), Ye(i).id = o, Ye(i).isNew = !0, i;
}

function ho(o, t, e, n) {
    o && o.parent && (o.type === "group" && o.traverse(function(i) {
        ho(i, t, e, n);
    }), ro(o, t, n), e.removeKey(Ye(o).id));
}

function Hl(o, t, e, n) {
    o.isGroup || E([ [ "cursor", en.prototype.cursor ], [ "zlevel", n || 0 ], [ "z", e || 0 ], [ "z2", 0 ] ], function(i) {
        var r = i[0];
        Z(t, r) ? o[r] = Ie(t[r], i[1]) : o[r] == null && (o[r] = i[1]);
    }), E(_e(t), function(i) {
        if (i.indexOf("on") === 0) {
            var r = t[i];
            o[i] = ve(r) ? r : null;
        }
    }), Z(t, "draggable") && (o.draggable = t.draggable), t.name != null && (o.name = t.name), 
    t.id != null && (o.id = t.id);
}

var oy = [ "rect", "polygon", "keep", "clear" ];

function iy(o, t) {
    var e = Ge(o ? o.brush : []);
    if (e.length) {
        var n = [];
        E(e, function(l) {
            var u = l.hasOwnProperty("toolbox") ? l.toolbox : [];
            u instanceof Array && (n = n.concat(u));
        });
        var i = o && o.toolbox;
        $(i) && (i = i[0]), i || (i = {
            feature: {}
        }, o.toolbox = [ i ]);
        var r = i.feature || (i.feature = {}), a = r.brush || (r.brush = {}), s = a.type || (a.type = []);
        s.push.apply(s, n), function(l) {
            var u = {};
            E(l, function(d) {
                u[d] = 1;
            }), l.length = 0, E(u, function(d, h) {
                l.push(h);
            });
        }(s), t && !s.length && s.push.apply(s, oy);
    }
}

var Zl = {
    lineX: Yl(0),
    lineY: Yl(1),
    rect: {
        point: function(o, t, e) {
            return o && e.boundingRect.contain(o[0], o[1]);
        },
        rect: function(o, t, e) {
            return o && e.boundingRect.intersect(o);
        }
    },
    polygon: {
        point: function(o, t, e) {
            return o && e.boundingRect.contain(o[0], o[1]) && un(e.range, o[0], o[1]);
        },
        rect: function(o, t, e) {
            var n = e.range;
            if (!o || n.length <= 1) return !1;
            var i = o.x, r = o.y, a = o.width, s = o.height, l = n[0];
            return !!(un(n, i, r) || un(n, i + a, r) || un(n, i, r + s) || un(n, i + a, r + s) || qe.create(o).contain(l[0], l[1]) || Wn(i, r, i + a, r, n) || Wn(i, r, i, r + s, n) || Wn(i + a, r, i + a, r + s, n) || Wn(i, r + s, i + a, r + s, n)) || void 0;
        }
    }
};

function Yl(o) {
    var t = [ "x", "y" ], e = [ "width", "height" ];
    return {
        point: function(n, i, r) {
            if (n) {
                var a = r.range;
                return bn(n[o], a);
            }
        },
        rect: function(n, i, r) {
            if (n) {
                var a = r.range, s = [ n[t[o]], n[t[o]] + n[e[o]] ];
                return s[1] < s[0] && s.reverse(), bn(s[0], a) || bn(s[1], a) || bn(a[0], s) || bn(a[1], s);
            }
        }
    };
}

function bn(o, t) {
    return t[0] <= o && o <= t[1];
}

var Xl = [ "inBrush", "outOfBrush" ], lr = "__ecBrushSelect", ur = "__ecInBrushSelectEvent";

function Ul(o) {
    o.eachComponent({
        mainType: "brush"
    }, function(t) {
        (t.brushTargetManager = new bh(t.option, o)).setInputRanges(t.areas, o);
    });
}

function ry(o, t, e) {
    var n, i, r = [];
    o.eachComponent({
        mainType: "brush"
    }, function(a) {
        e && e.type === "takeGlobalCursor" && a.setBrushOption(e.key === "brush" ? e.brushOption : {
            brushType: !1
        });
    }), Ul(o), o.eachComponent({
        mainType: "brush"
    }, function(a, s) {
        var l = {
            brushId: a.id,
            brushIndex: s,
            brushName: a.name,
            areas: wt(a.areas),
            selected: []
        };
        r.push(l);
        var u = a.option, d = u.brushLink, h = [], c = [], g = [], p = !1;
        s || (n = u.throttleType, i = u.throttleDelay);
        var f = K(a.areas, function(m) {
            var v = sy[m.brushType], b = we({
                boundingRect: v ? v(m) : void 0
            }, m);
            return b.selectors = function(_) {
                var w = _.brushType, I = {
                    point: function(M) {
                        return Zl[w].point(M, I, _);
                    },
                    rect: function(M) {
                        return Zl[w].rect(M, I, _);
                    }
                };
                return I;
            }(b), b;
        }), y = xh(a.option, Xl, function(m) {
            m.mappingMethod = "fixed";
        });
        function x(m) {
            return d === "all" || !!h[m];
        }
        function S(m) {
            return !!m.length;
        }
        $(d) && E(d, function(m) {
            h[m] = 1;
        }), o.eachSeries(function(m, v) {
            var b = g[v] = [];
            m.subType === "parallel" ? function(_, w) {
                var I = _.coordinateSystem;
                p = p || I.hasAxisBrushed(), x(w) && I.eachActiveState(_.getData(), function(M, D) {
                    M === "active" && (c[D] = 1);
                });
            }(m, v) : function(_, w, I) {
                if (!(!_.brushSelector || function(D, L) {
                    var C = D.option.seriesIndex;
                    return C != null && C !== "all" && ($(C) ? Ne(C, L) < 0 : L !== C);
                }(a, w)) && (E(f, function(D) {
                    a.brushTargetManager.controlSeries(D, _, o) && I.push(D), p = p || S(I);
                }), x(w) && S(I))) {
                    var M = _.getData();
                    M.each(function(D) {
                        jl(_, I, M, D) && (c[D] = 1);
                    });
                }
            }(m, v, b);
        }), o.eachSeries(function(m, v) {
            var b = {
                seriesId: m.id,
                seriesIndex: v,
                seriesName: m.name,
                dataIndex: []
            };
            l.selected.push(b);
            var _ = g[v], w = m.getData(), I = x(v) ? function(M) {
                return c[M] ? (b.dataIndex.push(w.getRawIndex(M)), "inBrush") : "outOfBrush";
            } : function(M) {
                return jl(m, _, w, M) ? (b.dataIndex.push(w.getRawIndex(M)), "inBrush") : "outOfBrush";
            };
            (x(v) ? p : S(_)) && _h(Xl, y, w, I);
        });
    }), function(a, s, l, u, d) {
        if (d) {
            var h = a.getZr();
            if (!h[ur]) {
                h[lr] || (h[lr] = ay);
                var c = Yo(h, lr, l, s);
                c(a, u);
            }
        }
    }(t, n, i, r, e);
}

function ay(o, t) {
    if (!o.isDisposed()) {
        var e = o.getZr();
        e[ur] = !0, o.dispatchAction({
            type: "brushSelect",
            batch: t
        }), e[ur] = !1;
    }
}

function jl(o, t, e, n) {
    for (var i = 0, r = t.length; i < r; i++) {
        var a = t[i];
        if (o.brushSelector(n, e, a.selectors, a)) return !0;
    }
}

var sy = {
    rect: function(o) {
        return ql(o.range);
    },
    polygon: function(o) {
        for (var t, e = o.range, n = 0, i = e.length; n < i; n++) {
            t = t || [ [ 1 / 0, -1 / 0 ], [ 1 / 0, -1 / 0 ] ];
            var r = e[n];
            r[0] < t[0][0] && (t[0][0] = r[0]), r[0] > t[0][1] && (t[0][1] = r[0]), 
            r[1] < t[1][0] && (t[1][0] = r[1]), r[1] > t[1][1] && (t[1][1] = r[1]);
        }
        return t && ql(t);
    }
};

function ql(o) {
    return new qe(o[0][0], o[1][0], o[0][1] - o[0][0], o[1][1] - o[1][0]);
}

const ly = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.init = function(e, n) {
        this.ecModel = e, this.api = n, this.model, (this._brushController = new Sh(n.getZr())).on("brush", ee(this._onBrush, this)).mount();
    }, t.prototype.render = function(e, n, i, r) {
        this.model = e, this._updateController(e, n, i, r);
    }, t.prototype.updateTransform = function(e, n, i, r) {
        Ul(n), this._updateController(e, n, i, r);
    }, t.prototype.updateVisual = function(e, n, i, r) {
        this.updateTransform(e, n, i, r);
    }, t.prototype.updateView = function(e, n, i, r) {
        this._updateController(e, n, i, r);
    }, t.prototype._updateController = function(e, n, i, r) {
        (!r || r.$from !== e.id) && this._brushController.setPanels(e.brushTargetManager.makePanelOpts(i)).enableBrush(e.brushOption).updateCovers(e.areas.slice());
    }, t.prototype.dispose = function() {
        this._brushController.dispose();
    }, t.prototype._onBrush = function(e) {
        var n = this.model.id, i = this.model.brushTargetManager.setOutputRanges(e.areas, this.ecModel);
        (!e.isEnd || e.removeOnClick) && this.api.dispatchAction({
            type: "brush",
            brushId: n,
            areas: wt(i),
            $from: n
        }), e.isEnd && this.api.dispatchAction({
            type: "brushEnd",
            brushId: n,
            areas: wt(i),
            $from: n
        });
    }, t.type = "brush", t;
}(Ft);

function Kl(o, t) {
    return ln({
        brushType: o.brushType,
        brushMode: o.brushMode,
        transformable: o.transformable,
        brushStyle: new ct(o.brushStyle).getItemStyle(),
        removeOnClick: o.removeOnClick,
        z: o.z
    }, t, !0);
}

const uy = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e.areas = [], e.brushOption = {}, e;
    }
    return W(t, o), t.prototype.optionUpdated = function(e, n) {
        var i = this.option;
        !n && wh(i, e, [ "inBrush", "outOfBrush" ]);
        var r = i.inBrush = i.inBrush || {};
        i.outOfBrush = i.outOfBrush || {
            color: "#ddd"
        }, r.hasOwnProperty("liftZ") || (r.liftZ = 5);
    }, t.prototype.setAreas = function(e) {
        e && (this.areas = K(e, function(n) {
            return Kl(this.option, n);
        }, this));
    }, t.prototype.setBrushOption = function(e) {
        this.brushOption = Kl(this.option, e), this.brushType = this.brushOption.brushType;
    }, t.type = "brush", t.dependencies = [ "geo", "grid", "xAxis", "yAxis", "parallel", "series" ], 
    t.defaultOption = {
        seriesIndex: "all",
        brushType: "rect",
        brushMode: "single",
        transformable: !0,
        brushStyle: {
            borderWidth: 1,
            color: "rgba(210,219,238,0.3)",
            borderColor: "#D2DBEE"
        },
        throttleType: "fixRate",
        throttleDelay: 0,
        removeOnClick: !0,
        z: 1e4
    }, t;
}(Gt);

var dy = [ "rect", "polygon", "lineX", "lineY", "keep", "clear" ];

const hy = function(o) {
    function t() {
        return o !== null && o.apply(this, arguments) || this;
    }
    return W(t, o), t.prototype.render = function(e, n, i) {
        var r, a, s;
        n.eachComponent({
            mainType: "brush"
        }, function(l) {
            r = l.brushType, a = l.brushOption.brushMode || "single", s = s || !!l.areas.length;
        }), this._brushType = r, this._brushMode = a, E(e.get("type", !0), function(l) {
            e.setIconStatus(l, (l === "keep" ? a === "multiple" : l === "clear" ? s : l === r) ? "emphasis" : "normal");
        });
    }, t.prototype.updateView = function(e, n, i) {
        this.render(e, n, i);
    }, t.prototype.getIcons = function() {
        var e = this.model, n = e.get("icon", !0), i = {};
        return E(e.get("type", !0), function(r) {
            n[r] && (i[r] = n[r]);
        }), i;
    }, t.prototype.onclick = function(e, n, i) {
        var r = this._brushType, a = this._brushMode;
        i === "clear" ? (n.dispatchAction({
            type: "axisAreaSelect",
            intervals: []
        }), n.dispatchAction({
            type: "brush",
            command: "clear",
            areas: []
        })) : n.dispatchAction({
            type: "takeGlobalCursor",
            key: "brush",
            brushOption: {
                brushType: i === "keep" ? r : r !== i && i,
                brushMode: i === "keep" ? a === "multiple" ? "single" : "multiple" : a
            }
        });
    }, t.getDefaultOption = function(e) {
        return {
            show: !0,
            type: dy.slice(),
            icon: {
                rect: "M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",
                polygon: "M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",
                lineX: "M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",
                lineY: "M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",
                keep: "M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",
                clear: "M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"
            },
            title: e.getLocaleModel().get([ "toolbox", "brush", "title" ])
        };
    }, t;
}(Ih), $l = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e.layoutMode = "box", e;
    }
    return W(t, o), t.prototype.init = function(e, n, i) {
        this.mergeDefaultAndTheme(e, i), this._initData();
    }, t.prototype.mergeOption = function(e) {
        o.prototype.mergeOption.apply(this, arguments), this._initData();
    }, t.prototype.setCurrentIndex = function(e) {
        e == null && (e = this.option.currentIndex);
        var n = this._data.count();
        this.option.loop ? e = (e % n + n) % n : (e >= n && (e = n - 1), e < 0 && (e = 0)), 
        this.option.currentIndex = e;
    }, t.prototype.getCurrentIndex = function() {
        return this.option.currentIndex;
    }, t.prototype.isIndexMax = function() {
        return this.getCurrentIndex() >= this._data.count() - 1;
    }, t.prototype.setPlayState = function(e) {
        this.option.autoPlay = !!e;
    }, t.prototype.getPlayState = function() {
        return !!this.option.autoPlay;
    }, t.prototype._initData = function() {
        var e, n = this.option, i = n.data || [], r = n.axisType, a = this._names = [];
        r === "category" ? (e = [], E(i, function(l, u) {
            var d, h = st(Dh(l), "");
            Jt(l) ? (d = wt(l)).value = u : d = u, e.push(d), a.push(h);
        })) : e = i;
        var s = {
            category: "ordinal",
            time: "time",
            value: "number"
        }[r] || "number";
        (this._data = new ze([ {
            name: "value",
            type: s
        } ], this)).initData(e, a);
    }, t.prototype.getData = function() {
        return this._data;
    }, t.prototype.getCategories = function() {
        if (this.get("axisType") === "category") return this._names.slice();
    }, t.type = "timeline", t.defaultOption = {
        z: 4,
        show: !0,
        axisType: "time",
        realtime: !0,
        left: "20%",
        top: null,
        right: "20%",
        bottom: 0,
        width: null,
        height: 40,
        padding: 5,
        controlPosition: "left",
        autoPlay: !1,
        rewind: !1,
        loop: !0,
        playInterval: 2e3,
        currentIndex: 0,
        itemStyle: {},
        label: {
            color: "#000"
        },
        data: []
    }, t;
}(Gt);

var Ql = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.type = "timeline.slider", t.defaultOption = Xo($l.defaultOption, {
        backgroundColor: "rgba(0,0,0,0)",
        borderColor: "#ccc",
        borderWidth: 0,
        orient: "horizontal",
        inverse: !1,
        tooltip: {
            trigger: "item"
        },
        symbol: "circle",
        symbolSize: 12,
        lineStyle: {
            show: !0,
            width: 2,
            color: "#DAE1F5"
        },
        label: {
            position: "auto",
            show: !0,
            interval: "auto",
            rotate: 0,
            color: "#A4B1D7"
        },
        itemStyle: {
            color: "#A4B1D7",
            borderWidth: 1
        },
        checkpointStyle: {
            symbol: "circle",
            symbolSize: 15,
            color: "#316bf3",
            borderColor: "#fff",
            borderWidth: 2,
            shadowBlur: 2,
            shadowOffsetX: 1,
            shadowOffsetY: 1,
            shadowColor: "rgba(0, 0, 0, 0.3)",
            animation: !0,
            animationDuration: 300,
            animationEasing: "quinticInOut"
        },
        controlStyle: {
            show: !0,
            showPlayBtn: !0,
            showPrevBtn: !0,
            showNextBtn: !0,
            itemSize: 24,
            itemGap: 12,
            position: "left",
            playIcon: "path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",
            stopIcon: "path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",
            nextIcon: "M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",
            prevIcon: "M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",
            prevBtnSize: 18,
            nextBtnSize: 18,
            color: "#A4B1D7",
            borderColor: "#A4B1D7",
            borderWidth: 1
        },
        emphasis: {
            label: {
                show: !0,
                color: "#6f778d"
            },
            itemStyle: {
                color: "#316BF3"
            },
            controlStyle: {
                color: "#316BF3",
                borderColor: "#316BF3",
                borderWidth: 2
            }
        },
        progress: {
            lineStyle: {
                color: "#316BF3"
            },
            itemStyle: {
                color: "#316BF3"
            },
            label: {
                color: "#6f778d"
            }
        },
        data: []
    }), t;
}($l);

Mt(Ql, ma.prototype);

const cy = Ql, py = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.type = "timeline", t;
}(Ft);

var fy = function(o) {
    function t(e, n, i, r) {
        var a = o.call(this, e, n, i) || this;
        return a.type = r || "value", a;
    }
    return W(t, o), t.prototype.getLabelModel = function() {
        return this.model.getModel("label");
    }, t.prototype.isHorizontal = function() {
        return this.model.get("orient") === "horizontal";
    }, t;
}(pa);

const gy = fy;

var dr = Math.PI, Jl = Te(), yy = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.init = function(e, n) {
        this.api = n;
    }, t.prototype.render = function(e, n, i) {
        if (this.model = e, this.api = i, this.ecModel = n, this.group.removeAll(), 
        e.get("show", !0)) {
            var r = this._layout(e, i), a = this._createGroup("_mainGroup"), s = this._createGroup("_labelGroup"), l = this._axis = this._createAxis(r, e);
            e.formatTooltip = function(u) {
                var d = l.scale.getLabel({
                    value: u
                });
                return Ke("nameValue", {
                    noName: !0,
                    value: d
                });
            }, E([ "AxisLine", "AxisTick", "Control", "CurrentPointer" ], function(u) {
                this["_render" + u](r, a, l, e);
            }, this), this._renderAxisLabel(r, s, l, e), this._position(r, e);
        }
        this._doPlayStop(), this._updateTicksStatus();
    }, t.prototype.remove = function() {
        this._clearTimer(), this.group.removeAll();
    }, t.prototype.dispose = function() {
        this._clearTimer();
    }, t.prototype._layout = function(e, n) {
        var i, r, a, s, l = e.get([ "label", "position" ]), u = e.get("orient"), d = function(C, A) {
            return rt(C.getBoxLayoutParams(), {
                width: A.getWidth(),
                height: A.getHeight()
            }, C.get("padding"));
        }(e, n), h = {
            horizontal: "center",
            vertical: (i = l == null || l === "auto" ? u === "horizontal" ? d.y + d.height / 2 < n.getHeight() / 2 ? "-" : "+" : d.x + d.width / 2 < n.getWidth() / 2 ? "+" : "-" : ue(l) ? {
                horizontal: {
                    top: "-",
                    bottom: "+"
                },
                vertical: {
                    left: "-",
                    right: "+"
                }
            }[u][l] : l) >= 0 || i === "+" ? "left" : "right"
        }, c = {
            horizontal: i >= 0 || i === "+" ? "top" : "bottom",
            vertical: "middle"
        }, g = {
            horizontal: 0,
            vertical: dr / 2
        }, p = u === "vertical" ? d.height : d.width, f = e.getModel("controlStyle"), y = f.get("show", !0), x = y ? f.get("itemSize") : 0, S = y ? f.get("itemGap") : 0, m = x + S, v = e.get([ "label", "rotate" ]) || 0;
        v = v * dr / 180;
        var b = f.get("position", !0), _ = y && f.get("showPlayBtn", !0), w = y && f.get("showPrevBtn", !0), I = y && f.get("showNextBtn", !0), M = 0, D = p;
        b === "left" || b === "bottom" ? (_ && (r = [ 0, 0 ], M += m), w && (a = [ M, 0 ], 
        M += m), I && (s = [ D - x, 0 ], D -= m)) : (_ && (r = [ D - x, 0 ], D -= m), 
        w && (a = [ 0, 0 ], M += m), I && (s = [ D - x, 0 ], D -= m));
        var L = [ M, D ];
        return e.get("inverse") && L.reverse(), {
            viewRect: d,
            mainLength: p,
            orient: u,
            rotation: g[u],
            labelRotation: v,
            labelPosOpt: i,
            labelAlign: e.get([ "label", "align" ]) || h[u],
            labelBaseline: e.get([ "label", "verticalAlign" ]) || e.get([ "label", "baseline" ]) || c[u],
            playPosition: r,
            prevBtnPosition: a,
            nextBtnPosition: s,
            axisExtent: L,
            controlSize: x,
            controlGap: S
        };
    }, t.prototype._position = function(e, n) {
        var i = this._mainGroup, r = this._labelGroup, a = e.viewRect;
        if (e.orient === "vertical") {
            var s = Zr(), l = a.x, u = a.y + a.height;
            Vn(s, s, [ -l, -u ]), Ch(s, s, -dr / 2), Vn(s, s, [ l, u ]), (a = a.clone()).applyTransform(s);
        }
        var d = S(a), h = S(i.getBoundingRect()), c = S(r.getBoundingRect()), g = [ i.x, i.y ], p = [ r.x, r.y ];
        p[0] = g[0] = d[0][0];
        var f, y = e.labelPosOpt;
        y == null || ue(y) ? (m(g, h, d, 1, f = y === "+" ? 0 : 1), m(p, c, d, 1, 1 - f)) : (m(g, h, d, 1, f = y >= 0 ? 0 : 1), 
        p[1] = g[1] + y);
        function x(v) {
            v.originX = d[0][0] - v.x, v.originY = d[1][0] - v.y;
        }
        function S(v) {
            return [ [ v.x, v.x + v.width ], [ v.y, v.y + v.height ] ];
        }
        function m(v, b, _, w, I) {
            v[w] += _[w][I] - b[w][I];
        }
        i.setPosition(g), r.setPosition(p), i.rotation = r.rotation = e.rotation, 
        x(i), x(r);
    }, t.prototype._createAxis = function(e, n) {
        var i = n.getData(), r = n.get("axisType"), a = function(u, d) {
            if (d = d || u.get("type"), d) switch (d) {
              case "category":
                return new Nh({
                    ordinalMeta: u.getCategories(),
                    extent: [ 1 / 0, -1 / 0 ]
                });

              case "time":
                return new Th({
                    locale: u.ecModel.getLocaleModel(),
                    useUTC: u.ecModel.get("useUTC")
                });

              default:
                return new Ah();
            }
        }(n, r);
        a.getTicks = function() {
            return i.mapArray([ "value" ], function(u) {
                return {
                    value: u
                };
            });
        };
        var s = i.getDataExtent("value");
        a.setExtent(s[0], s[1]), a.calcNiceTicks();
        var l = new gy("value", a, e.axisExtent, r);
        return l.model = n, l;
    }, t.prototype._createGroup = function(e) {
        var n = this[e] = new de();
        return this.group.add(n), n;
    }, t.prototype._renderAxisLine = function(e, n, i, r) {
        var a = i.getExtent();
        if (r.get([ "lineStyle", "show" ])) {
            var s = new zn({
                shape: {
                    x1: a[0],
                    y1: 0,
                    x2: a[1],
                    y2: 0
                },
                style: Q({
                    lineCap: "round"
                }, r.getModel("lineStyle").getLineStyle()),
                silent: !0,
                z2: 1
            });
            n.add(s);
            var l = this._progressLine = new zn({
                shape: {
                    x1: a[0],
                    x2: this._currentPointer ? this._currentPointer.x : a[0],
                    y1: 0,
                    y2: 0
                },
                style: we({
                    lineCap: "round",
                    lineWidth: s.style.lineWidth
                }, r.getModel([ "progress", "lineStyle" ]).getLineStyle()),
                silent: !0,
                z2: 1
            });
            n.add(l);
        }
    }, t.prototype._renderAxisTick = function(e, n, i, r) {
        var a = this, s = r.getData(), l = i.scale.getTicks();
        this._tickSymbols = [], E(l, function(u) {
            var d = i.dataToCoord(u.value), h = s.getItemModel(u.value), c = h.getModel("itemStyle"), g = h.getModel([ "emphasis", "itemStyle" ]), p = h.getModel([ "progress", "itemStyle" ]), f = {
                x: d,
                y: 0,
                onclick: ee(a._changeTimeline, a, u.value)
            }, y = eu(h, c, n, f);
            y.ensureState("emphasis").style = g.getItemStyle(), y.ensureState("progress").style = p.getItemStyle(), 
            Hn(y);
            var x = me(y);
            h.get("tooltip") ? (x.dataIndex = u.value, x.dataModel = r) : x.dataIndex = x.dataModel = null, 
            a._tickSymbols.push(y);
        });
    }, t.prototype._renderAxisLabel = function(e, n, i, r) {
        var a = this;
        if (i.getLabelModel().get("show")) {
            var s = r.getData(), l = i.getViewLabels();
            this._tickLabels = [], E(l, function(u) {
                var d = u.tickValue, h = s.getItemModel(d), c = h.getModel("label"), g = h.getModel([ "emphasis", "label" ]), p = h.getModel([ "progress", "label" ]), f = i.dataToCoord(u.tickValue), y = new Fe({
                    x: f,
                    y: 0,
                    rotation: e.labelRotation - e.rotation,
                    onclick: ee(a._changeTimeline, a, d),
                    silent: !1,
                    style: We(c, {
                        text: u.formattedLabel,
                        align: e.labelAlign,
                        verticalAlign: e.labelBaseline
                    })
                });
                y.ensureState("emphasis").style = We(g), y.ensureState("progress").style = We(p), 
                n.add(y), Hn(y), Jl(y).dataIndex = d, a._tickLabels.push(y);
            });
        }
    }, t.prototype._renderControl = function(e, n, i, r) {
        var a = e.controlSize, s = e.rotation, l = r.getModel("controlStyle").getItemStyle(), u = r.getModel([ "emphasis", "controlStyle" ]).getItemStyle(), d = r.getPlayState(), h = r.get("inverse", !0);
        function c(g, p, f, y) {
            if (g) {
                var x = Lh(Ie(r.get([ "controlStyle", p + "BtnSize" ]), a), a), S = function(m, v, b, _) {
                    var w = _.style, I = Ph(m.get([ "controlStyle", v ]), _ || {}, new qe(b[0], b[1], b[2], b[3]));
                    return w && I.setStyle(w), I;
                }(r, p + "Icon", [ 0, -x / 2, x, x ], {
                    x: g[0],
                    y: g[1],
                    originX: a / 2,
                    originY: 0,
                    rotation: y ? -s : 0,
                    rectHover: !0,
                    style: l,
                    onclick: f
                });
                S.ensureState("emphasis").style = u, n.add(S), Hn(S);
            }
        }
        c(e.nextBtnPosition, "next", ee(this._changeTimeline, this, h ? "-" : "+")), 
        c(e.prevBtnPosition, "prev", ee(this._changeTimeline, this, h ? "+" : "-")), 
        c(e.playPosition, d ? "stop" : "play", ee(this._handlePlayClick, this, !d), !0);
    }, t.prototype._renderCurrentPointer = function(e, n, i, r) {
        var a = r.getData(), s = r.getCurrentIndex(), l = a.getItemModel(s).getModel("checkpointStyle"), u = this, d = {
            onCreate: function(h) {
                h.draggable = !0, h.drift = ee(u._handlePointerDrag, u), h.ondragend = ee(u._handlePointerDragend, u), 
                tu(h, u._progressLine, s, i, r, !0);
            },
            onUpdate: function(h) {
                tu(h, u._progressLine, s, i, r);
            }
        };
        this._currentPointer = eu(l, l, this._mainGroup, {}, this._currentPointer, d);
    }, t.prototype._handlePlayClick = function(e) {
        this._clearTimer(), this.api.dispatchAction({
            type: "timelinePlayChange",
            playState: e,
            from: this.uid
        });
    }, t.prototype._handlePointerDrag = function(e, n, i) {
        this._clearTimer(), this._pointerChangeTimeline([ i.offsetX, i.offsetY ]);
    }, t.prototype._handlePointerDragend = function(e) {
        this._pointerChangeTimeline([ e.offsetX, e.offsetY ], !0);
    }, t.prototype._pointerChangeTimeline = function(e, n) {
        var i = this._toAxisCoord(e)[0], r = this._axis, a = yt(r.getExtent().slice());
        i > a[1] && (i = a[1]), i < a[0] && (i = a[0]), this._currentPointer.x = i, 
        this._currentPointer.markRedraw();
        var s = this._progressLine;
        s && (s.shape.x2 = i, s.dirty());
        var l = this._findNearestTick(i), u = this.model;
        (n || l !== u.getCurrentIndex() && u.get("realtime")) && this._changeTimeline(l);
    }, t.prototype._doPlayStop = function() {
        var e = this;
        this._clearTimer(), this.model.getPlayState() && (this._timer = setTimeout(function() {
            var n = e.model;
            e._changeTimeline(n.getCurrentIndex() + (n.get("rewind", !0) ? -1 : 1));
        }, this.model.get("playInterval")));
    }, t.prototype._toAxisCoord = function(e) {
        var n = this._mainGroup.getLocalTransform();
        return Uo(e, n, !0);
    }, t.prototype._findNearestTick = function(e) {
        var n, i = this.model.getData(), r = 1 / 0, a = this._axis;
        return i.each([ "value" ], function(s, l) {
            var u = a.dataToCoord(s), d = Math.abs(u - e);
            d < r && (r = d, n = l);
        }), n;
    }, t.prototype._clearTimer = function() {
        this._timer && (clearTimeout(this._timer), this._timer = null);
    }, t.prototype._changeTimeline = function(e) {
        var n = this.model.getCurrentIndex();
        e === "+" ? e = n + 1 : e === "-" && (e = n - 1), this.api.dispatchAction({
            type: "timelineChange",
            currentIndex: e,
            from: this.uid
        });
    }, t.prototype._updateTicksStatus = function() {
        var e = this.model.getCurrentIndex(), n = this._tickSymbols, i = this._tickLabels;
        if (n) for (var r = 0; r < n.length; r++) n && n[r] && n[r].toggleState("progress", r < e);
        if (i) for (r = 0; r < i.length; r++) i && i[r] && i[r].toggleState("progress", Jl(i[r]).dataIndex <= e);
    }, t.type = "timeline.slider", t;
}(py);

function eu(o, t, e, n, i, r) {
    var a = t.get("color");
    if (i) i.setColor(a), e.add(i), r && r.onUpdate(i); else {
        var s = o.get("symbol");
        (i = It(s, -1, -1, 2, 2, a)).setStyle("strokeNoScale", !0), e.add(i), r && r.onCreate(i);
    }
    var l = t.getItemStyle([ "color" ]);
    i.setStyle(l), n = ln({
        rectHover: !0,
        z2: 100
    }, n, !0);
    var u = Rn(o.get("symbolSize"));
    n.scaleX = u[0] / 2, n.scaleY = u[1] / 2;
    var d = On(o.get("symbolOffset"), u);
    d && (n.x = (n.x || 0) + d[0], n.y = (n.y || 0) + d[1]);
    var h = o.get("symbolRotate");
    return n.rotation = (h || 0) * Math.PI / 180 || 0, i.attr(n), i.updateTransform(), 
    i;
}

function tu(o, t, e, n, i, r) {
    if (!o.dragging) {
        var a = i.getModel("checkpointStyle"), s = n.dataToCoord(i.getData().get("value", e));
        if (r || !a.get("animation", !0)) o.attr({
            x: s,
            y: 0
        }), t && t.attr({
            shape: {
                x2: s
            }
        }); else {
            var l = {
                duration: a.get("animationDuration", !0),
                easing: a.get("animationEasing", !0)
            };
            o.stopAnimation(null, !0), o.animateTo({
                x: s,
                y: 0
            }, l), t && t.animateTo({
                shape: {
                    x2: s
                }
            }, l);
        }
    }
}

const vy = yy;

function my(o) {
    var t = o && o.timeline;
    $(t) || (t = t ? [ t ] : []), E(t, function(e) {
        e && function(n) {
            var i = n.type, r = {
                number: "value",
                time: "time"
            };
            if (r[i] && (n.axisType = r[i], delete n.type), nu(n), Nt(n, "controlPosition")) {
                var a = n.controlStyle || (n.controlStyle = {});
                Nt(a, "position") || (a.position = n.controlPosition), a.position !== "none" || Nt(a, "show") || (a.show = !1, 
                delete a.position), delete n.controlPosition;
            }
            E(n.data || [], function(s) {
                Jt(s) && !$(s) && (!Nt(s, "value") && Nt(s, "name") && (s.value = s.name), 
                nu(s));
            });
        }(e);
    });
}

function nu(o) {
    var t = o.itemStyle || (o.itemStyle = {}), e = t.emphasis || (t.emphasis = {}), n = o.label || o.label || {}, i = n.normal || (n.normal = {}), r = {
        normal: 1,
        emphasis: 1
    };
    E(n, function(a, s) {
        r[s] || Nt(i, s) || (i[s] = a);
    }), e.label && !Nt(n, "emphasis") && (n.emphasis = e.label, delete e.label);
}

function Nt(o, t) {
    return o.hasOwnProperty(t);
}

function hr(o, t) {
    if (!o) return !1;
    for (var e = $(o) ? o : [ o ], n = 0; n < e.length; n++) if (e[n] && e[n][t]) return !0;
    return !1;
}

function co(o) {
    zo(o, "label", [ "show" ]);
}

var po = Te(), ou = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e.createdBySelf = !1, e;
    }
    return W(t, o), t.prototype.init = function(e, n, i) {
        this.mergeDefaultAndTheme(e, i), this._mergeOption(e, i, !1, !0);
    }, t.prototype.isAnimationEnabled = function() {
        if (kh.node) return !1;
        var e = this.__hostSeries;
        return this.getShallow("animation") && e && e.isAnimationEnabled();
    }, t.prototype.mergeOption = function(e, n) {
        this._mergeOption(e, n, !1, !1);
    }, t.prototype._mergeOption = function(e, n, i, r) {
        var a = this.mainType;
        i || n.eachSeries(function(s) {
            var l = s.get(this.mainType, !0), u = po(s)[a];
            l && l.data ? (u ? u._mergeOption(l, n, !0) : (r && co(l), E(l.data, function(d) {
                d instanceof Array ? (co(d[0]), co(d[1])) : co(d);
            }), u = this.createMarkerModelFromSeries(l, this, n), Q(u, {
                mainType: this.mainType,
                seriesIndex: s.seriesIndex,
                name: s.name,
                createdBySelf: !0
            }), u.__hostSeries = s), po(s)[a] = u) : po(s)[a] = null;
        }, this);
    }, t.prototype.formatTooltip = function(e, n, i) {
        var r = this.getData(), a = this.getRawValue(e), s = r.getName(e);
        return Ke("section", {
            header: this.name,
            blocks: [ Ke("nameValue", {
                name: s,
                value: a,
                noName: !s,
                noValue: a == null
            }) ]
        });
    }, t.prototype.getData = function() {
        return this._data;
    }, t.prototype.setData = function(e) {
        this._data = e;
    }, t.getMarkerModelFromSeries = function(e, n) {
        return po(e)[n];
    }, t.type = "marker", t.dependencies = [ "series", "grid", "polar", "geo" ], 
    t;
}(Gt);

Mt(ou, ma.prototype);

const bt = ou, xy = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.createMarkerModelFromSeries = function(e, n, i) {
        return new t(e, n, i);
    }, t.type = "markPoint", t.defaultOption = {
        z: 5,
        symbol: "pin",
        symbolSize: 50,
        tooltip: {
            trigger: "item"
        },
        label: {
            show: !0,
            position: "inside"
        },
        itemStyle: {
            borderWidth: 2
        },
        emphasis: {
            label: {
                show: !0
            }
        }
    }, t;
}(bt);

function cr(o) {
    return !(isNaN(parseFloat(o.x)) && isNaN(parseFloat(o.y)));
}

function fo(o, t, e, n, i, r) {
    var a = [], s = Vh(t, n) ? t.getCalculationInfo("stackResultDimension") : n, l = fr(t, s, o), u = t.indicesOfNearest(s, l)[0];
    a[i] = t.get(e, u), a[r] = t.get(s, u);
    var d = t.get(n, u), h = Eh(t.get(n, u));
    return (h = Math.min(h, 20)) >= 0 && (a[r] = +a[r].toFixed(h)), [ a, d ];
}

var pr = {
    min: he(fo, "min"),
    max: he(fo, "max"),
    average: he(fo, "average"),
    median: he(fo, "median")
};

function Sn(o, t) {
    if (t) {
        var e = o.getData(), n = o.coordinateSystem, i = n && n.dimensions;
        if (!function(h) {
            return !isNaN(parseFloat(h.x)) && !isNaN(parseFloat(h.y));
        }(t) && !$(t.coord) && $(i)) {
            var r = iu(t, e, n, o);
            if ((t = wt(t)).type && pr[t.type] && r.baseAxis && r.valueAxis) {
                var a = Ne(i, r.baseAxis.dim), s = Ne(i, r.valueAxis.dim), l = pr[t.type](e, r.baseDataDim, r.valueDataDim, a, s);
                t.coord = l[0], t.value = l[1];
            } else t.coord = [ t.xAxis != null ? t.xAxis : t.radiusAxis, t.yAxis != null ? t.yAxis : t.angleAxis ];
        }
        if (t.coord != null && $(i)) for (var u = t.coord, d = 0; d < 2; d++) pr[u[d]] && (u[d] = fr(e, e.mapDimension(i[d]), u[d])); else t.coord = [];
        return t;
    }
}

function iu(o, t, e, n) {
    var i = {};
    return o.valueIndex != null || o.valueDim != null ? (i.valueDataDim = o.valueIndex != null ? t.getDimension(o.valueIndex) : o.valueDim, 
    i.valueAxis = e.getAxis(function(r, a) {
        var s = r.getData().getDimensionInfo(a);
        return s && s.coordDim;
    }(n, i.valueDataDim)), i.baseAxis = e.getOtherAxis(i.valueAxis), i.baseDataDim = t.mapDimension(i.baseAxis.dim)) : (i.baseAxis = n.getBaseAxis(), 
    i.valueAxis = e.getOtherAxis(i.baseAxis), i.baseDataDim = t.mapDimension(i.baseAxis.dim), 
    i.valueDataDim = t.mapDimension(i.valueAxis.dim)), i;
}

function wn(o, t) {
    return !(o && o.containData && t.coord && !cr(t)) || o.containData(t.coord);
}

function ru(o, t) {
    return o ? function(e, n, i, r) {
        var a = r < 2 ? e.coord && e.coord[r] : e.value;
        return Zn(a, t[r]);
    } : function(e, n, i, r) {
        return Zn(e.value, t[r]);
    };
}

function fr(o, t, e) {
    if (e === "average") {
        var n = 0, i = 0;
        return o.each(t, function(r, a) {
            isNaN(r) || (n += r, i++);
        }), n / i;
    }
    return e === "median" ? o.getMedian(t) : o.getDataExtent(t)[e === "max" ? 1 : 0];
}

var gr = Te();

const yr = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.init = function() {
        this.markerGroupMap = be();
    }, t.prototype.render = function(e, n, i) {
        var r = this, a = this.markerGroupMap;
        a.each(function(s) {
            gr(s).keep = !1;
        }), n.eachSeries(function(s) {
            var l = bt.getMarkerModelFromSeries(s, r.type);
            l && r.renderSeries(s, l, n, i);
        }), a.each(function(s) {
            !gr(s).keep && r.group.remove(s.group);
        });
    }, t.prototype.markKeep = function(e) {
        gr(e).keep = !0;
    }, t.prototype.toggleBlurSeries = function(e, n) {
        var i = this;
        E(e, function(r) {
            var a = bt.getMarkerModelFromSeries(r, i.type);
            a && a.getData().eachItemGraphicEl(function(s) {
                s && (n ? zh(s) : Rh(s));
            });
        });
    }, t.type = "marker", t;
}(Ft);

function au(o, t, e) {
    var n = t.coordinateSystem;
    o.each(function(i) {
        var r, a = o.getItemModel(i), s = oe(a.get("x"), e.getWidth()), l = oe(a.get("y"), e.getHeight());
        if (isNaN(s) || isNaN(l)) {
            if (t.getMarkerPosition) r = t.getMarkerPosition(o.getValues(o.dimensions, i)); else if (n) {
                var u = o.get(n.dimensions[0], i), d = o.get(n.dimensions[1], i);
                r = n.dataToPoint([ u, d ]);
            }
        } else r = [ s, l ];
        isNaN(s) || (r[0] = s), isNaN(l) || (r[1] = l), o.setItemLayout(i, r);
    });
}

const _y = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.updateTransform = function(e, n, i) {
        n.eachSeries(function(r) {
            var a = bt.getMarkerModelFromSeries(r, "markPoint");
            a && (au(a.getData(), r, i), this.markerGroupMap.get(r.id).updateLayout());
        }, this);
    }, t.prototype.renderSeries = function(e, n, i, r) {
        var a = e.coordinateSystem, s = e.id, l = e.getData(), u = this.markerGroupMap, d = u.get(s) || u.set(s, new An()), h = function(c, g, p) {
            var f;
            f = c ? K(c && c.dimensions, function(m) {
                var v = g.getData().getDimensionInfo(g.getData().mapDimension(m)) || {};
                return Q(Q({}, v), {
                    name: m,
                    ordinalMeta: null
                });
            }) : [ {
                name: "value",
                type: "float"
            } ];
            var y = new ze(f, p), x = K(p.get("data"), he(Sn, g));
            c && (x = je(x, he(wn, c)));
            var S = ru(!!c, f);
            return y.initData(x, null, S), y;
        }(a, e, n);
        n.setData(h), au(n.getData(), e, r), h.each(function(c) {
            var g = h.getItemModel(c), p = g.getShallow("symbol"), f = g.getShallow("symbolSize"), y = g.getShallow("symbolRotate"), x = g.getShallow("symbolOffset"), S = g.getShallow("symbolKeepAspect");
            if (ve(p) || ve(f) || ve(y) || ve(x)) {
                var m = n.getRawValue(c), v = n.getDataParams(c);
                ve(p) && (p = p(m, v)), ve(f) && (f = f(m, v)), ve(y) && (y = y(m, v)), 
                ve(x) && (x = x(m, v));
            }
            var b = g.getModel("itemStyle").getItemStyle(), _ = jo(l, "color");
            b.fill || (b.fill = _), h.setItemVisual(c, {
                symbol: p,
                symbolSize: f,
                symbolRotate: y,
                symbolOffset: x,
                symbolKeepAspect: S,
                style: b
            });
        }), d.updateData(h), this.group.add(d.group), h.eachItemGraphicEl(function(c) {
            c.traverse(function(g) {
                me(g).dataModel = n;
            });
        }), this.markKeep(d), d.group.silent = n.get("silent") || e.get("silent");
    }, t.type = "markPoint", t;
}(yr), by = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.createMarkerModelFromSeries = function(e, n, i) {
        return new t(e, n, i);
    }, t.type = "markLine", t.defaultOption = {
        z: 5,
        symbol: [ "circle", "arrow" ],
        symbolSize: [ 8, 16 ],
        symbolOffset: 0,
        precision: 2,
        tooltip: {
            trigger: "item"
        },
        label: {
            show: !0,
            position: "end",
            distance: 5
        },
        lineStyle: {
            type: "dashed"
        },
        emphasis: {
            label: {
                show: !0
            },
            lineStyle: {
                width: 3
            }
        },
        animationEasing: "linear"
    }, t;
}(bt);

var go = Te(), Sy = function(o, t, e, n) {
    var i, r = o.getData();
    if ($(n)) i = n; else {
        var a = n.type;
        if (a === "min" || a === "max" || a === "average" || a === "median" || n.xAxis != null || n.yAxis != null) {
            var s = void 0, l = void 0;
            if (n.yAxis != null || n.xAxis != null) s = t.getAxis(n.yAxis != null ? "y" : "x"), 
            l = Qe(n.yAxis, n.xAxis); else {
                var u = iu(n, r, t, o);
                s = u.valueAxis, l = fr(r, Oh(r, u.valueDataDim), a);
            }
            var d = s.dim === "x" ? 0 : 1, h = 1 - d, c = wt(n), g = {
                coord: []
            };
            c.type = null, c.coord = [], c.coord[h] = -1 / 0, g.coord[h] = 1 / 0;
            var p = e.get("precision");
            p >= 0 && it(l) && (l = +l.toFixed(Math.min(p, 20))), c.coord[d] = g.coord[d] = l, 
            i = [ c, g, {
                type: a,
                valueIndex: n.valueIndex,
                value: l
            } ];
        } else i = [];
    }
    var f = [ Sn(o, i[0]), Sn(o, i[1]), Q({}, i[2]) ];
    return f[2].type = f[2].type || null, ln(f[2], f[0]), ln(f[2], f[1]), f;
};

function yo(o) {
    return !isNaN(o) && !isFinite(o);
}

function su(o, t, e, n) {
    var i = 1 - o, r = n.dimensions[o];
    return yo(t[i]) && yo(e[i]) && t[o] === e[o] && n.getAxis(r).containData(t[o]);
}

function wy(o, t) {
    if (o.type === "cartesian2d") {
        var e = t[0].coord, n = t[1].coord;
        if (e && n && (su(1, e, n, o) || su(0, e, n, o))) return !0;
    }
    return wn(o, t[0]) && wn(o, t[1]);
}

function vr(o, t, e, n, i) {
    var r, a = n.coordinateSystem, s = o.getItemModel(t), l = oe(s.get("x"), i.getWidth()), u = oe(s.get("y"), i.getHeight());
    if (isNaN(l) || isNaN(u)) {
        if (n.getMarkerPosition) r = n.getMarkerPosition(o.getValues(o.dimensions, t)); else {
            var d = a.dimensions, h = o.get(d[0], t), c = o.get(d[1], t);
            r = a.dataToPoint([ h, c ]);
        }
        if (Gn(a, "cartesian2d")) {
            var g = a.getAxis("x"), p = a.getAxis("y");
            d = a.dimensions, yo(o.get(d[0], t)) ? r[0] = g.toGlobalCoord(g.getExtent()[e ? 0 : 1]) : yo(o.get(d[1], t)) && (r[1] = p.toGlobalCoord(p.getExtent()[e ? 0 : 1]));
        }
        isNaN(l) || (r[0] = l), isNaN(u) || (r[1] = u);
    } else r = [ l, u ];
    o.setItemLayout(t, r);
}

const Iy = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.updateTransform = function(e, n, i) {
        n.eachSeries(function(r) {
            var a = bt.getMarkerModelFromSeries(r, "markLine");
            if (a) {
                var s = a.getData(), l = go(a).from, u = go(a).to;
                l.each(function(d) {
                    vr(l, d, !0, r, i), vr(u, d, !1, r, i);
                }), s.each(function(d) {
                    s.setItemLayout(d, [ l.getItemLayout(d), u.getItemLayout(d) ]);
                }), this.markerGroupMap.get(r.id).updateLayout();
            }
        }, this);
    }, t.prototype.renderSeries = function(e, n, i, r) {
        var a = e.coordinateSystem, s = e.id, l = e.getData(), u = this.markerGroupMap, d = u.get(s) || u.set(s, new Pi());
        this.group.add(d.group);
        var h = function(v, b, _) {
            var w;
            w = v ? K(v && v.dimensions, function(A) {
                var T = b.getData().getDimensionInfo(b.getData().mapDimension(A)) || {};
                return Q(Q({}, T), {
                    name: A,
                    ordinalMeta: null
                });
            }) : [ {
                name: "value",
                type: "float"
            } ];
            var I = new ze(w, _), M = new ze(w, _), D = new ze([], _), L = K(_.get("data"), he(Sy, b, v, _));
            v && (L = je(L, he(wy, v)));
            var C = ru(!!v, w);
            return I.initData(K(L, function(A) {
                return A[0];
            }), null, C), M.initData(K(L, function(A) {
                return A[1];
            }), null, C), D.initData(K(L, function(A) {
                return A[2];
            })), D.hasItemOption = !0, {
                from: I,
                to: M,
                line: D
            };
        }(a, e, n), c = h.from, g = h.to, p = h.line;
        go(n).from = c, go(n).to = g, n.setData(p);
        var f = n.get("symbol"), y = n.get("symbolSize"), x = n.get("symbolRotate"), S = n.get("symbolOffset");
        function m(v, b, _) {
            var w = v.getItemModel(b);
            vr(v, b, _, e, r);
            var I = w.getModel("itemStyle").getItemStyle();
            I.fill == null && (I.fill = jo(l, "color")), v.setItemVisual(b, {
                symbolKeepAspect: w.get("symbolKeepAspect"),
                symbolOffset: Ie(w.get("symbolOffset", !0), S[_ ? 0 : 1]),
                symbolRotate: Ie(w.get("symbolRotate", !0), x[_ ? 0 : 1]),
                symbolSize: Ie(w.get("symbolSize"), y[_ ? 0 : 1]),
                symbol: Ie(w.get("symbol", !0), f[_ ? 0 : 1]),
                style: I
            });
        }
        $(f) || (f = [ f, f ]), $(y) || (y = [ y, y ]), $(x) || (x = [ x, x ]), 
        $(S) || (S = [ S, S ]), h.from.each(function(v) {
            m(c, v, !0), m(g, v, !1);
        }), p.each(function(v) {
            var b = p.getItemModel(v).getModel("lineStyle").getLineStyle();
            p.setItemLayout(v, [ c.getItemLayout(v), g.getItemLayout(v) ]), b.stroke == null && (b.stroke = c.getItemVisual(v, "style").fill), 
            p.setItemVisual(v, {
                fromSymbolKeepAspect: c.getItemVisual(v, "symbolKeepAspect"),
                fromSymbolOffset: c.getItemVisual(v, "symbolOffset"),
                fromSymbolRotate: c.getItemVisual(v, "symbolRotate"),
                fromSymbolSize: c.getItemVisual(v, "symbolSize"),
                fromSymbol: c.getItemVisual(v, "symbol"),
                toSymbolKeepAspect: g.getItemVisual(v, "symbolKeepAspect"),
                toSymbolOffset: g.getItemVisual(v, "symbolOffset"),
                toSymbolRotate: g.getItemVisual(v, "symbolRotate"),
                toSymbolSize: g.getItemVisual(v, "symbolSize"),
                toSymbol: g.getItemVisual(v, "symbol"),
                style: b
            });
        }), d.updateData(p), h.line.eachItemGraphicEl(function(v) {
            me(v).dataModel = n, v.traverse(function(b) {
                me(b).dataModel = n;
            });
        }), this.markKeep(d), d.group.silent = n.get("silent") || e.get("silent");
    }, t.type = "markLine", t;
}(yr), My = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.createMarkerModelFromSeries = function(e, n, i) {
        return new t(e, n, i);
    }, t.type = "markArea", t.defaultOption = {
        z: 1,
        tooltip: {
            trigger: "item"
        },
        animation: !1,
        label: {
            show: !0,
            position: "top"
        },
        itemStyle: {
            borderWidth: 0
        },
        emphasis: {
            label: {
                show: !0,
                position: "top"
            }
        }
    }, t;
}(bt);

var vo = Te(), Dy = function(o, t, e, n) {
    var i = n[0], r = n[1];
    if (i && r) {
        var a = Sn(o, i), s = Sn(o, r), l = a.coord, u = s.coord;
        l[0] = Qe(l[0], -1 / 0), l[1] = Qe(l[1], -1 / 0), u[0] = Qe(u[0], 1 / 0), 
        u[1] = Qe(u[1], 1 / 0);
        var d = oa([ {}, a, s ]);
        return d.coord = [ a.coord, s.coord ], d.x0 = a.x, d.y0 = a.y, d.x1 = s.x, 
        d.y1 = s.y, d;
    }
};

function mo(o) {
    return !isNaN(o) && !isFinite(o);
}

function lu(o, t, e, n) {
    var i = 1 - o;
    return mo(t[i]) && mo(e[i]);
}

function Cy(o, t) {
    var e = t.coord[0], n = t.coord[1], i = {
        coord: e,
        x: t.x0,
        y: t.y0
    }, r = {
        coord: n,
        x: t.x1,
        y: t.y1
    };
    return Gn(o, "cartesian2d") ? !(!e || !n || !lu(1, e, n) && !lu(0, e, n)) || function(a, s, l) {
        return !(a && a.containZone && s.coord && l.coord && !cr(s) && !cr(l)) || a.containZone(s.coord, l.coord);
    }(o, i, r) : wn(o, i) || wn(o, r);
}

function uu(o, t, e, n, i) {
    var r, a = n.coordinateSystem, s = o.getItemModel(t), l = oe(s.get(e[0]), i.getWidth()), u = oe(s.get(e[1]), i.getHeight());
    if (isNaN(l) || isNaN(u)) {
        if (n.getMarkerPosition) {
            var d = o.getValues([ "x0", "y0" ], t), h = o.getValues([ "x1", "y1" ], t), c = a.clampData(d), g = a.clampData(h), p = [];
            e[0] === "x0" ? p[0] = c[0] > g[0] ? h[0] : d[0] : p[0] = c[0] > g[0] ? d[0] : h[0], 
            e[1] === "y0" ? p[1] = c[1] > g[1] ? h[1] : d[1] : p[1] = c[1] > g[1] ? d[1] : h[1], 
            r = n.getMarkerPosition(p, e, !0);
        } else {
            var f = [ S = o.get(e[0], t), m = o.get(e[1], t) ];
            a.clampData && a.clampData(f, f), r = a.dataToPoint(f, !0);
        }
        if (Gn(a, "cartesian2d")) {
            var y = a.getAxis("x"), x = a.getAxis("y"), S = o.get(e[0], t), m = o.get(e[1], t);
            mo(S) ? r[0] = y.toGlobalCoord(y.getExtent()[e[0] === "x0" ? 0 : 1]) : mo(m) && (r[1] = x.toGlobalCoord(x.getExtent()[e[1] === "y0" ? 0 : 1]));
        }
        isNaN(l) || (r[0] = l), isNaN(u) || (r[1] = u);
    } else r = [ l, u ];
    return r;
}

var du = [ [ "x0", "y0" ], [ "x1", "y0" ], [ "x1", "y1" ], [ "x0", "y1" ] ], Ly = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.prototype.updateTransform = function(e, n, i) {
        n.eachSeries(function(r) {
            var a = bt.getMarkerModelFromSeries(r, "markArea");
            if (a) {
                var s = a.getData();
                s.each(function(l) {
                    var u = K(du, function(d) {
                        return uu(s, l, d, r, i);
                    });
                    s.setItemLayout(l, u), s.getItemGraphicEl(l).setShape("points", u);
                });
            }
        }, this);
    }, t.prototype.renderSeries = function(e, n, i, r) {
        var a = e.coordinateSystem, s = e.id, l = e.getData(), u = this.markerGroupMap, d = u.get(s) || u.set(s, {
            group: new de()
        });
        this.group.add(d.group), this.markKeep(d);
        var h = function(c, g, p) {
            var f, y, x = [ "x0", "y0", "x1", "y1" ];
            if (c) {
                var S = K(c && c.dimensions, function(b) {
                    var _ = g.getData(), w = _.getDimensionInfo(_.mapDimension(b)) || {};
                    return Q(Q({}, w), {
                        name: b,
                        ordinalMeta: null
                    });
                });
                y = K(x, function(b, _) {
                    return {
                        name: b,
                        type: S[_ % 2].type
                    };
                }), f = new ze(y, p);
            } else f = new ze(y = [ {
                name: "value",
                type: "float"
            } ], p);
            var m = K(p.get("data"), he(Dy, g, c, p));
            c && (m = je(m, he(Cy, c)));
            var v = c ? function(b, _, w, I) {
                var M = b.coord[Math.floor(I / 2)][I % 2];
                return Zn(M, y[I]);
            } : function(b, _, w, I) {
                return Zn(b.value, y[I]);
            };
            return f.initData(m, null, v), f.hasItemOption = !0, f;
        }(a, e, n);
        n.setData(h), h.each(function(c) {
            var g = K(du, function(w) {
                return uu(h, c, w, e, r);
            }), p = a.getAxis("x").scale, f = a.getAxis("y").scale, y = p.getExtent(), x = f.getExtent(), S = [ p.parse(h.get("x0", c)), p.parse(h.get("x1", c)) ], m = [ f.parse(h.get("y0", c)), f.parse(h.get("y1", c)) ];
            yt(S), yt(m);
            var v = y[0] > S[1] || y[1] < S[0] || x[0] > m[1] || x[1] < m[0];
            h.setItemLayout(c, {
                points: g,
                allClipped: v
            });
            var b = h.getItemModel(c).getModel("itemStyle").getItemStyle(), _ = jo(l, "color");
            b.fill || (b.fill = _, ue(b.fill) && (b.fill = To(b.fill, .4))), b.stroke || (b.stroke = _), 
            h.setItemVisual(c, "style", b);
        }), h.diff(vo(d).data).add(function(c) {
            var g = h.getItemLayout(c);
            if (!g.allClipped) {
                var p = new zt({
                    shape: {
                        points: g.points
                    }
                });
                h.setItemGraphicEl(c, p), d.group.add(p);
            }
        }).update(function(c, g) {
            var p = vo(d).data.getItemGraphicEl(g), f = h.getItemLayout(c);
            f.allClipped ? p && d.group.remove(p) : (p ? Ae(p, {
                shape: {
                    points: f.points
                }
            }, n, c) : p = new zt({
                shape: {
                    points: f.points
                }
            }), h.setItemGraphicEl(c, p), d.group.add(p));
        }).remove(function(c) {
            var g = vo(d).data.getItemGraphicEl(c);
            d.group.remove(g);
        }).execute(), h.eachItemGraphicEl(function(c, g) {
            var p = h.getItemModel(g), f = h.getItemVisual(g, "style");
            c.useStyle(h.getItemVisual(g, "style")), pt(c, $e(p), {
                labelFetcher: n,
                labelDataIndex: g,
                defaultText: h.getName(g) || "",
                inheritColor: ue(f.fill) ? To(f.fill, 1) : "#000"
            }), at(c, p), Pe(c, null, null, p.get([ "emphasis", "disabled" ])), 
            me(c).dataModel = n;
        }), vo(d).data = h, d.group.silent = n.get("silent") || e.get("silent");
    }, t.type = "markArea", t;
}(yr);

const Ay = Ly, Ty = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.type = "dataZoom.inside", t.defaultOption = Xo(Yn.defaultOption, {
        disabled: !1,
        zoomLock: !1,
        zoomOnMouseWheel: !0,
        moveOnMouseMove: !0,
        moveOnMouseWheel: !1,
        preventDefaultMouseMove: !0
    }), t;
}(Yn);

var mr = Te();

function hu(o, t) {
    if (t) {
        o.removeKey(t.model.uid);
        var e = t.controller;
        e && e.dispose();
    }
}

function Ny(o, t) {
    o.isDisposed() || o.dispatchAction({
        type: "dataZoom",
        animation: {
            easing: "cubicOut",
            duration: 100
        },
        batch: t
    });
}

function Py(o, t, e, n) {
    return o.coordinateSystem.containPoint([ e, n ]);
}

function ky(o) {
    o.registerProcessor(o.PRIORITY.PROCESSOR.FILTER, function(t, e) {
        var n = mr(e), i = n.coordSysRecordMap || (n.coordSysRecordMap = be());
        i.each(function(r) {
            r.dataZoomInfoMap = null;
        }), t.eachComponent({
            mainType: "dataZoom",
            subType: "inside"
        }, function(r) {
            var a = xa(r);
            E(a.infoList, function(s) {
                var l = s.model.uid, u = i.get(l) || i.set(l, function(d, h) {
                    var c = {
                        model: h,
                        containsPoint: he(Py, h),
                        dispatchAction: he(Ny, d),
                        dataZoomInfoMap: null,
                        controller: null
                    }, g = c.controller = new Tn(d.getZr());
                    return E([ "pan", "zoom", "scrollMove" ], function(p) {
                        g.on(p, function(f) {
                            var y = [];
                            c.dataZoomInfoMap.each(function(x) {
                                if (f.isAvailableBehavior(x.model.option)) {
                                    var S = (x.getRange || {})[p], m = S && S(x.dzReferCoordSysInfo, c.model.mainType, c.controller, f);
                                    !x.model.get("disabled", !0) && m && y.push({
                                        dataZoomId: x.model.id,
                                        start: m[0],
                                        end: m[1]
                                    });
                                }
                            }), y.length && c.dispatchAction(y);
                        });
                    }), c;
                }(e, s.model));
                (u.dataZoomInfoMap || (u.dataZoomInfoMap = be())).set(r.uid, {
                    dzReferCoordSysInfo: s,
                    model: r,
                    getRange: null
                });
            });
        }), i.each(function(r) {
            var a, s = r.controller, l = r.dataZoomInfoMap;
            if (l) {
                var u = l.keys()[0];
                u != null && (a = l.get(u));
            }
            if (a) {
                var d = function(h) {
                    var c, g = "type_", p = {
                        type_true: 2,
                        type_move: 1,
                        type_false: 0,
                        type_undefined: -1
                    }, f = !0;
                    return h.each(function(y) {
                        var x = y.model, S = !x.get("disabled", !0) && (!x.get("zoomLock", !0) || "move");
                        p[g + S] > p[g + c] && (c = S), f = f && x.get("preventDefaultMouseMove", !0);
                    }), {
                        controlType: c,
                        opt: {
                            zoomOnMouseWheel: !0,
                            moveOnMouseMove: !0,
                            moveOnMouseWheel: !0,
                            preventDefaultMouseMove: !!f
                        }
                    };
                }(l);
                s.enable(d.controlType, d.opt), s.setPointerChecker(r.containsPoint), 
                Yo(r, "dispatchAction", a.model.get("throttle", !0), "fixRate");
            } else hu(i, r);
        });
    });
}

var Vy = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = "dataZoom.inside", e;
    }
    return W(t, o), t.prototype.render = function(e, n, i) {
        o.prototype.render.apply(this, arguments), e.noTarget() ? this._clear() : (this.range = e.getPercentRange(), 
        function(r, a, s) {
            mr(r).coordSysRecordMap.each(function(l) {
                var u = l.dataZoomInfoMap.get(a.uid);
                u && (u.getRange = s);
            });
        }(i, e, {
            pan: ee(xr.pan, this),
            zoom: ee(xr.zoom, this),
            scrollMove: ee(xr.scrollMove, this)
        }));
    }, t.prototype.dispose = function() {
        this._clear(), o.prototype.dispose.apply(this, arguments);
    }, t.prototype._clear = function() {
        (function(e, n) {
            for (var i = mr(e).coordSysRecordMap, r = i.keys(), a = 0; a < r.length; a++) {
                var s = r[a], l = i.get(s), u = l.dataZoomInfoMap;
                if (u) {
                    var d = n.uid;
                    u.get(d) && (u.removeKey(d), u.keys().length || hu(i, l));
                }
            }
        })(this.api, this.dataZoomModel), this.range = null;
    }, t.type = "dataZoom.inside", t;
}(_a), xr = {
    zoom: function(o, t, e, n) {
        var i = this.range, r = i.slice(), a = o.axisModels[0];
        if (a) {
            var s = _r[t](null, [ n.originX, n.originY ], a, e, o), l = (s.signal > 0 ? s.pixelStart + s.pixelLength - s.pixel : s.pixel - s.pixelStart) / s.pixelLength * (r[1] - r[0]) + r[0], u = Math.max(1 / n.scale, 0);
            r[0] = (r[0] - l) * u + l, r[1] = (r[1] - l) * u + l;
            var d = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();
            return qo(0, r, [ 0, 100 ], 0, d.minSpan, d.maxSpan), this.range = r, 
            i[0] !== r[0] || i[1] !== r[1] ? r : void 0;
        }
    },
    pan: cu(function(o, t, e, n, i, r) {
        var a = _r[n]([ r.oldX, r.oldY ], [ r.newX, r.newY ], t, i, e);
        return a.signal * (o[1] - o[0]) * a.pixel / a.pixelLength;
    }),
    scrollMove: cu(function(o, t, e, n, i, r) {
        return _r[n]([ 0, 0 ], [ r.scrollDelta, r.scrollDelta ], t, i, e).signal * (o[1] - o[0]) * r.scrollDelta;
    })
};

function cu(o) {
    return function(t, e, n, i) {
        var r = this.range, a = r.slice(), s = t.axisModels[0];
        if (s) {
            var l = o(a, s, t, e, n, i);
            return qo(l, a, [ 0, 100 ], "all"), this.range = a, r[0] !== a[0] || r[1] !== a[1] ? a : void 0;
        }
    };
}

var _r = {
    grid: function(o, t, e, n, i) {
        var r = e.axis, a = {}, s = i.model.coordinateSystem.getRect();
        return o = o || [ 0, 0 ], r.dim === "x" ? (a.pixel = t[0] - o[0], a.pixelLength = s.width, 
        a.pixelStart = s.x, a.signal = r.inverse ? 1 : -1) : (a.pixel = t[1] - o[1], 
        a.pixelLength = s.height, a.pixelStart = s.y, a.signal = r.inverse ? -1 : 1), 
        a;
    },
    polar: function(o, t, e, n, i) {
        var r = e.axis, a = {}, s = i.model.coordinateSystem, l = s.getRadiusAxis().getExtent(), u = s.getAngleAxis().getExtent();
        return o = o ? s.pointToCoord(o) : [ 0, 0 ], t = s.pointToCoord(t), e.mainType === "radiusAxis" ? (a.pixel = t[0] - o[0], 
        a.pixelLength = l[1] - l[0], a.pixelStart = l[0], a.signal = r.inverse ? 1 : -1) : (a.pixel = t[1] - o[1], 
        a.pixelLength = u[1] - u[0], a.pixelStart = u[0], a.signal = r.inverse ? -1 : 1), 
        a;
    },
    singleAxis: function(o, t, e, n, i) {
        var r = e.axis, a = i.model.coordinateSystem.getRect(), s = {};
        return o = o || [ 0, 0 ], r.orient === "horizontal" ? (s.pixel = t[0] - o[0], 
        s.pixelLength = a.width, s.pixelStart = a.x, s.signal = r.inverse ? 1 : -1) : (s.pixel = t[1] - o[1], 
        s.pixelLength = a.height, s.pixelStart = a.y, s.signal = r.inverse ? -1 : 1), 
        s;
    }
};

const Ey = Vy;

function pu(o) {
    ba(o), o.registerComponentModel(Ty), o.registerComponentView(Ey), ky(o);
}

const zy = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e;
    }
    return W(t, o), t.type = "dataZoom.slider", t.layoutMode = "box", t.defaultOption = Xo(Yn.defaultOption, {
        show: !0,
        right: "ph",
        top: "ph",
        width: "ph",
        height: "ph",
        left: null,
        bottom: null,
        borderColor: "#d2dbee",
        borderRadius: 3,
        backgroundColor: "rgba(47,69,84,0)",
        dataBackground: {
            lineStyle: {
                color: "#d2dbee",
                width: .5
            },
            areaStyle: {
                color: "#d2dbee",
                opacity: .2
            }
        },
        selectedDataBackground: {
            lineStyle: {
                color: "#8fb0f7",
                width: .5
            },
            areaStyle: {
                color: "#8fb0f7",
                opacity: .2
            }
        },
        fillerColor: "rgba(135,175,274,0.2)",
        handleIcon: "path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",
        handleSize: "100%",
        handleStyle: {
            color: "#fff",
            borderColor: "#ACB8D1"
        },
        moveHandleSize: 7,
        moveHandleIcon: "path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",
        moveHandleStyle: {
            color: "#D2DBEE",
            opacity: .7
        },
        showDetail: !0,
        showDataShadow: "auto",
        realtime: !0,
        zoomLock: !1,
        textStyle: {
            color: "#6E7079"
        },
        brushSelect: !0,
        brushStyle: {
            color: "rgba(135,175,274,0.15)"
        },
        emphasis: {
            handleStyle: {
                borderColor: "#8FB0F7"
            },
            moveHandleStyle: {
                color: "#8FB0F7"
            }
        }
    }), t;
}(Yn);

var In = Re, Mn = "horizontal", fu = "vertical", Ry = [ "line", "bar", "candlestick", "scatter" ], Oy = {
    easing: "cubicOut",
    duration: 100,
    delay: 0
}, By = function(o) {
    function t() {
        var e = o !== null && o.apply(this, arguments) || this;
        return e.type = t.type, e._displayables = {}, e;
    }
    return W(t, o), t.prototype.init = function(e, n) {
        this.api = n, this._onBrush = ee(this._onBrush, this), this._onBrushEnd = ee(this._onBrushEnd, this);
    }, t.prototype.render = function(e, n, i, r) {
        if (o.prototype.render.apply(this, arguments), Yo(this, "_dispatchZoomAction", e.get("throttle"), "fixRate"), 
        this._orient = e.getOrient(), e.get("show") !== !1) {
            if (e.noTarget()) return this._clear(), void this.group.removeAll();
            r && r.type === "dataZoom" && r.from === this.uid || this._buildView(), 
            this._updateView();
        } else this.group.removeAll();
    }, t.prototype.dispose = function() {
        this._clear(), o.prototype.dispose.apply(this, arguments);
    }, t.prototype._clear = function() {
        Bh(this, "_dispatchZoomAction");
        var e = this.api.getZr();
        e.off("mousemove", this._onBrush), e.off("mouseup", this._onBrushEnd);
    }, t.prototype._buildView = function() {
        var e = this.group;
        e.removeAll(), this._brushing = !1, this._displayables.brushRect = null, 
        this._resetLocation(), this._resetInterval();
        var n = this._displayables.sliderGroup = new de();
        this._renderBackground(), this._renderHandle(), this._renderDataShadow(), 
        e.add(n), this._positionGroup();
    }, t.prototype._resetLocation = function() {
        var e = this.dataZoomModel, n = this.api, i = e.get("brushSelect") ? 7 : 0, r = this._findCoordRect(), a = {
            width: n.getWidth(),
            height: n.getHeight()
        }, s = this._orient === Mn ? {
            right: a.width - r.x - r.width,
            top: a.height - 30 - 7 - i,
            width: r.width,
            height: 30
        } : {
            right: 7,
            top: r.y,
            width: 30,
            height: r.height
        }, l = ga(e.option);
        E([ "right", "top", "width", "height" ], function(d) {
            l[d] === "ph" && (l[d] = s[d]);
        });
        var u = rt(l, a);
        this._location = {
            x: u.x,
            y: u.y
        }, this._size = [ u.width, u.height ], this._orient === fu && this._size.reverse();
    }, t.prototype._positionGroup = function() {
        var e = this.group, n = this._location, i = this._orient, r = this.dataZoomModel.getFirstTargetAxisModel(), a = r && r.get("inverse"), s = this._displayables.sliderGroup, l = (this._dataShadowInfo || {}).otherAxisInverse;
        s.attr(i !== Mn || a ? i === Mn && a ? {
            scaleY: l ? 1 : -1,
            scaleX: -1
        } : i !== fu || a ? {
            scaleY: l ? -1 : 1,
            scaleX: -1,
            rotation: Math.PI / 2
        } : {
            scaleY: l ? -1 : 1,
            scaleX: 1,
            rotation: Math.PI / 2
        } : {
            scaleY: l ? 1 : -1,
            scaleX: 1
        });
        var u = e.getBoundingRect([ s ]);
        e.x = n.x - u.x, e.y = n.y - u.y, e.markRedraw();
    }, t.prototype._getViewExtent = function() {
        return [ 0, this._size[0] ];
    }, t.prototype._renderBackground = function() {
        var e = this.dataZoomModel, n = this._size, i = this._displayables.sliderGroup, r = e.get("brushSelect");
        i.add(new In({
            silent: !0,
            shape: {
                x: 0,
                y: 0,
                width: n[0],
                height: n[1]
            },
            style: {
                fill: e.get("backgroundColor")
            },
            z2: -40
        }));
        var a = new In({
            shape: {
                x: 0,
                y: 0,
                width: n[0],
                height: n[1]
            },
            style: {
                fill: "transparent"
            },
            z2: 0,
            onclick: ee(this._onClickPanel, this)
        }), s = this.api.getZr();
        r ? (a.on("mousedown", this._onBrushStart, this), a.cursor = "crosshair", 
        s.on("mousemove", this._onBrush), s.on("mouseup", this._onBrushEnd)) : (s.off("mousemove", this._onBrush), 
        s.off("mouseup", this._onBrushEnd)), i.add(a);
    }, t.prototype._renderDataShadow = function() {
        var e = this._dataShadowInfo = this._prepareDataShadowInfo();
        if (this._displayables.dataShadowSegs = [], e) {
            var n = this._size, i = this._shadowSize || [], r = e.series, a = r.getRawData(), s = r.getShadowDim && r.getShadowDim(), l = s && a.getDimensionInfo(s) ? r.getShadowDim() : e.otherDim;
            if (l != null) {
                var u = this._shadowPolygonPts, d = this._shadowPolylinePts;
                if (a !== this._shadowData || l !== this._shadowDim || n[0] !== i[0] || n[1] !== i[1]) {
                    var h = a.getDataExtent(l), c = .3 * (h[1] - h[0]);
                    h = [ h[0] - c, h[1] + c ];
                    var g, p = [ 0, n[1] ], f = [ 0, n[0] ], y = [ [ n[0], 0 ], [ 0, 0 ] ], x = [], S = f[1] / (a.count() - 1), m = 0, v = Math.round(a.count() / n[0]);
                    a.each([ l ], function(M, D) {
                        if (v > 0 && D % v) m += S; else {
                            var L = M == null || isNaN(M) || M === "", C = L ? 0 : Oe(M, h, p, !0);
                            L && !g && D ? (y.push([ y[y.length - 1][0], 0 ]), x.push([ x[x.length - 1][0], 0 ])) : !L && g && (y.push([ m, 0 ]), 
                            x.push([ m, 0 ])), y.push([ m, C ]), x.push([ m, C ]), 
                            m += S, g = L;
                        }
                    }), u = this._shadowPolygonPts = y, d = this._shadowPolylinePts = x;
                }
                this._shadowData = a, this._shadowDim = l, this._shadowSize = [ n[0], n[1] ];
                for (var b = this.dataZoomModel, _ = 0; _ < 3; _++) {
                    var w = I(_ === 1);
                    this._displayables.sliderGroup.add(w), this._displayables.dataShadowSegs.push(w);
                }
            }
        }
        function I(M) {
            var D = b.getModel(M ? "selectedDataBackground" : "dataBackground"), L = new de(), C = new zt({
                shape: {
                    points: u
                },
                segmentIgnoreThreshold: 1,
                style: D.getModel("areaStyle").getAreaStyle(),
                silent: !0,
                z2: -20
            }), A = new on({
                shape: {
                    points: d
                },
                segmentIgnoreThreshold: 1,
                style: D.getModel("lineStyle").getLineStyle(),
                silent: !0,
                z2: -19
            });
            return L.add(C), L.add(A), L;
        }
    }, t.prototype._prepareDataShadowInfo = function() {
        var e = this.dataZoomModel, n = e.get("showDataShadow");
        if (n !== !1) {
            var i, r = this.ecModel;
            return e.eachTargetAxis(function(a, s) {
                var l = e.getAxisProxy(a, s).getTargetSeriesModels();
                E(l, function(u) {
                    if (!(i || n !== !0 && Ne(Ry, u.get("type")) < 0)) {
                        var d, h = r.getComponent(Gh(a), s).axis, c = function(p) {
                            var f = {
                                x: "y",
                                y: "x",
                                radius: "angle",
                                angle: "radius"
                            };
                            return f[p];
                        }(a), g = u.coordinateSystem;
                        c != null && g.getOtherAxis && (d = g.getOtherAxis(h).inverse), 
                        c = u.getData().mapDimension(c), i = {
                            thisAxis: h,
                            series: u,
                            thisDim: a,
                            otherDim: c,
                            otherAxisInverse: d
                        };
                    }
                }, this);
            }, this), i;
        }
    }, t.prototype._renderHandle = function() {
        var e = this.group, n = this._displayables, i = n.handles = [ null, null ], r = n.handleLabels = [ null, null ], a = this._displayables.sliderGroup, s = this._size, l = this.dataZoomModel, u = this.api, d = l.get("borderRadius") || 0, h = l.get("brushSelect"), c = n.filler = new In({
            silent: h,
            style: {
                fill: l.get("fillerColor")
            },
            textConfig: {
                position: "inside"
            }
        });
        a.add(c), a.add(new In({
            silent: !0,
            subPixelOptimize: !0,
            shape: {
                x: 0,
                y: 0,
                width: s[0],
                height: s[1],
                r: d
            },
            style: {
                stroke: l.get("dataBackgroundColor") || l.get("borderColor"),
                lineWidth: 1,
                fill: "rgba(0,0,0,0)"
            }
        })), E([ 0, 1 ], function(m) {
            var v = l.get("handleIcon");
            !Fh[v] && v.indexOf("path://") < 0 && v.indexOf("image://") < 0 && (v = "path://" + v);
            var b = It(v, -1, 0, 2, 2, null, !0);
            b.attr({
                cursor: gu(this._orient),
                draggable: !0,
                drift: ee(this._onDragMove, this, m),
                ondragend: ee(this._onDragEnd, this),
                onmouseover: ee(this._showDataInfo, this, !0),
                onmouseout: ee(this._showDataInfo, this, !1),
                z2: 5
            });
            var _ = b.getBoundingRect(), w = l.get("handleSize");
            this._handleHeight = oe(w, this._size[1]), this._handleWidth = _.width / _.height * this._handleHeight, 
            b.setStyle(l.getModel("handleStyle").getItemStyle()), b.style.strokeNoScale = !0, 
            b.rectHover = !0, b.ensureState("emphasis").style = l.getModel([ "emphasis", "handleStyle" ]).getItemStyle(), 
            Hn(b);
            var I = l.get("handleColor");
            I != null && (b.style.fill = I), a.add(i[m] = b);
            var M = l.getModel("textStyle");
            e.add(r[m] = new Fe({
                silent: !0,
                invisible: !0,
                style: We(M, {
                    x: 0,
                    y: 0,
                    text: "",
                    verticalAlign: "middle",
                    align: "center",
                    fill: M.getTextColor(),
                    font: M.getFont()
                }),
                z2: 10
            }));
        }, this);
        var g = c;
        if (h) {
            var p = oe(l.get("moveHandleSize"), s[1]), f = n.moveHandle = new Re({
                style: l.getModel("moveHandleStyle").getItemStyle(),
                silent: !0,
                shape: {
                    r: [ 0, 0, 2, 2 ],
                    y: s[1] - .5,
                    height: p
                }
            }), y = .8 * p, x = n.moveHandleIcon = It(l.get("moveHandleIcon"), -y / 2, -y / 2, y, y, "#fff", !0);
            x.silent = !0, x.y = s[1] + p / 2 - .5, f.ensureState("emphasis").style = l.getModel([ "emphasis", "moveHandleStyle" ]).getItemStyle();
            var S = Math.min(s[1] / 2, Math.max(p, 10));
            (g = n.moveZone = new Re({
                invisible: !0,
                shape: {
                    y: s[1] - S,
                    height: p + S
                }
            })).on("mouseover", function() {
                u.enterEmphasis(f);
            }).on("mouseout", function() {
                u.leaveEmphasis(f);
            }), a.add(f), a.add(x), a.add(g);
        }
        g.attr({
            draggable: !0,
            cursor: gu(this._orient),
            drift: ee(this._onDragMove, this, "all"),
            ondragstart: ee(this._showDataInfo, this, !0),
            ondragend: ee(this._onDragEnd, this),
            onmouseover: ee(this._showDataInfo, this, !0),
            onmouseout: ee(this._showDataInfo, this, !1)
        });
    }, t.prototype._resetInterval = function() {
        var e = this._range = this.dataZoomModel.getPercentRange(), n = this._getViewExtent();
        this._handleEnds = [ Oe(e[0], [ 0, 100 ], n, !0), Oe(e[1], [ 0, 100 ], n, !0) ];
    }, t.prototype._updateInterval = function(e, n) {
        var i = this.dataZoomModel, r = this._handleEnds, a = this._getViewExtent(), s = i.findRepresentativeAxisProxy().getMinMaxSpan(), l = [ 0, 100 ];
        qo(n, r, a, i.get("zoomLock") ? "all" : e, s.minSpan != null ? Oe(s.minSpan, l, a, !0) : null, s.maxSpan != null ? Oe(s.maxSpan, l, a, !0) : null);
        var u = this._range, d = this._range = yt([ Oe(r[0], a, l, !0), Oe(r[1], a, l, !0) ]);
        return !u || u[0] !== d[0] || u[1] !== d[1];
    }, t.prototype._updateView = function(e) {
        var n = this._displayables, i = this._handleEnds, r = yt(i.slice()), a = this._size;
        E([ 0, 1 ], function(g) {
            var p = n.handles[g], f = this._handleHeight;
            p.attr({
                scaleX: f / 2,
                scaleY: f / 2,
                x: i[g] + (g ? -1 : 1),
                y: a[1] / 2 - f / 2
            });
        }, this), n.filler.setShape({
            x: r[0],
            y: 0,
            width: r[1] - r[0],
            height: a[1]
        });
        var s = {
            x: r[0],
            width: r[1] - r[0]
        };
        n.moveHandle && (n.moveHandle.setShape(s), n.moveZone.setShape(s), n.moveZone.getBoundingRect(), 
        n.moveHandleIcon && n.moveHandleIcon.attr("x", s.x + s.width / 2));
        for (var l = n.dataShadowSegs, u = [ 0, r[0], r[1], a[0] ], d = 0; d < l.length; d++) {
            var h = l[d], c = h.getClipPath();
            c || (c = new Re(), h.setClipPath(c)), c.setShape({
                x: u[d],
                y: 0,
                width: u[d + 1] - u[d],
                height: a[1]
            });
        }
        this._updateDataInfo(e);
    }, t.prototype._updateDataInfo = function(e) {
        var n = this.dataZoomModel, i = this._displayables, r = i.handleLabels, a = this._orient, s = [ "", "" ];
        if (n.get("showDetail")) {
            var l = n.findRepresentativeAxisProxy();
            if (l) {
                var u = l.getAxisModel().axis, d = this._range, h = e ? l.calculateDataWindow({
                    start: d[0],
                    end: d[1]
                }).valueWindow : l.getDataValueWindow();
                s = [ this._formatLabel(h[0], u), this._formatLabel(h[1], u) ];
            }
        }
        var c = yt(this._handleEnds.slice());
        function g(p) {
            var f = Wh(i.handles[p].parent, this.group), y = Hh(p === 0 ? "right" : "left", f), x = this._handleWidth / 2 + 5, S = Uo([ c[p] + (p === 0 ? -x : x), this._size[1] / 2 ], f);
            r[p].setStyle({
                x: S[0],
                y: S[1],
                verticalAlign: a === Mn ? "middle" : y,
                align: a === Mn ? y : "center",
                text: s[p]
            });
        }
        g.call(this, 0), g.call(this, 1);
    }, t.prototype._formatLabel = function(e, n) {
        var i = this.dataZoomModel, r = i.get("labelFormatter"), a = i.get("labelPrecision");
        a != null && a !== "auto" || (a = n.getPixelPrecision());
        var s = e == null || isNaN(e) ? "" : n.type === "category" || n.type === "time" ? n.scale.getLabel({
            value: Math.round(e)
        }) : e.toFixed(Math.min(a, 20));
        return ve(r) ? r(e, s) : ue(r) ? r.replace("{value}", s) : s;
    }, t.prototype._showDataInfo = function(e) {
        e = this._dragging || e;
        var n = this._displayables, i = n.handleLabels;
        i[0].attr("invisible", !e), i[1].attr("invisible", !e), n.moveHandle && this.api[e ? "enterEmphasis" : "leaveEmphasis"](n.moveHandle, 1);
    }, t.prototype._onDragMove = function(e, n, i, r) {
        this._dragging = !0, Sa(r.event);
        var a = this._displayables.sliderGroup.getLocalTransform(), s = Uo([ n, i ], a, !0), l = this._updateInterval(e, s[0]), u = this.dataZoomModel.get("realtime");
        this._updateView(!u), l && u && this._dispatchZoomAction(!0);
    }, t.prototype._onDragEnd = function() {
        this._dragging = !1, this._showDataInfo(!1), !this.dataZoomModel.get("realtime") && this._dispatchZoomAction(!1);
    }, t.prototype._onClickPanel = function(e) {
        var n = this._size, i = this._displayables.sliderGroup.transformCoordToLocal(e.offsetX, e.offsetY);
        if (!(i[0] < 0 || i[0] > n[0] || i[1] < 0 || i[1] > n[1])) {
            var r = this._handleEnds, a = (r[0] + r[1]) / 2, s = this._updateInterval("all", i[0] - a);
            this._updateView(), s && this._dispatchZoomAction(!1);
        }
    }, t.prototype._onBrushStart = function(e) {
        var n = e.offsetX, i = e.offsetY;
        this._brushStart = new lt(n, i), this._brushing = !0, this._brushStartTime = +new Date();
    }, t.prototype._onBrushEnd = function(e) {
        if (this._brushing) {
            var n = this._displayables.brushRect;
            if (this._brushing = !1, n) {
                n.attr("ignore", !0);
                var i = n.shape;
                if (!(+new Date() - this._brushStartTime < 200 && Math.abs(i.width) < 5)) {
                    var r = this._getViewExtent(), a = [ 0, 100 ];
                    this._range = yt([ Oe(i.x, r, a, !0), Oe(i.x + i.width, r, a, !0) ]), 
                    this._handleEnds = [ i.x, i.x + i.width ], this._updateView(), 
                    this._dispatchZoomAction(!1);
                }
            }
        }
    }, t.prototype._onBrush = function(e) {
        this._brushing && (Sa(e.event), this._updateBrushRect(e.offsetX, e.offsetY));
    }, t.prototype._updateBrushRect = function(e, n) {
        var i = this._displayables, r = this.dataZoomModel, a = i.brushRect;
        a || (a = i.brushRect = new In({
            silent: !0,
            style: r.getModel("brushStyle").getItemStyle()
        }), i.sliderGroup.add(a)), a.attr("ignore", !1);
        var s = this._brushStart, l = this._displayables.sliderGroup, u = l.transformCoordToLocal(e, n), d = l.transformCoordToLocal(s.x, s.y), h = this._size;
        u[0] = Math.max(Math.min(h[0], u[0]), 0), a.setShape({
            x: d[0],
            y: 0,
            width: u[0] - d[0],
            height: h[1]
        });
    }, t.prototype._dispatchZoomAction = function(e) {
        var n = this._range;
        this.api.dispatchAction({
            type: "dataZoom",
            from: this.uid,
            dataZoomId: this.dataZoomModel.id,
            animation: e ? Oy : null,
            start: n[0],
            end: n[1]
        });
    }, t.prototype._findCoordRect = function() {
        var e, n = xa(this.dataZoomModel).infoList;
        if (!e && n.length) {
            var i = n[0].model.coordinateSystem;
            e = i.getRect && i.getRect();
        }
        if (!e) {
            var r = this.api.getWidth(), a = this.api.getHeight();
            e = {
                x: .2 * r,
                y: .2 * a,
                width: .6 * r,
                height: .6 * a
            };
        }
        return e;
    }, t.type = "dataZoom.slider", t;
}(_a);

function gu(o) {
    return o === "vertical" ? "ns-resize" : "ew-resize";
}

const Gy = By;

function yu(o) {
    o.registerComponentModel(zy), o.registerComponentView(Gy), ba(o);
}

var vu = {
    value: "eq",
    "<": "lt",
    "<=": "lte",
    ">": "gt",
    ">=": "gte",
    "=": "eq",
    "!=": "ne",
    "<>": "ne"
}, Fy = function() {
    function o(t) {
        (this._condVal = ue(t) ? new RegExp(t) : Yh(t) ? t : null) == null && ce("");
    }
    return o.prototype.evaluate = function(t) {
        var e = typeof t;
        return ue(e) ? this._condVal.test(t) : !!it(e) && this._condVal.test(t + "");
    }, o;
}(), Wy = function() {
    function o() {}
    return o.prototype.evaluate = function() {
        return this.value;
    }, o;
}(), Hy = function() {
    function o() {}
    return o.prototype.evaluate = function() {
        for (var t = this.children, e = 0; e < t.length; e++) if (!t[e].evaluate()) return !1;
        return !0;
    }, o;
}(), Zy = function() {
    function o() {}
    return o.prototype.evaluate = function() {
        for (var t = this.children, e = 0; e < t.length; e++) if (t[e].evaluate()) return !0;
        return !1;
    }, o;
}(), Yy = function() {
    function o() {}
    return o.prototype.evaluate = function() {
        return !this.child.evaluate();
    }, o;
}(), Xy = function() {
    function o() {}
    return o.prototype.evaluate = function() {
        for (var t = !!this.valueParser, e = (0, this.getValue)(this.valueGetterParam), n = t ? this.valueParser(e) : null, i = 0; i < this.subCondList.length; i++) if (!this.subCondList[i].evaluate(t ? n : e)) return !1;
        return !0;
    }, o;
}();

function br(o, t) {
    if (o === !0 || o === !1) {
        var e = new Wy();
        return e.value = o, e;
    }
    return xu(o) || ce(""), o.and ? mu("and", o, t) : o.or ? mu("or", o, t) : o.not ? function(n, i) {
        var r = n.not, a = "";
        xu(r) || ce(a);
        var s = new Yy();
        return s.child = br(r, i), s.child || ce(a), s;
    }(o, t) : function(n, i) {
        for (var r = "", a = i.prepareGetValue(n), s = [], l = _e(n), u = n.parser, d = u ? wa(u) : null, h = 0; h < l.length; h++) {
            var c = l[h];
            if (c !== "parser" && !i.valueGetterAttrMap.get(c)) {
                var g = Z(vu, c) ? vu[c] : c, p = n[c], f = d ? d(p) : p, y = Zh(g, f) || g === "reg" && new Fy(f);
                y || ce(r), s.push(y);
            }
        }
        s.length || ce(r);
        var x = new Xy();
        return x.valueGetterParam = a, x.valueParser = d, x.getValue = i.getValue, 
        x.subCondList = s, x;
    }(o, t);
}

function mu(o, t, e) {
    var n = t[o];
    $(n) || ce(""), n.length || ce("");
    var i = o === "and" ? new Hy() : new Zy();
    return i.children = K(n, function(r) {
        return br(r, e);
    }), i.children.length || ce(""), i;
}

function xu(o) {
    return Jt(o) && !la(o);
}

var Uy = function() {
    function o(t, e) {
        this._cond = br(t, e);
    }
    return o.prototype.evaluate = function() {
        return this._cond.evaluate();
    }, o;
}(), jy = {
    type: "echarts:filter",
    transform: function(o) {
        for (var t, e, n, i = o.upstream, r = (e = o.config, n = {
            valueGetterAttrMap: be({
                dimension: !0
            }),
            prepareGetValue: function(u) {
                var d = u.dimension;
                Z(u, "dimension") || ce("");
                var h = i.getDimensionInfo(d);
                return h || ce(""), {
                    dimIdx: h.index
                };
            },
            getValue: function(u) {
                return i.retrieveValueFromItem(t, u.dimIdx);
            }
        }, new Uy(e, n)), a = [], s = 0, l = i.count(); s < l; s++) t = i.getRawDataItem(s), 
        r.evaluate() && a.push(t);
        return {
            data: a
        };
    }
}, qy = {
    type: "echarts:sort",
    transform: function(o) {
        var t = o.upstream, e = o.config, n = "", i = Ge(e);
        i.length || ce(n);
        var r = [];
        E(i, function(d) {
            var h = d.dimension, c = d.order, g = d.parser, p = d.incomparable;
            h == null && ce(n), c !== "asc" && c !== "desc" && ce(n), p && p !== "min" && p !== "max" && ce(""), 
            c !== "asc" && c !== "desc" && ce("");
            var f = t.getDimensionInfo(h);
            f || ce(n);
            var y = g ? wa(g) : null;
            g && !y && ce(n), r.push({
                dimIdx: f.index,
                parser: y,
                comparator: new Xh(c, p)
            });
        });
        var a = t.sourceFormat;
        a !== ta && a !== Uh && ce(n);
        for (var s = [], l = 0, u = t.count(); l < u; l++) s.push(t.getRawDataItem(l));
        return s.sort(function(d, h) {
            for (var c = 0; c < r.length; c++) {
                var g = r[c], p = t.retrieveValueFromItem(d, g.dimIdx), f = t.retrieveValueFromItem(h, g.dimIdx);
                g.parser && (p = g.parser(p), f = g.parser(f));
                var y = g.comparator.evaluate(p, f);
                if (y !== 0) return y;
            }
            return 0;
        }), {
            data: s
        };
    }
}, tt = Pr.CMD;

function jt(o, t) {
    return Math.abs(o - t) < 1e-5;
}

function Sr(o) {
    var t, e, n, i, r, a = o.data, s = o.len(), l = [], u = 0, d = 0, h = 0, c = 0;
    function g(C, A) {
        t && t.length > 2 && l.push(t), t = [ C, A ];
    }
    function p(C, A, T, V) {
        jt(C, T) && jt(A, V) || t.push(C, A, T, V, T, V);
    }
    function f(C, A, T, V, N, k) {
        var P = Math.abs(A - C), R = 4 * Math.tan(P / 4) / 3, z = A < C ? -1 : 1, B = Math.cos(C), G = Math.sin(C), U = Math.cos(A), O = Math.sin(A), F = B * N + T, j = G * k + V, Y = U * N + T, H = O * k + V, X = N * R * z, q = k * R * z;
        t.push(F - X * G, j + q * B, Y + X * O, H - q * U, Y, H);
    }
    for (var y = 0; y < s; ) {
        var x = a[y++], S = y === 1;
        switch (S && (h = u = a[y], c = d = a[y + 1], x !== tt.L && x !== tt.C && x !== tt.Q || (t = [ h, c ])), 
        x) {
          case tt.M:
            u = h = a[y++], d = c = a[y++], g(h, c);
            break;

          case tt.L:
            p(u, d, e = a[y++], n = a[y++]), u = e, d = n;
            break;

          case tt.C:
            t.push(a[y++], a[y++], a[y++], a[y++], u = a[y++], d = a[y++]);
            break;

          case tt.Q:
            e = a[y++], n = a[y++], i = a[y++], r = a[y++], t.push(u + 2 / 3 * (e - u), d + 2 / 3 * (n - d), i + 2 / 3 * (e - i), r + 2 / 3 * (n - r), i, r), 
            u = i, d = r;
            break;

          case tt.A:
            var m = a[y++], v = a[y++], b = a[y++], _ = a[y++], w = a[y++], I = a[y++] + w;
            y += 1;
            var M = !a[y++];
            e = Math.cos(w) * b + m, n = Math.sin(w) * _ + v, S ? g(h = e, c = n) : p(u, d, e, n), 
            u = Math.cos(I) * b + m, d = Math.sin(I) * _ + v;
            for (var D = (M ? -1 : 1) * Math.PI / 2, L = w; M ? L > I : L < I; L += D) f(L, M ? Math.max(L + D, I) : Math.min(L + D, I), m, v, b, _);
            break;

          case tt.R:
            h = u = a[y++], c = d = a[y++], e = h + a[y++], n = c + a[y++], g(e, c), 
            p(e, c, e, n), p(e, n, h, n), p(h, n, h, c), p(h, c, e, c);
            break;

          case tt.Z:
            t && p(u, d, h, c), u = h, d = c;
        }
    }
    return t && t.length > 2 && l.push(t), l;
}

function wr(o, t, e, n, i, r, a, s, l, u) {
    if (jt(o, e) && jt(t, n) && jt(i, a) && jt(r, s)) l.push(a, s); else {
        var d = 2 / u, h = d * d, c = a - o, g = s - t, p = Math.sqrt(c * c + g * g);
        c /= p, g /= p;
        var f = e - o, y = n - t, x = i - a, S = r - s, m = f * f + y * y, v = x * x + S * S;
        if (m < h && v < h) l.push(a, s); else {
            var b = c * f + g * y, _ = -c * x - g * S;
            if (m - b * b < h && b >= 0 && v - _ * _ < h && _ >= 0) l.push(a, s); else {
                var w = [], I = [];
                Xn(o, e, i, a, .5, w), Xn(t, n, r, s, .5, I), wr(w[0], I[0], w[1], I[1], w[2], I[2], w[3], I[3], l, u), 
                wr(w[4], I[4], w[5], I[5], w[6], I[6], w[7], I[7], l, u);
            }
        }
    }
}

function _u(o, t, e) {
    var n = o[t], i = o[1 - t], r = Math.abs(n / i), a = Math.ceil(Math.sqrt(r * e)), s = Math.floor(e / a);
    s === 0 && (s = 1, a = e);
    for (var l = [], u = 0; u < a; u++) l.push(s);
    var d = e - a * s;
    if (d > 0) for (u = 0; u < d; u++) l[u % a] += 1;
    return l;
}

function bu(o, t, e) {
    for (var n = o.r0, i = o.r, r = o.startAngle, a = o.endAngle, s = Math.abs(a - r), l = s * i, u = i - n, d = l > Math.abs(u), h = _u([ l, u ], d ? 0 : 1, t), c = (d ? s : u) / h.length, g = 0; g < h.length; g++) for (var p = (d ? u : s) / h[g], f = 0; f < h[g]; f++) {
        var y = {};
        d ? (y.startAngle = r + c * g, y.endAngle = r + c * (g + 1), y.r0 = n + p * f, 
        y.r = n + p * (f + 1)) : (y.startAngle = r + p * f, y.endAngle = r + p * (f + 1), 
        y.r0 = n + c * g, y.r = n + c * (g + 1)), y.clockwise = o.clockwise, y.cx = o.cx, 
        y.cy = o.cy, e.push(y);
    }
}

function Su(o, t, e, n) {
    return o * n - e * t;
}

function Ky(o, t, e, n, i, r, a, s) {
    var l = e - o, u = n - t, d = a - i, h = s - r, c = Su(d, h, l, u);
    if (Math.abs(c) < 1e-6) return null;
    var g = Su(o - i, t - r, d, h) / c;
    return g < 0 || g > 1 ? null : new lt(g * l + o, g * u + t);
}

function $y(o, t, e) {
    var n = new lt();
    lt.sub(n, e, t), n.normalize();
    var i = new lt();
    return lt.sub(i, o, t), i.dot(n);
}

function qt(o, t) {
    var e = o[o.length - 1];
    e && e[0] === t[0] && e[1] === t[1] || o.push(t);
}

function wu(o) {
    var t = o.points, e = [], n = [];
    Nn(t, e, n);
    var i = new qe(e[0], e[1], n[0] - e[0], n[1] - e[1]), r = i.width, a = i.height, s = i.x, l = i.y, u = new lt(), d = new lt();
    return r > a ? (u.x = d.x = s + r / 2, u.y = l, d.y = l + a) : (u.y = d.y = l + a / 2, 
    u.x = s, d.x = s + r), function(h, c, g) {
        for (var p = h.length, f = [], y = 0; y < p; y++) {
            var x = h[y], S = h[(y + 1) % p], m = Ky(x[0], x[1], S[0], S[1], c.x, c.y, g.x, g.y);
            m && f.push({
                projPt: $y(m, c, g),
                pt: m,
                idx: y
            });
        }
        if (f.length < 2) return [ {
            points: h
        }, {
            points: h
        } ];
        f.sort(function(L, C) {
            return L.projPt - C.projPt;
        });
        var v = f[0], b = f[f.length - 1];
        if (b.idx < v.idx) {
            var _ = v;
            v = b, b = _;
        }
        var w = [ v.pt.x, v.pt.y ], I = [ b.pt.x, b.pt.y ], M = [ w ], D = [ I ];
        for (y = v.idx + 1; y <= b.idx; y++) qt(M, h[y].slice());
        for (qt(M, I), qt(M, w), y = b.idx + 1; y <= v.idx + p; y++) qt(D, h[y % p].slice());
        return qt(D, w), qt(D, I), [ {
            points: M
        }, {
            points: D
        } ];
    }(t, u, d);
}

function xo(o, t, e, n) {
    if (e === 1) n.push(t); else {
        var i = Math.floor(e / 2), r = o(t);
        xo(o, r[0], i, n), xo(o, r[1], e - i, n);
    }
    return n;
}

function Qy(o, t) {
    var e, n = [], i = o.shape;
    switch (o.type) {
      case "rect":
        (function(m, v, b) {
            for (var _ = m.width, w = m.height, I = _ > w, M = _u([ _, w ], I ? 0 : 1, v), D = I ? "width" : "height", L = I ? "height" : "width", C = I ? "x" : "y", A = I ? "y" : "x", T = m[D] / M.length, V = 0; V < M.length; V++) for (var N = m[L] / M[V], k = 0; k < M[V]; k++) {
                var P = {};
                P[C] = V * T, P[A] = k * N, P[D] = T, P[L] = N, P.x += m.x, P.y += m.y, 
                b.push(P);
            }
        })(i, t, n), e = Re;
        break;

      case "sector":
        bu(i, t, n), e = Zo;
        break;

      case "circle":
        bu({
            r0: 0,
            r: i.r,
            startAngle: 0,
            endAngle: 2 * Math.PI,
            cx: i.cx,
            cy: i.cy
        }, t, n), e = Zo;
        break;

      default:
        var r = o.getComputedTransform(), a = r ? Math.sqrt(Math.max(r[0] * r[0] + r[1] * r[1], r[2] * r[2] + r[3] * r[3])) : 1, s = K(function(m, v) {
            var b = Sr(m), _ = [];
            v = v || 1;
            for (var w = 0; w < b.length; w++) {
                var I = b[w], M = [], D = I[0], L = I[1];
                M.push(D, L);
                for (var C = 2; C < I.length; ) {
                    var A = I[C++], T = I[C++], V = I[C++], N = I[C++], k = I[C++], P = I[C++];
                    wr(D, L, A, T, V, N, k, P, M, v), D = k, L = P;
                }
                _.push(M);
            }
            return _;
        }(o.getUpdatedPathProxy(), a), function(m) {
            return function(v) {
                for (var b = [], _ = 0; _ < v.length; ) b.push([ v[_++], v[_++] ]);
                return b;
            }(m);
        }), l = s.length;
        if (l === 0) xo(wu, {
            points: s[0]
        }, t, n); else if (l === t) for (var u = 0; u < l; u++) n.push({
            points: s[u]
        }); else {
            var d = 0, h = K(s, function(m) {
                var v = [], b = [];
                Nn(m, v, b);
                var _ = (b[1] - v[1]) * (b[0] - v[0]);
                return d += _, {
                    poly: m,
                    area: _
                };
            });
            h.sort(function(m, v) {
                return v.area - m.area;
            });
            var c = t;
            for (u = 0; u < l; u++) {
                var g = h[u];
                if (c <= 0) break;
                var p = u === l - 1 ? c : Math.ceil(g.area / d * t);
                p < 0 || (xo(wu, {
                    points: g.poly
                }, p, n), c -= p);
            }
        }
        e = zt;
    }
    if (!e) return function(m, v) {
        for (var b = [], _ = 0; _ < v; _++) b.push(Ko(m));
        return b;
    }(o, t);
    var f, y, x = [];
    for (u = 0; u < n.length; u++) {
        var S = new e();
        S.setShape(n[u]), f = o, (y = S).setStyle(f.style), y.z = f.z, y.z2 = f.z2, 
        y.zlevel = f.zlevel, x.push(S);
    }
    return x;
}

function Jy(o, t) {
    var e = o.length, n = t.length;
    if (e === n) return [ o, t ];
    for (var i = [], r = [], a = e < n ? o : t, s = Math.min(e, n), l = Math.abs(n - e) / 6, u = (s - 2) / 6, d = Math.ceil(l / u) + 1, h = [ a[0], a[1] ], c = l, g = 2; g < s; ) {
        var p = a[g - 2], f = a[g - 1], y = a[g++], x = a[g++], S = a[g++], m = a[g++], v = a[g++], b = a[g++];
        if (c <= 0) h.push(y, x, S, m, v, b); else {
            for (var _ = Math.min(c, d - 1) + 1, w = 1; w <= _; w++) {
                var I = w / _;
                Xn(p, y, S, v, I, i), Xn(f, x, m, b, I, r), p = i[3], f = r[3], 
                h.push(i[1], r[1], i[2], r[2], p, f), y = i[5], x = r[5], S = i[6], 
                m = r[6];
            }
            c -= _ - 1;
        }
    }
    return a === o ? [ h, t ] : [ o, h ];
}

function Iu(o, t) {
    for (var e = o.length, n = o[e - 2], i = o[e - 1], r = [], a = 0; a < t.length; ) r[a++] = n, 
    r[a++] = i;
    return r;
}

function Mu(o) {
    for (var t = 0, e = 0, n = 0, i = o.length, r = 0, a = i - 2; r < i; a = r, 
    r += 2) {
        var s = o[a], l = o[a + 1], u = o[r], d = o[r + 1], h = s * d - u * l;
        t += h, e += (s + u) * h, n += (l + d) * h;
    }
    return t === 0 ? [ o[0] || 0, o[1] || 0 ] : [ e / t / 3, n / t / 3, t ];
}

function ev(o, t, e, n) {
    for (var i = (o.length - 2) / 6, r = 1 / 0, a = 0, s = o.length, l = s - 2, u = 0; u < i; u++) {
        for (var d = 6 * u, h = 0, c = 0; c < s; c += 2) {
            var g = c === 0 ? d : (d + c - 2) % l + 2, p = o[g] - e[0], f = o[g + 1] - e[1], y = t[c] - n[0] - p, x = t[c + 1] - n[1] - f;
            h += y * y + x * x;
        }
        h < r && (r = h, a = u);
    }
    return a;
}

function tv(o) {
    for (var t = [], e = o.length, n = 0; n < e; n += 2) t[n] = o[e - n - 2], t[n + 1] = o[e - n - 1];
    return t;
}

function _o(o) {
    return o.__isCombineMorphing;
}

var Du = "__mOriginal_";

function bo(o, t, e) {
    var n = Du + t, i = o[n] || o[t];
    o[n] || (o[n] = o[t]);
    var r = e.replace, a = e.after, s = e.before;
    o[t] = function() {
        var l, u = arguments;
        return s && s.apply(this, u), l = r ? r.apply(this, u) : i.apply(this, u), 
        a && a.apply(this, u), l;
    };
}

function Dn(o, t) {
    var e = Du + t;
    o[e] && (o[t] = o[e], o[e] = null);
}

function Cu(o, t) {
    for (var e = 0; e < o.length; e++) for (var n = o[e], i = 0; i < n.length; ) {
        var r = n[i], a = n[i + 1];
        n[i++] = t[0] * r + t[2] * a + t[4], n[i++] = t[1] * r + t[3] * a + t[5];
    }
}

function Lu(o, t) {
    var e = o.getUpdatedPathProxy(), n = t.getUpdatedPathProxy(), i = function(h, c) {
        for (var g, p, f, y = [], x = [], S = 0; S < Math.max(h.length, c.length); S++) {
            var m = h[S], v = c[S], b = void 0, _ = void 0;
            m ? v ? (p = b = (g = Jy(m, v))[0], f = _ = g[1]) : (_ = Iu(f || m, m), 
            b = m) : (b = Iu(p || v, v), _ = v), y.push(b), x.push(_);
        }
        return [ y, x ];
    }(Sr(e), Sr(n)), r = i[0], a = i[1], s = o.getComputedTransform(), l = t.getComputedTransform();
    s && Cu(r, s), l && Cu(a, l), bo(t, "updateTransform", {
        replace: function() {
            this.transform = null;
        }
    }), t.transform = null;
    var u = function(h, c, g, p) {
        for (var f, y = [], x = 0; x < h.length; x++) {
            var S = h[x], m = c[x], v = Mu(S), b = Mu(m);
            f == null && (f = v[2] < 0 != b[2] < 0);
            var _ = [], w = [], I = 0, M = 1 / 0, D = [], L = S.length;
            f && (S = tv(S));
            for (var C = 6 * ev(S, m, v, b), A = L - 2, T = 0; T < A; T += 2) {
                var V = (C + T) % A + 2;
                _[T + 2] = S[V] - v[0], _[T + 3] = S[V + 1] - v[1];
            }
            if (_[0] = S[C] - v[0], _[1] = S[C + 1] - v[1], g > 0) for (var N = p / g, k = -p / 2; k <= p / 2; k += N) {
                var P = Math.sin(k), R = Math.cos(k), z = 0;
                for (T = 0; T < S.length; T += 2) {
                    var B = _[T], G = _[T + 1], U = m[T] - b[0], O = m[T + 1] - b[1], F = U * R - O * P, j = U * P + O * R;
                    D[T] = F, D[T + 1] = j;
                    var Y = F - B, H = j - G;
                    z += Y * Y + H * H;
                }
                if (z < M) {
                    M = z, I = k;
                    for (var X = 0; X < D.length; X++) w[X] = D[X];
                }
            } else for (var q = 0; q < L; q += 2) w[q] = m[q] - b[0], w[q + 1] = m[q + 1] - b[1];
            y.push({
                from: _,
                to: w,
                fromCp: v,
                toCp: b,
                rotation: -I
            });
        }
        return y;
    }(r, a, 10, Math.PI), d = [];
    bo(t, "buildPath", {
        replace: function(h) {
            for (var c = t.__morphT, g = 1 - c, p = [], f = 0; f < u.length; f++) {
                var y = u[f], x = y.from, S = y.to, m = y.rotation * c, v = y.fromCp, b = y.toCp, _ = Math.sin(m), w = Math.cos(m);
                qh(p, v, b, c);
                for (var I = 0; I < x.length; I += 2) {
                    var M = x[I], D = x[I + 1], L = M * g + (V = S[I]) * c, C = D * g + (N = S[I + 1]) * c;
                    d[I] = L * w - C * _ + p[0], d[I + 1] = L * _ + C * w + p[1];
                }
                var A = d[0], T = d[1];
                for (h.moveTo(A, T), I = 2; I < x.length; ) {
                    var V = d[I++], N = d[I++], k = d[I++], P = d[I++], R = d[I++], z = d[I++];
                    A === V && T === N && k === R && P === z ? h.lineTo(R, z) : h.bezierCurveTo(V, N, k, P, R, z), 
                    A = R, T = z;
                }
            }
        }
    });
}

function Ir(o, t, e) {
    if (!o || !t) return t;
    var n = e.done, i = e.during;
    return Lu(o, t), t.__morphT = 0, t.animateTo({
        __morphT: 1
    }, we({
        during: function(r) {
            t.dirtyShape(), i && i(r);
        },
        done: function() {
            Dn(t, "buildPath"), Dn(t, "updateTransform"), t.__morphT = -1, t.createPathProxy(), 
            t.dirtyShape(), n && n();
        }
    }, e)), t;
}

function nv(o, t, e, n, i, r) {
    o = i === e ? 0 : Math.round(32767 * (o - e) / (i - e)), t = r === n ? 0 : Math.round(32767 * (t - n) / (r - n));
    for (var a, s = 0, l = 32768; l > 0; l /= 2) {
        var u = 0, d = 0;
        (o & l) > 0 && (u = 1), (t & l) > 0 && (d = 1), s += l * l * (3 * u ^ d), 
        d === 0 && (u === 1 && (o = l - 1 - o, t = l - 1 - t), a = o, o = t, t = a);
    }
    return s;
}

function So(o) {
    var t = 1 / 0, e = 1 / 0, n = -1 / 0, i = -1 / 0, r = K(o, function(a) {
        var s = a.getBoundingRect(), l = a.getComputedTransform(), u = s.x + s.width / 2 + (l ? l[4] : 0), d = s.y + s.height / 2 + (l ? l[5] : 0);
        return t = Math.min(u, t), e = Math.min(d, e), n = Math.max(u, n), i = Math.max(d, i), 
        [ u, d ];
    });
    return K(r, function(a, s) {
        return {
            cp: a,
            z: nv(a[0], a[1], t, e, n, i),
            path: o[s]
        };
    }).sort(function(a, s) {
        return a.z - s.z;
    }).map(function(a) {
        return a.path;
    });
}

function Au(o) {
    return Qy(o.path, o.count);
}

function Tu(o) {
    return $(o[0]);
}

function Nu(o, t) {
    for (var e = [], n = o.length, i = 0; i < n; i++) e.push({
        one: o[i],
        many: []
    });
    for (i = 0; i < t.length; i++) {
        var r = t[i].length, a = void 0;
        for (a = 0; a < r; a++) e[a % n].many.push(t[i][a]);
    }
    var s = 0;
    for (i = n - 1; i >= 0; i--) if (!e[i].many.length) {
        var l = e[s].many;
        if (l.length <= 1) {
            if (!s) return e;
            s = 0;
        }
        r = l.length;
        var u = Math.ceil(r / 2);
        e[i].many = l.slice(u, r), e[s].many = l.slice(0, u), s++;
    }
    return e;
}

var ov = {
    clone: function(o) {
        for (var t = [], e = 1 - Math.pow(1 - o.path.style.opacity, 1 / o.count), n = 0; n < o.count; n++) {
            var i = Ko(o.path);
            i.setStyle("opacity", e), t.push(i);
        }
        return t;
    },
    split: null
};

function Mr(o, t, e, n, i, r) {
    if (o.length && t.length) {
        var a = sn("update", n, i);
        if (a && a.duration > 0) {
            var s, l, u = n.getModel("universalTransition").get("delay"), d = Object.assign({
                setToFinal: !0
            }, a);
            Tu(o) && (s = o, l = t), Tu(t) && (s = t, l = o);
            for (var h = s ? s === o : o.length > t.length, c = s ? Nu(l, s) : Nu(h ? t : o, [ h ? o : t ]), g = 0, p = 0; p < c.length; p++) g += c[p].many.length;
            var f = 0;
            for (p = 0; p < c.length; p++) y(c[p], h, f, g), f += c[p].many.length;
        }
    }
    function y(x, S, m, v, b) {
        var _ = x.many, w = x.one;
        if (_.length !== 1 || b) for (var I = we({
            dividePath: ov[e],
            individualDelay: u && function(k, P, R, z) {
                return u(k + m, v);
            }
        }, d), M = S ? function(k, P, R) {
            var z = [];
            (function le(ae) {
                for (var pe = 0; pe < ae.length; pe++) {
                    var Be = ae[pe];
                    _o(Be) ? le(Be.childrenRef()) : Be instanceof Se && z.push(Be);
                }
            })(k);
            var B = z.length;
            if (!B) return {
                fromIndividuals: [],
                toIndividuals: [],
                count: 0
            };
            var G = (R.dividePath || Au)({
                path: P,
                count: B
            });
            if (G.length !== B) return {
                fromIndividuals: [],
                toIndividuals: [],
                count: 0
            };
            z = So(z), G = So(G);
            for (var U = R.done, O = R.during, F = R.individualDelay, j = new jh(), Y = 0; Y < B; Y++) {
                var H = z[Y], X = G[Y];
                X.parent = P, X.copyTransform(j), F || Lu(H, X);
            }
            function q(le) {
                for (var ae = 0; ae < G.length; ae++) G[ae].addSelfToZr(le);
            }
            function J() {
                P.__isCombineMorphing = !1, P.__morphT = -1, P.childrenRef = null, 
                Dn(P, "addSelfToZr"), Dn(P, "removeSelfFromZr");
            }
            P.__isCombineMorphing = !0, P.childrenRef = function() {
                return G;
            }, bo(P, "addSelfToZr", {
                after: function(le) {
                    q(le);
                }
            }), bo(P, "removeSelfFromZr", {
                after: function(le) {
                    for (var ae = 0; ae < G.length; ae++) G[ae].removeSelfFromZr(le);
                }
            });
            var ie = G.length;
            if (F) {
                var Ce = ie, Xe = function() {
                    --Ce == 0 && (J(), U && U());
                };
                for (Y = 0; Y < ie; Y++) {
                    var Ve = F ? we({
                        delay: (R.delay || 0) + F(Y, ie, z[Y], G[Y]),
                        done: Xe
                    }, R) : R;
                    Ir(z[Y], G[Y], Ve);
                }
            } else P.__morphT = 0, P.animateTo({
                __morphT: 1
            }, we({
                during: function(le) {
                    for (var ae = 0; ae < ie; ae++) {
                        var pe = G[ae];
                        pe.__morphT = P.__morphT, pe.dirtyShape();
                    }
                    O && O(le);
                },
                done: function() {
                    J();
                    for (var le = 0; le < k.length; le++) Dn(k[le], "updateTransform");
                    U && U();
                }
            }, R));
            return P.__zr && q(P.__zr), {
                fromIndividuals: z,
                toIndividuals: G,
                count: ie
            };
        }(_, w, I) : function(k, P, R) {
            var z = P.length, B = [], G = R.dividePath || Au;
            if (_o(k)) {
                (function X(q) {
                    for (var J = 0; J < q.length; J++) {
                        var ie = q[J];
                        _o(ie) ? X(ie.childrenRef()) : ie instanceof Se && B.push(ie);
                    }
                })(k.childrenRef());
                var U = B.length;
                if (U < z) for (var O = 0, F = U; F < z; F++) B.push(Ko(B[O++ % U]));
                B.length = z;
            } else {
                B = G({
                    path: k,
                    count: z
                });
                var j = k.getComputedTransform();
                for (F = 0; F < B.length; F++) B[F].setLocalTransform(j);
                if (B.length !== z) return {
                    fromIndividuals: [],
                    toIndividuals: [],
                    count: 0
                };
            }
            B = So(B), P = So(P);
            var Y = R.individualDelay;
            for (F = 0; F < z; F++) {
                var H = Y ? we({
                    delay: (R.delay || 0) + Y(F, z, B[F], P[F])
                }, R) : R;
                Ir(B[F], P[F], H);
            }
            return {
                fromIndividuals: B,
                toIndividuals: P,
                count: P.length
            };
        }(w, _, I), D = M.fromIndividuals, L = M.toIndividuals, C = D.length, A = 0; A < C; A++) T = u ? we({
            delay: u(A, C)
        }, d) : d, r(D[A], L[A], S ? _[A] : x.one, S ? x.one : _[A], T); else {
            var T, V = S ? _[0] : w, N = S ? w : _[0];
            _o(V) ? y({
                many: [ V ],
                one: N
            }, !0, m, v, !0) : (Ir(V, N, T = u ? we({
                delay: u(m, v)
            }, d) : d), r(V, N, V, N, T));
        }
    }
}

function Pt(o) {
    if (!o) return [];
    if ($(o)) {
        for (var t = [], e = 0; e < o.length; e++) t.push(Pt(o[e]));
        return t;
    }
    var n = [];
    return o.traverse(function(i) {
        i instanceof Se && !i.disableMorphing && !i.invisible && !i.ignore && n.push(i);
    }), n;
}

var Pu = 1e4, iv = 0, ku = 1, Vu = 2, rv = Te();

function Eu(o, t, e, n) {
    var i = function(l, u) {
        for (var d = l.dimensions, h = 0; h < d.length; h++) {
            var c = l.getDimensionInfo(d[h]);
            if (c && c.otherDims[u] === 0) return d[h];
        }
    }(o, n ? "itemChildGroupId" : "itemGroupId");
    if (i) {
        var r = function(l, u, d) {
            var h = l.getDimensionInfo(d), c = h && h.ordinalMeta;
            if (h) {
                var g = l.get(h.name, u);
                return c && c.categories[g] || g + "";
            }
        }(o, t, i);
        return r;
    }
    var a = o.getRawDataItem(t), s = n ? "childGroupId" : "groupId";
    return a && a[s] ? a[s] + "" : n ? void 0 : e || o.getId(t);
}

function zu(o) {
    var t = [];
    return E(o, function(e) {
        var n = e.data, i = e.dataGroupId;
        if (!(n.count() > Pu)) for (var r = n.getIndices(), a = 0; a < r.length; a++) t.push({
            data: n,
            groupId: Eu(n, a, i, !1),
            childGroupId: Eu(n, a, i, !0),
            divide: e.divide,
            dataIndex: a
        });
    }), t;
}

function Dr(o, t, e) {
    o.traverse(function(n) {
        n instanceof Se && gt(n, {
            style: {
                opacity: 0
            }
        }, t, {
            dataIndex: e,
            isFrom: !0
        });
    });
}

function Cr(o) {
    if (o.parent) {
        var t = o.getComputedTransform();
        o.setLocalTransform(t), o.parent.remove(o);
    }
}

function Kt(o) {
    o.stopAnimation(), o.isGroup && o.traverse(function(t) {
        t.stopAnimation();
    });
}

function Ru(o, t, e) {
    var n = zu(o), i = zu(t);
    function r(m, v, b, _, w) {
        (b || m) && v.animateFrom({
            style: b && b !== m ? Q(Q({}, b.style), m.style) : m.style
        }, w);
    }
    var a = !1, s = iv, l = be(), u = be();
    n.forEach(function(m) {
        m.groupId && l.set(m.groupId, !0), m.childGroupId && u.set(m.childGroupId, !0);
    });
    for (var d = 0; d < i.length; d++) {
        var h = i[d].groupId;
        if (u.get(h)) {
            s = ku;
            break;
        }
        var c = i[d].childGroupId;
        if (c && l.get(c)) {
            s = Vu;
            break;
        }
    }
    function g(m, v) {
        return function(b) {
            var _ = b.data, w = b.dataIndex;
            return v ? _.getId(w) : m ? s === ku ? b.childGroupId : b.groupId : s === Vu ? b.childGroupId : b.groupId;
        };
    }
    var p = function(m, v) {
        var b = m.length;
        if (b !== v.length) return !1;
        for (var _ = 0; _ < b; _++) {
            var w = m[_], I = v[_];
            if (w.data.getId(w.dataIndex) !== I.data.getId(I.dataIndex)) return !1;
        }
        return !0;
    }(n, i), f = {};
    if (!p) for (d = 0; d < i.length; d++) {
        var y = i[d], x = y.data.getItemGraphicEl(y.dataIndex);
        x && (f[x.id] = !0);
    }
    function S(m, v) {
        var b = n[v], _ = i[m], w = _.data.hostModel, I = b.data.getItemGraphicEl(b.dataIndex), M = _.data.getItemGraphicEl(_.dataIndex);
        I !== M ? I && f[I.id] || M && (Kt(M), I ? (Kt(I), Cr(I), a = !0, Mr(Pt(I), Pt(M), _.divide, w, m, r)) : Dr(M, w, m)) : M && function(D, L, C) {
            var A = sn("update", C, L);
            A && D.traverse(function(T) {
                if (T instanceof en) {
                    var V = Kh(T);
                    V && T.animateFrom({
                        style: V
                    }, A);
                }
            });
        }(M, _.dataIndex, w);
    }
    new Rt(n, i, g(!0, p), g(!1, p), null, "multiple").update(S).updateManyToOne(function(m, v) {
        var b = i[m], _ = b.data, w = _.hostModel, I = _.getItemGraphicEl(b.dataIndex), M = je(K(v, function(D) {
            return n[D].data.getItemGraphicEl(n[D].dataIndex);
        }), function(D) {
            return D && D !== I && !f[D.id];
        });
        I && (Kt(I), M.length ? (E(M, function(D) {
            Kt(D), Cr(D);
        }), a = !0, Mr(Pt(M), Pt(I), b.divide, w, m, r)) : Dr(I, w, b.dataIndex));
    }).updateOneToMany(function(m, v) {
        var b = n[v], _ = b.data.getItemGraphicEl(b.dataIndex);
        if (!_ || !f[_.id]) {
            var w = je(K(m, function(M) {
                return i[M].data.getItemGraphicEl(i[M].dataIndex);
            }), function(M) {
                return M && M !== _;
            }), I = i[m[0]].data.hostModel;
            w.length && (E(w, function(M) {
                return Kt(M);
            }), _ ? (Kt(_), Cr(_), a = !0, Mr(Pt(_), Pt(w), b.divide, I, m[0], r)) : E(w, function(M) {
                return Dr(M, I, m[0]);
            }));
        }
    }).updateManyToMany(function(m, v) {
        new Rt(v, m, function(b) {
            return n[b].data.getId(n[b].dataIndex);
        }, function(b) {
            return i[b].data.getId(i[b].dataIndex);
        }).update(function(b, _) {
            S(m[b], v[_]);
        }).execute();
    }).execute(), a && E(t, function(m) {
        var v = m.data.hostModel, b = v && e.getViewOfSeriesModel(v), _ = sn("update", v, 0);
        b && v.isAnimationEnabled() && _ && _.duration > 0 && b.group.traverse(function(w) {
            w instanceof Se && !w.animators.length && w.animateFrom({
                style: {
                    opacity: 0
                }
            }, _);
        });
    });
}

function Ou(o) {
    var t = o.getModel("universalTransition").get("seriesKey");
    return t || o.id;
}

function Bu(o) {
    return $(o) ? o.sort().join(",") : o;
}

function St(o) {
    if (o.hostModel) return o.hostModel.getModel("universalTransition").get("divideShape");
}

function Gu(o, t) {
    for (var e = 0; e < o.length; e++) if (t.seriesIndex != null && t.seriesIndex === o[e].seriesIndex || t.seriesId != null && t.seriesId === o[e].id) return e;
}

ne([ $h ]), ne([ function(o) {
    o.registerPainter("svg", Ec);
} ]), ne([ Qh, Jh, ec, function(o) {
    ne(pd), o.registerSeriesModel(zc), o.registerChartView(Fc), o.registerLayout(Ln("scatter"));
}, tc, nc, function(o) {
    o.registerChartView(Kc), o.registerSeriesModel(rp), o.registerLayout(ap), o.registerVisual(sp), 
    function(t) {
        t.registerAction({
            type: "treeExpandAndCollapse",
            event: "treeExpandAndCollapse",
            update: "update"
        }, function(e, n) {
            n.eachComponent({
                mainType: "series",
                subType: "tree",
                query: e
            }, function(i) {
                var r = e.dataIndex, a = i.getData().tree.getNodeByDataIndex(r);
                a.isExpand = !a.isExpand;
            });
        }), t.registerAction({
            type: "treeRoam",
            event: "treeRoam",
            update: "none"
        }, function(e, n, i) {
            n.eachComponent({
                mainType: "series",
                subType: "tree",
                query: e
            }, function(r) {
                var a = r.coordinateSystem, s = Fr(a, e, void 0, i);
                r.setCenter && r.setCenter(s.center), r.setZoom && r.setZoom(s.zoom);
            });
        });
    }(o);
}, function(o) {
    o.registerSeriesModel(lp), o.registerChartView(vp), o.registerVisual(mp), o.registerLayout(Sp), 
    function(t) {
        for (var e = 0; e < ls.length; e++) t.registerAction({
            type: ls[e],
            update: "updateView"
        }, Vt);
        t.registerAction({
            type: "treemapRootToNode",
            update: "updateView"
        }, function(n, i) {
            i.eachComponent({
                mainType: "series",
                subType: "treemap",
                query: n
            }, function(r, a) {
                var s = fn(n, [ "treemapZoomToNode", "treemapRootToNode" ], r);
                if (s) {
                    var l = r.getViewRoot();
                    l && (n.direction = gi(l, s.node) ? "rollUp" : "drillDown"), 
                    r.resetViewRoot(s.node);
                }
            });
        });
    }(o);
}, function(o) {
    o.registerChartView(Rp), o.registerSeriesModel(Fp), o.registerProcessor(Ip), 
    o.registerVisual(Mp), o.registerVisual(Dp), o.registerLayout(Ap), o.registerLayout(o.PRIORITY.VISUAL.POST_CHART_LAYOUT, Np), 
    o.registerLayout(Pp), o.registerCoordinateSystem("graphView", {
        dimensions: Do.dimensions,
        create: kp
    }), o.registerAction({
        type: "focusNodeAdjacency",
        event: "focusNodeAdjacency",
        update: "series:focusNodeAdjacency"
    }, Vt), o.registerAction({
        type: "unfocusNodeAdjacency",
        event: "unfocusNodeAdjacency",
        update: "series:unfocusNodeAdjacency"
    }, Vt), o.registerAction(Wp, function(t, e, n) {
        e.eachComponent({
            mainType: "series",
            query: t
        }, function(i) {
            var r = i.coordinateSystem, a = Fr(r, t, void 0, n);
            i.setCenter && i.setCenter(a.center), i.setZoom && i.setZoom(a.zoom);
        });
    });
}, oc, function(o) {
    o.registerChartView(Yp), o.registerSeriesModel(Up), o.registerLayout(jp), o.registerProcessor(Ro("funnel"));
}, function(o) {
    ne(ea), o.registerChartView(qp), o.registerSeriesModel($p), o.registerVisual(o.PRIORITY.VISUAL.BRUSH, Jp);
}, function(o) {
    o.registerChartView(of), o.registerSeriesModel(af), o.registerLayout(sf), o.registerVisual(ff), 
    o.registerAction({
        type: "dragNode",
        event: "dragnode",
        update: "update"
    }, function(t, e) {
        e.eachComponent({
            mainType: "series",
            subType: "sankey",
            query: t
        }, function(n) {
            n.setNodePosition(t.dataIndex, [ t.localX, t.localY ]);
        });
    });
}, function(o) {
    o.registerSeriesModel(gf), o.registerChartView(_f), o.registerLayout(bf), o.registerTransform(Sf);
}, function(o) {
    o.registerChartView(Af), o.registerSeriesModel(Tf), o.registerPreprocessor(Nf), 
    o.registerVisual(Rf), o.registerLayout(Of);
}, function(o) {
    o.registerChartView(Gf), o.registerSeriesModel(Ff), o.registerLayout(Ln("effectScatter"));
}, function(o) {
    o.registerChartView(qf), o.registerSeriesModel(Jf), o.registerLayout(il), o.registerVisual(eg);
}, function(o) {
    o.registerChartView(ig), o.registerSeriesModel(rg);
}, ic, function(o) {
    o.registerChartView(sg), o.registerSeriesModel(ug), o.registerLayout(dg), o.registerProcessor(Ro("themeRiver"));
}, function(o) {
    o.registerChartView(fg), o.registerSeriesModel(gg), o.registerLayout(he(yg, "sunburst")), 
    o.registerProcessor(he(Ro, "sunburst")), o.registerVisual(vg), function(t) {
        t.registerAction({
            type: Zi,
            update: "updateView"
        }, function(e, n) {
            n.eachComponent({
                mainType: "series",
                subType: "sunburst",
                query: e
            }, function(i, r) {
                var a = fn(e, [ Zi ], i);
                if (a) {
                    var s = i.getViewRoot();
                    s && (e.direction = gi(s, a.node) ? "rollUp" : "drillDown"), 
                    i.resetViewRoot(a.node);
                }
            });
        }), t.registerAction({
            type: ul,
            update: "none"
        }, function(e, n, i) {
            e = Q({}, e), n.eachComponent({
                mainType: "series",
                subType: "sunburst",
                query: e
            }, function(r) {
                var a = fn(e, [ ul ], r);
                a && (e.dataIndex = a.node.dataIndex);
            }), i.dispatchAction(Q(e, {
                type: "highlight"
            }));
        }), t.registerAction({
            type: cg,
            update: "updateView"
        }, function(e, n, i) {
            e = Q({}, e), i.dispatchAction(Q(e, {
                type: "downplay"
            }));
        });
    }(o);
}, function(o) {
    o.registerChartView(Ng), o.registerSeriesModel(xg);
} ]), ne(rc), ne(ac), ne(sc), ne(function(o) {
    ne(fa), ca.registerAxisPointerClass("SingleAxisPointer", jg), o.registerComponentView(qg), 
    o.registerComponentView(Gg), o.registerComponentModel(ir), hh(o, "single", ir, ir.defaultOption), 
    o.registerCoordinateSystem("single", Zg);
}), ne(ea), ne(function(o) {
    o.registerComponentModel(Kg), o.registerComponentView(Qg), o.registerCoordinateSystem("calendar", Jg);
}), ne(function(o) {
    o.registerComponentModel(ty), o.registerComponentView(ny), o.registerPreprocessor(function(t) {
        var e = t.graphic;
        $(e) ? e[0] && e[0].elements ? t.graphic = [ t.graphic[0] ] : t.graphic = [ {
            elements: e
        } ] : e && !e.elements && (t.graphic = [ {
            elements: [ e ]
        } ]);
    });
}), ne(lc), ne(uc), ne(fa), ne(function(o) {
    o.registerComponentView(ly), o.registerComponentModel(uy), o.registerPreprocessor(iy), 
    o.registerVisual(o.PRIORITY.VISUAL.BRUSH, ry), o.registerAction({
        type: "brush",
        event: "brush",
        update: "updateVisual"
    }, function(t, e) {
        e.eachComponent({
            mainType: "brush",
            query: t
        }, function(n) {
            n.setAreas(t.areas);
        });
    }), o.registerAction({
        type: "brushSelect",
        event: "brushSelected",
        update: "none"
    }, Vt), o.registerAction({
        type: "brushEnd",
        event: "brushEnd",
        update: "none"
    }, Vt), Mh("brush", hy);
}), ne(dc), ne(function(o) {
    o.registerComponentModel(cy), o.registerComponentView(vy), o.registerSubTypeDefaulter("timeline", function() {
        return "slider";
    }), function(t) {
        t.registerAction({
            type: "timelineChange",
            event: "timelineChanged",
            update: "prepareAndUpdate"
        }, function(e, n, i) {
            var r = n.getComponent("timeline");
            return r && e.currentIndex != null && (r.setCurrentIndex(e.currentIndex), 
            !r.get("loop", !0) && r.isIndexMax() && r.getPlayState() && (r.setPlayState(!1), 
            i.dispatchAction({
                type: "timelinePlayChange",
                playState: !1,
                from: e.from
            }))), n.resetOption("timeline", {
                replaceMerge: r.get("replaceMerge", !0)
            }), we({
                currentIndex: r.option.currentIndex
            }, e);
        }), t.registerAction({
            type: "timelinePlayChange",
            event: "timelinePlayChanged",
            update: "update"
        }, function(e, n) {
            var i = n.getComponent("timeline");
            i && e.playState != null && i.setPlayState(e.playState);
        });
    }(o), o.registerPreprocessor(my);
}), ne(function(o) {
    o.registerComponentModel(xy), o.registerComponentView(_y), o.registerPreprocessor(function(t) {
        hr(t.series, "markPoint") && (t.markPoint = t.markPoint || {});
    });
}), ne(function(o) {
    o.registerComponentModel(by), o.registerComponentView(Iy), o.registerPreprocessor(function(t) {
        hr(t.series, "markLine") && (t.markLine = t.markLine || {});
    });
}), ne(function(o) {
    o.registerComponentModel(My), o.registerComponentView(Ay), o.registerPreprocessor(function(t) {
        hr(t.series, "markArea") && (t.markArea = t.markArea || {});
    });
}), ne(hc), ne(function(o) {
    ne(pu), ne(yu);
}), ne(pu), ne(yu), ne(cc), ne(pc), ne(fc), ne(gc), ne(function(o) {
    o.registerTransform(jy), o.registerTransform(qy);
}), ne(yc), ne(function(o) {
    o.registerUpdateLifecycle("series:beforeupdate", function(t, e, n) {
        E(Ge(n.seriesTransition), function(i) {
            E(Ge(i.to), function(r) {
                for (var a = n.updatedSeries, s = 0; s < a.length; s++) (r.seriesIndex != null && r.seriesIndex === a[s].seriesIndex || r.seriesId != null && r.seriesId === a[s].id) && (a[s][$o] = !0);
            });
        });
    }), o.registerUpdateLifecycle("series:transition", function(t, e, n) {
        var i = rv(e);
        if (i.oldSeries && n.updatedSeries && n.optionChanged) {
            var r = n.seriesTransition;
            if (r) E(Ge(r), function(g) {
                (function(p, f, y, x) {
                    var S = [], m = [];
                    E(Ge(p.from), function(v) {
                        var b = Gu(f.oldSeries, v);
                        b >= 0 && S.push({
                            dataGroupId: f.oldDataGroupIds[b],
                            data: f.oldData[b],
                            divide: St(f.oldData[b]),
                            groupIdDim: v.dimension
                        });
                    }), E(Ge(p.to), function(v) {
                        var b = Gu(y.updatedSeries, v);
                        if (b >= 0) {
                            var _ = y.updatedSeries[b].getData();
                            m.push({
                                dataGroupId: f.oldDataGroupIds[b],
                                data: _,
                                divide: St(_),
                                groupIdDim: v.dimension
                            });
                        }
                    }), S.length > 0 && m.length > 0 && Ru(S, m, x);
                })(g, i, n, e);
            }); else {
                var a = function(g, p) {
                    var f = be(), y = be(), x = be();
                    return E(g.oldSeries, function(S, m) {
                        var v = g.oldDataGroupIds[m], b = g.oldData[m], _ = Ou(S), w = Bu(_);
                        y.set(w, {
                            dataGroupId: v,
                            data: b
                        }), $(_) && E(_, function(I) {
                            x.set(I, {
                                key: w,
                                dataGroupId: v,
                                data: b
                            });
                        });
                    }), E(p.updatedSeries, function(S) {
                        if (S.isUniversalTransitionEnabled() && S.isAnimationEnabled()) {
                            var m = S.get("dataGroupId"), v = S.getData(), b = Ou(S), _ = Bu(b), w = y.get(_);
                            if (w) f.set(_, {
                                oldSeries: [ {
                                    dataGroupId: w.dataGroupId,
                                    divide: St(w.data),
                                    data: w.data
                                } ],
                                newSeries: [ {
                                    dataGroupId: m,
                                    divide: St(v),
                                    data: v
                                } ]
                            }); else if ($(b)) {
                                var I = [];
                                E(b, function(L) {
                                    var C = y.get(L);
                                    C.data && I.push({
                                        dataGroupId: C.dataGroupId,
                                        divide: St(C.data),
                                        data: C.data
                                    });
                                }), I.length && f.set(_, {
                                    oldSeries: I,
                                    newSeries: [ {
                                        dataGroupId: m,
                                        data: v,
                                        divide: St(v)
                                    } ]
                                });
                            } else {
                                var M = x.get(b);
                                if (M) {
                                    var D = f.get(M.key);
                                    D || (D = {
                                        oldSeries: [ {
                                            dataGroupId: M.dataGroupId,
                                            data: M.data,
                                            divide: St(M.data)
                                        } ],
                                        newSeries: []
                                    }, f.set(M.key, D)), D.newSeries.push({
                                        dataGroupId: m,
                                        data: v,
                                        divide: St(v)
                                    });
                                }
                            }
                        }
                    }), f;
                }(i, n);
                E(a.keys(), function(g) {
                    var p = a.get(g);
                    Ru(p.oldSeries, p.newSeries, e);
                });
            }
            E(n.updatedSeries, function(g) {
                g[$o] && (g[$o] = !1);
            });
        }
        for (var s = t.getSeries(), l = i.oldSeries = [], u = i.oldDataGroupIds = [], d = i.oldData = [], h = 0; h < s.length; h++) {
            var c = s[h].getData();
            c.count() < Pu && (l.push(s[h]), u.push(s[h].get("dataGroupId")), d.push(c));
        }
    });
}), ne(vc);