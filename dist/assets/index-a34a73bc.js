import {
    d as ze,
    p as Pe,
    a5 as Fe,
    r as k,
    a0 as Be,
    o as p,
    c as m,
    k as I,
    l as w,
    t as s,
    D as R,
    B as O,
    a as u,
    C as L,
    A as Ue,
    G as Oe,
    ah as Le,
    F as ge,
    y as Te,
    z as C,
    ch as Ce,
    _ as Ne,
    K as Se,
    Y as De,
    cn as Ee,
    R as qe,
    S as Me,
    v as Ge,
    __tla as Ye
} from "./index-6c08ea4c.js";

import {
    _ as Ze,
    a as Qe,
    b as je,
    c as Xe,
    d as We,
    e as Ke,
    f as He,
    g as Ve,
    h as Je,
    i as $e,
    j as es,
    k as ss,
    l as as,
    m as ls,
    n as is,
    o as ts,
    p as ns,
    q as os,
    r as ps,
    s as rs,
    t as us,
    u as fs,
    v as cs,
    w as ds,
    x as ms,
    y as gs,
    z as vs
} from "./file_题-23882218.js";

import {
    l as hs,
    m as ys,
    b as ve,
    j as he,
    __tla as xs
} from "./file-e038b35d.js";

import {
    _ as _s
} from "./_plugin-vue_export-helper-1b428a4d.js";

let ye, bs = Promise.all([ (() => {
    try {
        return Ye;
    } catch {}
})(), (() => {
    try {
        return xs;
    } catch {}
})() ]).then(async () => {
    let z, N, S, D, E, q, M, G, Y, Z, Q, j, X, W, K, H, V, J, $, ee, se, ae, le, ie, te, ne;
    z = c => (qe("data-v-a6e22c10"), c = c(), Me(), c), N = {
        class: "neu-upload"
    }, S = {
        class: "upload-demo__title"
    }, D = {
        key: 0,
        src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAOZSURBVGiB7ZlNaFxVFMd/572ZTmYmCX6UkhpTHTOpUEkXCi30A5pNanGhINF+oUMFd12IVBtdqIuWIkIXEoRuRKFIE7OykrhqqQ0uFFEnaRRjQjIxqY2JpmkmM50377ooVieZuS/JzJsZyvsv3zn3nPvj3PPumXngyZOnqlN3d7dZ6piiM05Nz/Yh8nSpk05O3xzLKLtt95OPjZcqpqG1ugABcDuTjdz8O31p4PvRR0oVUw/ioizLLilMxUDgP5jvhqa2FBuroiBwB2bmj/nLxcJUHARKA1MRENNYmbZYGF/Ru1qHGhvqCNb4UGqFKeITdR7Yu9aYFQHx+Qw2bQwXsKrAemJWRY+UQh5ItckDqTZ5INUmD6Ta5IFUm+4ZkLIPjVkbhsZtLsez/PK7YmZeYSt4sE5obhB2PG6GH+5IBCd7mpbWElf/L8r1uZWDdhEamrDpumgxOG5r/RQqrgzzrdGPGy6uNnbZQD4fsDjXb5G6vTp/BVmB97mx+N5IX0vayb8sR6t3wOLDL6x8P6QKSsAEOtWmWhN408nf9WYfTtic6y8MEWsPc/LF+oLrBXUiGpvucMrjKoitoOtLi6UCxynWHubkwXpeORDm7cMFYQSlTkWP/FqYFpdBrk3Y/DSWv7Fj7WEOtYU427tA/7cpWiN+HUwL/tr9ulyugly9lh+iNeLnUFuII2dmmZnPkkzbHPtgjtaIn2d2BvMHU+qwLperzf5zIj9IfCzD/s6ZnGfJtOLgqVlduO06o6sV+XOhpNdQk87o7ltrGcdTLRsIBbRX113t2rZheSztQldBHqjLzf3a83W0RvyO6xo3mpw+dl/OMyVM6ta42iNbG4UfRvU+wxMWfy3oRxYAUWpQZ3eoiNxwzKDR3idyv7ClM4qAP7dKwxMZLv2YO4EE/EI6s7y/5IIul7YiPsPYncXe47ThQopuFiNcw+uLKbYBfB1Pc/y5WuZu2QWrEAoIJzrquRL/H5wwbklQO0CurvOKUPRoYh+m2QfUmMadi/DZXUHqQ/kPQzKluDKY4mzvrbtVUUpiv326+RNdHtdBAKIvX+8E+/Q6l380krx6nJ4Xsjqnkn8mzqe5rTu+ud+/JSOwZ005RboWbOONxc92Oo7xZanIv2p+KXEA8Z0RlPaWBsYQ+52RRxvP8644v9IoMwjAQ69OhWqWsvvEMI4Ksh1oQmEgakqJDIqSC3Yy+dVoT/N8uffmydO9rH8Aq1REM7kyif8AAAAASUVORK5CYII=",
        alt: "",
        style: {
            display: "block",
            margin: "0 auto"
        }
    }, E = z(() => s("span", null, [ Ge("请将文件拖至此框内，或点击"), s("span", {
        style: {
            "text-decoration": "underline",
            color: "#245fe6"
        }
    }, "上传文件") ], -1)), q = {
        key: 1,
        style: {
            "font-size": "12px",
            color: "#999",
            "margin-top": "5px"
        },
        class: "innerBoxTip"
    }, M = {
        class: "file-upload-help"
    }, G = z(() => s("br", null, null, -1)), Y = [ "innerHTML" ], Z = {
        style: {
            display: "inline-block"
        }
    }, Q = {
        class: "tool-tip__content"
    }, j = z(() => s("span", null, "支持文件类型", -1)), X = {
        class: "file-list"
    }, W = {
        class: "flex items-center justify-left",
        style: {
            width: "55%"
        }
    }, K = {
        class: "file-list-item__icon"
    }, H = [ "src" ], V = {
        class: "file-list-item__name"
    }, J = [ "title" ], $ = {
        class: "file-size"
    }, ee = {
        class: "flex items-center"
    }, se = {
        style: {
            "margin-right": "10px"
        }
    }, ae = {
        key: 0,
        class: "file-status"
    }, le = {
        key: 1,
        class: "file-status"
    }, ie = {
        key: 2,
        class: "file-status error",
        style: {
            "margin-right": "10px"
        }
    }, te = {
        style: {
            display: "flex",
            width: "20px",
            "margin-right": "10px"
        }
    }, ne = {
        style: {
            display: "flex",
            width: "20px"
        }
    }, ye = _s(ze({
        __name: "index",
        props: {
            accept: {
                type: String,
                default: ".doc,.docx,.xls,.xlsx,.ppt,.pptx,.pdf,.txt,.jpg,.jpeg,.png,.bmp,.gif,.mp4,.ogg,.zip,.rar,.mp3,.md"
            },
            tooltip: {
                type: String,
                default: "<span>文档类：.doc/.docx/.xls/.xlsx/.ppt/.pptx/.pdf/.txt</span><br><span>图片类：.jpg/.jpeg/.png/.bmp/.gif</span><br><span>视频类：.mp4/.ogg</span><br><span>压缩包类：.zip/.rar</span><br><span>音频类：.mp3</span><br><span>markdown类：.md</span>"
            },
            alert: {
                type: String,
                default: "总文件大小不得超过4GB，若文档类型资料较大，出现上传失败时，建议将其转换成PDF或图片格式再进行上传。"
            },
            size: {
                type: Number,
                default: 500
            },
            showFileList: {
                type: Boolean,
                default: !0
            },
            nameLength: {
                type: Number,
                default: 50
            },
            limit: {
                type: Number,
                default: -1
            },
            noRemove: {
                type: Boolean,
                default: !1
            },
            showUploadIcon: {
                type: Boolean,
                default: !1
            },
            showTooltip: {
                type: Boolean,
                default: !0
            },
            innerBoxTip: {
                type: String,
                default: ""
            },
            noUploadTipShow: {
                type: Boolean,
                default: !1
            },
            isDisabled: {
                type: Boolean,
                default: !1
            },
            from: {
                type: String,
                default: ""
            }
        },
        emits: [ "success", "response", "fileChange", "fileRemove", "error", "submit" ],
        setup(c, {
            expose: xe,
            emit: _e
        }) {
            const g = Pe(), oe = Fe.CancelToken, x = c, _ = k(), {
                accept: pe,
                tooltip: be,
                size: re,
                alert: Ae,
                limit: ue,
                noRemove: ke,
                noUploadTipShow: Ie
            } = Be(x), a = k([]), l = k(0), P = k(), r = _e, we = k([ ".doc", ".docx", ".xls", ".xlsx", ".ppt", ".pptx", ".txt" ]), Re = i => {
                const F = i.name.length > x.nameLength, n = i.name.substring(i.name.lastIndexOf(".")).toLowerCase();
                pe.value.split(",").includes(n) ? we.value.includes(n) && i.size > 52428800 ? g.error("非PDF文档类单文件大小不能超过50MB") : i.size >= 1024 * re.value * 1024 ? g.error(`\u4E0A\u4F20\u8D44\u6E90\u5355\u6587\u4EF6\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC7${re.value}MB`) : F ? g.error(`\u4E0A\u4F20\u6587\u4EF6\u540D\u79F0\u4E0D\u80FD\u8D85\u8FC7${x.nameLength}\u4E2A\u5B57\u7B26!`) : ue.value == -1 || a.value.length < ue.value ? (a.value.push({
                    name: i.name,
                    uploadFileId: ys(),
                    status: 0,
                    fileSuffix: n.toUpperCase().replace(".", ""),
                    size: i.size,
                    raw: i.raw
                }), r("fileChange", i)) : g.warning("文件数量超过限制，请删除部分文件后重新上传") : g.error("请上传符合规则的资源格式");
            }, T = () => {
                _.value.clearFiles();
            }, fe = () => new Promise((i, F) => {
                const n = [], f = new FormData();
                f.append("source", ve), f.append("isCheck", "true"), f.append("isSlice", "true");
                let B = 0;
                a.value.forEach(t => {
                    t.status == 0 && (f.append("files", t.raw), n.push(t), B += t.size);
                }), B > 4294967296 ? g.error("总文件大小不得超过4GB") : n.length == 0 ? Ie.value ? r("submit", a.value) : g.error("无待上传文件") : he(f, t => {
                    const {
                        loaded: v,
                        total: e
                    } = t;
                    l.value = Number((90 * Number(v / e)).toFixed());
                }, new oe(function(t) {
                    P.value = t;
                })).then(t => {
                    const {
                        data: v
                    } = t;
                    v && v.length > 0 ? (n.forEach(e => {
                        const o = v.find(d => e.name == d.objectKey && e.size == d.fileSize);
                        !o || o.errorFlag != 0 && o.errorFlag != 2 ? e.status = 2 : (e.status = 1, 
                        e.eid = o.eid);
                    }), a.value.forEach(e => {
                        const o = n.find(d => d.uploadFileId == e.uploadFileId);
                        o && (e.status = o.status);
                    }), l.value = 100, setTimeout(() => {
                        l.value = 0;
                    }, 500), r("success", n), r("response", t), r("submit", a.value)) : (n.forEach(e => {
                        e.status = 2;
                    }), a.value.forEach(e => {
                        const o = n.find(d => d.uploadFileId == e.uploadFileId);
                        e.status = o.status;
                    }), x.from === "notice" && (g.error("文件上传失败"), l.value = 0, 
                    de())), i(t);
                }).catch(() => {
                    l.value = 0, _.value && T(), r("fileRemove"), r("error"), F();
                });
            }), ce = i => {
                l.value == 0 && (a.value.splice(i, 1), r("fileRemove"));
            }, de = () => {
                typeof P.value == "function" && P.value(), _.value && T(), a.value = [];
            };
            return xe({
                cancelUpload: de,
                submitFile: () => {
                    fe();
                },
                fileList: a,
                uploadPercentage: l
            }), (i, F) => {
                const n = Ce, f = Ne, B = Se, t = De, v = Ee;
                return p(), m("div", N, [ I(n, {
                    ref_key: "uploadRef",
                    ref: _,
                    accept: u(pe),
                    "auto-upload": !1,
                    disabled: u(l) != 0 || x.isDisabled,
                    "http-request": fe,
                    "on-change": Re,
                    "show-file-list": !1,
                    action: "#",
                    class: "upload-demo",
                    drag: "",
                    multiple: ""
                }, {
                    default: w(() => [ s("div", null, [ s("div", S, [ c.showUploadIcon ? (p(), 
                    m("img", D)) : R("", !0), E, c.innerBoxTip ? (p(), m("div", q, O(c.innerBoxTip), 1)) : R("", !0) ]) ]) ]),
                    _: 1
                }, 8, [ "accept", "disabled" ]), s("div", M, [ c.showTooltip ? (p(), 
                L(B, {
                    key: 0,
                    class: "item",
                    effect: "light",
                    placement: "bottom-start",
                    "popper-class": "file-upload-help-tip"
                }, {
                    content: w(() => [ s("span", null, O(u(Ae)), 1), G, s("span", {
                        innerHTML: u(be)
                    }, null, 8, Y) ]),
                    default: w(() => [ s("div", Z, [ s("div", Q, [ I(f, {
                        size: 18,
                        icon: "svg-icon:help"
                    }), j ]) ]) ]),
                    _: 1
                })) : R("", !0) ]), Ue(I(t, {
                    percentage: u(l),
                    "show-text": !1,
                    style: {
                        "margin-top": "10px"
                    }
                }, null, 8, [ "percentage" ]), [ [ Oe, u(l) != 0 ] ]), s("div", X, [ I(v, {
                    "max-height": "165px"
                }, {
                    default: w(() => [ I(Le, {
                        name: "el-fade-in-linear",
                        tag: "div"
                    }, {
                        default: w(() => [ (p(!0), m(ge, null, Te(u(a), (e, o) => {
                            return p(), m("div", {
                                key: e.uploadFileId,
                                class: C([ {
                                    error: e.status == 2
                                }, "file-list-item" ])
                            }, [ s("div", W, [ s("div", K, [ s("img", {
                                src: (d = e.fileSuffix, new URL(Object.assign({
                                    "../../assets/imgs/file/file_ACT.png": Ze,
                                    "../../assets/imgs/file/file_BMP.png": Qe,
                                    "../../assets/imgs/file/file_DOC.png": je,
                                    "../../assets/imgs/file/file_DOCX.png": Xe,
                                    "../../assets/imgs/file/file_GDS.png": We,
                                    "../../assets/imgs/file/file_GIF.png": Ke,
                                    "../../assets/imgs/file/file_HTML.png": He,
                                    "../../assets/imgs/file/file_JPEG.png": Ve,
                                    "../../assets/imgs/file/file_JPG.png": Je,
                                    "../../assets/imgs/file/file_MD.png": $e,
                                    "../../assets/imgs/file/file_MP3.png": es,
                                    "../../assets/imgs/file/file_MP4.png": ss,
                                    "../../assets/imgs/file/file_OGG.png": as,
                                    "../../assets/imgs/file/file_OTHERS.png": ls,
                                    "../../assets/imgs/file/file_PDF.png": is,
                                    "../../assets/imgs/file/file_PNG.png": ts,
                                    "../../assets/imgs/file/file_PPT.png": ns,
                                    "../../assets/imgs/file/file_PPTX.png": os,
                                    "../../assets/imgs/file/file_PROJECT.png": ps,
                                    "../../assets/imgs/file/file_RAR.png": rs,
                                    "../../assets/imgs/file/file_TXT.png": us,
                                    "../../assets/imgs/file/file_XLS.png": fs,
                                    "../../assets/imgs/file/file_XLSX.png": cs,
                                    "../../assets/imgs/file/file_ZIP.png": ds,
                                    "../../assets/imgs/file/file_other.png": ms,
                                    "../../assets/imgs/file/file_卷.png": gs,
                                    "../../assets/imgs/file/file_题.png": vs
                                })[`../../assets/imgs/file/file_${d}.png`], self.location)),
                                alt: "",
                                style: {
                                    width: "32px"
                                }
                            }, null, 8, H) ]), s("div", V, [ s("span", {
                                title: e.name,
                                class: "file-name"
                            }, O(e.name), 9, J), s("span", $, O(u(hs)(e.size)), 1) ]) ]), s("div", ee, [ s("div", se, [ e.status == 0 ? (p(), 
                            m("span", ae, "待上传")) : e.status == 1 ? (p(), m("span", le, "上传成功")) : (p(), 
                            m("span", ie, "上传失败")) ]), s("div", te, [ e.status == 2 ? (p(), 
                            L(f, {
                                key: 0,
                                size: 20,
                                icon: "svg-icon:file_refresh",
                                style: {
                                    cursor: "pointer"
                                },
                                onClick: me => (h => {
                                    const b = new FormData();
                                    b.append("source", ve), b.append("isCheck", "true"), 
                                    b.append("isSlice", "true"), b.append("files", a.value[h].raw), 
                                    he(b, y => {
                                        const {
                                            loaded: A,
                                            total: U
                                        } = y;
                                        l.value = Number((100 * Number(A / U)).toFixed());
                                    }, new oe(function(y) {
                                        P.value = y;
                                    })).then(y => {
                                        const {
                                            data: A
                                        } = y;
                                        if (A && A.length > 0) {
                                            const U = A[0];
                                            U.errorFlag == 0 || U.errorFlag == 2 ? (a.value[h].status = 1, 
                                            a.value[h].eid = 1) : a.value[h].status = 2, 
                                            l.value = 0, r("success", [ a.value[h] ]), 
                                            r("response", y);
                                        }
                                    }).catch(() => {
                                        l.value = 0, _.value && T(), r("fileRemove"), 
                                        r("error"), a.value[h].status = 2;
                                    });
                                })(o)
                            }, null, 8, [ "onClick" ])) : R("", !0) ]), s("div", ne, [ u(ke) ? (p(), 
                            m(ge, {
                                key: 0
                            }, [ [ 0, 2 ].includes(e.status) ? (p(), L(f, {
                                key: 0,
                                class: C({
                                    disabled: u(l) != 0
                                }),
                                size: 20,
                                icon: "svg-icon:file_close",
                                style: {
                                    cursor: "pointer"
                                },
                                onClick: me => ce(o)
                            }, null, 8, [ "class", "onClick" ])) : R("", !0) ], 64)) : (p(), 
                            L(f, {
                                key: 1,
                                size: 20,
                                icon: "svg-icon:file_close",
                                class: C({
                                    disabled: u(l) != 0
                                }),
                                style: {
                                    cursor: "pointer"
                                },
                                onClick: me => ce(o)
                            }, null, 8, [ "class", "onClick" ])) ]) ]) ], 2);
                            var d;
                        }), 128)) ]),
                        _: 1
                    }) ]),
                    _: 1
                }) ]) ]);
            };
        }
    }), [ [ "__scopeId", "data-v-a6e22c10" ] ]);
});

export {
    ye as _,
    bs as __tla
};