import {
    _ as ea,
    __tla as sa
} from "./index-71666e05.js";

import {
    T as la,
    e as S,
    h as _a,
    r as e,
    p as oa,
    U as V,
    f as na,
    j as ca,
    o,
    c as i,
    a as s,
    t as a,
    k as c,
    v as y,
    B as n,
    F as Nt,
    y as Ut,
    A as Bt,
    H as z,
    l as h,
    C as I,
    D as v,
    z as ia,
    m as D,
    ak as ma,
    K as ua,
    _ as pa,
    Y as fa,
    J as ya,
    R as ha,
    S as da,
    __tla as va
} from "./index-6c08ea4c.js";

import {
    _ as ba,
    __tla as Ca
} from "./index-1024512a.js";

import {
    __tla as ka
} from "./dict-c5825220.js";

import {
    b as ga,
    __tla as Ta
} from "./index-9567cbf6.js";

import Sa, {
    __tla as Ia
} from "./libraryPreview-b159731a.js";

import {
    f as Ft,
    __tla as wa
} from "./formatTime-de6f1520.js";

import {
    z as Aa,
    A as xa,
    e as La,
    B as Pa,
    x as Va,
    __tla as za
} from "./assignmentAndAssessment-58199f67.js";

import Da, {
    __tla as Ra
} from "./answerPaper-86c6929e.js";

import Na, {
    __tla as Ua
} from "./paperMarking-42b2a162.js";

import {
    _ as Ba
} from "./_plugin-vue_export-helper-1b428a4d.js";

import "./tree-05ea8e09.js";

import {
    __tla as Fa
} from "./DeptTag-1be092ce.js";

import {
    __tla as Ha
} from "./index-ef4d146e.js";

import {
    __tla as ja
} from "./el-drawer-fca4d971.js";

import {
    __tla as Ja
} from "./DictTag.vue_vue_type_script_lang-bb90acfe.js";

import "./color-a8b4eb58.js";

import {
    __tla as Qa
} from "./largeQuestionPreview-0d03e5d2.js";

import {
    __tla as Ea
} from "./questionPreview-3c0f3206.js";

import {
    __tla as Ka
} from "./type1-bb9ab50e.js";

import {
    __tla as Ya
} from "./type2-f7593207.js";

import {
    __tla as qa
} from "./type3-f0157d42.js";

import {
    __tla as Ga
} from "./type4-e194cfc5.js";

import {
    __tla as Ma
} from "./type5-5cfc2694.js";

import {
    __tla as Oa
} from "./type6-f24b6333.js";

import {
    __tla as Wa
} from "./type7-6a71ebde.js";

import {
    __tla as Xa
} from "./video-1d0dc730.js";

import {
    __tla as Za
} from "./file-e038b35d.js";

import {
    __tla as $a
} from "./type20-1bb6de92.js";

import {
    __tla as tr
} from "./type30-1635403c.js";

import {
    __tla as ar
} from "./myQuestionBank-a9dcc9db.js";

import {
    __tla as rr
} from "./chooseTags-11285796.js";

import {
    __tla as er
} from "./index-5adb716b.js";

import {
    __tla as sr
} from "./questionBank-6fe58de9.js";

import {
    __tla as lr
} from "./Editor.vue_vue_type_style_index_1_scoped_83b80ee8_lang-964690b9.js";

import {
    __tla as _r
} from "./style.css_vue_type_style_index_0_src_true_lang-90967dd2.js";

import "./editEditor.vue_vue_type_style_index_0_scoped_bf777343_lang-f0d79ba2.js";

import {
    __tla as or
} from "./index-c4ca0ced.js";

import {
    __tla as nr
} from "./index-993301ca.js";

import {
    __tla as cr
} from "./viewDatabase.vue_vue_type_script_setup_true_lang-a51e8548.js";

import {
    __tla as ir
} from "./sqlDetail-6033fcff.js";

import {
    __tla as mr
} from "./selectCourseResourcePackageQuestion.vue_vue_type_style_index_0_scoped_270afb37_lang-ab43f27d.js";

import {
    __tla as ur
} from "./questionItem-783db515.js";

import {
    __tla as pr
} from "./type1-dcece559.js";

import {
    __tla as fr
} from "./type2-a6a0182d.js";

import {
    __tla as yr
} from "./type3-5f949f9d.js";

import {
    __tla as hr
} from "./type5-0bd437b5.js";

import {
    __tla as dr
} from "./editEditor-a03e6696.js";

import {
    __tla as vr
} from "./Editor-ef737d2a.js";

import {
    __tla as br
} from "./type4-7ca4a753.js";

import {
    __tla as Cr
} from "./type6-9e74ce48.js";

import {
    __tla as kr
} from "./type7-37922e10.js";

import {
    __tla as gr
} from "./type20-9799eb41.js";

import {
    __tla as Tr
} from "./type30-2996afb1.js";

import {
    __tla as Sr
} from "./sqlDetail-47f64ae5.js";

import {
    __tla as Ir
} from "./largeQuestionPreview-1a10d1df.js";

import {
    __tla as wr
} from "./largeQuestionPreview-4cf8d32b.js";

import {
    __tla as Ar
} from "./type10-3a7bc4b8.js";

import {
    __tla as xr
} from "./type1-d1c988fe.js";

import {
    __tla as Lr
} from "./type2-939c8380.js";

import {
    __tla as Pr
} from "./type3-88dc6364.js";

import {
    __tla as Vr
} from "./type4-a9d5770c.js";

import {
    __tla as zr
} from "./type5-eee3ae6c.js";

import "./keyboardDisable-3c8e0d58.js";

import {
    __tla as Dr
} from "./type6-c80fcdf9.js";

import {
    __tla as Rr
} from "./type7-52b282a4.js";

import {
    __tla as Nr
} from "./type20-d132236e.js";

import {
    __tla as Ur
} from "./type30-d500a30b.js";

import "./el-collapse-transition-4ed993c7.js";

import {
    __tla as Br
} from "./markCounterByQuestion-eb786129.js";

let Ht, Fr = Promise.all([ (() => {
    try {
        return sa;
    } catch {}
})(), (() => {
    try {
        return va;
    } catch {}
})(), (() => {
    try {
        return Ca;
    } catch {}
})(), (() => {
    try {
        return ka;
    } catch {}
})(), (() => {
    try {
        return Ta;
    } catch {}
})(), (() => {
    try {
        return Ia;
    } catch {}
})(), (() => {
    try {
        return wa;
    } catch {}
})(), (() => {
    try {
        return za;
    } catch {}
})(), (() => {
    try {
        return Ra;
    } catch {}
})(), (() => {
    try {
        return Ua;
    } catch {}
})(), (() => {
    try {
        return Fa;
    } catch {}
})(), (() => {
    try {
        return Ha;
    } catch {}
})(), (() => {
    try {
        return ja;
    } catch {}
})(), (() => {
    try {
        return Ja;
    } catch {}
})(), (() => {
    try {
        return Qa;
    } catch {}
})(), (() => {
    try {
        return Ea;
    } catch {}
})(), (() => {
    try {
        return Ka;
    } catch {}
})(), (() => {
    try {
        return Ya;
    } catch {}
})(), (() => {
    try {
        return qa;
    } catch {}
})(), (() => {
    try {
        return Ga;
    } catch {}
})(), (() => {
    try {
        return Ma;
    } catch {}
})(), (() => {
    try {
        return Oa;
    } catch {}
})(), (() => {
    try {
        return Wa;
    } catch {}
})(), (() => {
    try {
        return Xa;
    } catch {}
})(), (() => {
    try {
        return Za;
    } catch {}
})(), (() => {
    try {
        return $a;
    } catch {}
})(), (() => {
    try {
        return tr;
    } catch {}
})(), (() => {
    try {
        return ar;
    } catch {}
})(), (() => {
    try {
        return rr;
    } catch {}
})(), (() => {
    try {
        return er;
    } catch {}
})(), (() => {
    try {
        return sr;
    } catch {}
})(), (() => {
    try {
        return lr;
    } catch {}
})(), (() => {
    try {
        return _r;
    } catch {}
})(), (() => {
    try {
        return or;
    } catch {}
})(), (() => {
    try {
        return nr;
    } catch {}
})(), (() => {
    try {
        return cr;
    } catch {}
})(), (() => {
    try {
        return ir;
    } catch {}
})(), (() => {
    try {
        return mr;
    } catch {}
})(), (() => {
    try {
        return ur;
    } catch {}
})(), (() => {
    try {
        return pr;
    } catch {}
})(), (() => {
    try {
        return fr;
    } catch {}
})(), (() => {
    try {
        return yr;
    } catch {}
})(), (() => {
    try {
        return hr;
    } catch {}
})(), (() => {
    try {
        return dr;
    } catch {}
})(), (() => {
    try {
        return vr;
    } catch {}
})(), (() => {
    try {
        return br;
    } catch {}
})(), (() => {
    try {
        return Cr;
    } catch {}
})(), (() => {
    try {
        return kr;
    } catch {}
})(), (() => {
    try {
        return gr;
    } catch {}
})(), (() => {
    try {
        return Tr;
    } catch {}
})(), (() => {
    try {
        return Sr;
    } catch {}
})(), (() => {
    try {
        return Ir;
    } catch {}
})(), (() => {
    try {
        return wr;
    } catch {}
})(), (() => {
    try {
        return Ar;
    } catch {}
})(), (() => {
    try {
        return xr;
    } catch {}
})(), (() => {
    try {
        return Lr;
    } catch {}
})(), (() => {
    try {
        return Pr;
    } catch {}
})(), (() => {
    try {
        return Vr;
    } catch {}
})(), (() => {
    try {
        return zr;
    } catch {}
})(), (() => {
    try {
        return Dr;
    } catch {}
})(), (() => {
    try {
        return Rr;
    } catch {}
})(), (() => {
    try {
        return Nr;
    } catch {}
})(), (() => {
    try {
        return Ur;
    } catch {}
})(), (() => {
    try {
        return Br;
    } catch {}
})() ]).then(async () => {
    let u, R, N, U, B, F, H, j, J, Q, E, K, Y, q, G, M, O, W, X, Z, $, tt, at, rt, et, st, lt, _t, ot, nt, ct, it, mt, ut, pt, ft, yt;
    u = b => (ha("data-v-2ad19fcb"), b = b(), da(), b), R = {
        class: "packAssignmentContainer"
    }, N = {
        key: 0
    }, U = {
        class: "conditionContainer"
    }, B = {
        class: "right recordingContainer"
    }, F = {
        class: "feature ml10"
    }, H = {
        class: "mr10"
    }, j = {
        class: "compound_container"
    }, J = {
        class: "first_container"
    }, Q = {
        class: "first_container_left"
    }, E = [ "onClick" ], K = {
        class: "neu-ellipse",
        style: {
            width: "40px",
            display: "inline-block",
            "text-align": "center"
        }
    }, Y = {
        class: "first_container_right"
    }, q = u(() => a("span", {
        class: "countLabel"
    }, "剩余作答次数：", -1)), G = {
        class: "countValue"
    }, M = u(() => a("br", null, null, -1)), O = {
        class: "second_container"
    }, W = {
        class: "cardInfo"
    }, X = {
        class: "infoItem"
    }, Z = u(() => a("span", {
        class: "info-label",
        style: {
            width: "38px"
        }
    }, "状态：", -1)), $ = {
        class: "info-value",
        style: {
            width: "120px"
        }
    }, tt = {
        class: "ml5"
    }, at = {
        class: "infoItem"
    }, rt = u(() => a("span", {
        class: "info-label"
    }, "公布答案：", -1)), et = {
        class: "info-value",
        style: {
            width: "90px"
        }
    }, st = {
        class: "infoItem"
    }, lt = u(() => a("span", {
        class: "info-label"
    }, "公布成绩：", -1)), _t = {
        class: "info-value",
        style: {
            width: "90px"
        }
    }, ot = {
        key: 0
    }, nt = {
        class: "infoItem"
    }, ct = u(() => a("span", {
        class: "info-label"
    }, "开始时间：", -1)), it = {
        class: "info-value"
    }, mt = {
        class: "infoItem"
    }, ut = u(() => a("span", {
        class: "info-label"
    }, "截止时间：", -1)), pt = {
        class: "info-value"
    }, ft = {
        class: "operation"
    }, yt = {
        key: 1,
        class: "page-empty"
    }, Ht = Ba({
        __name: "neuCourseAssignment",
        setup(b) {
            const w = la();
            S(() => w.params.id);
            const jt = l => "", Jt = S(() => _a().isSupAdmin), ht = e({}), d = e(!1), C = e(!1), Qt = oa();
            e({}), e(null);
            const Et = e(null), dt = e(!1), Kt = e([]), vt = e([]), bt = e(null), k = e({}), A = V({
                isAnswerAndAnalysisShow: !0,
                isScoreShow: !0
            }), Ct = e(""), x = e({}), Yt = S(() => w.params.classId), kt = S(() => w.params.teachCourseId);
            V({
                flag: []
            });
            const qt = e([ {
                label: "未发布",
                value: 1
            }, {
                label: "未开始",
                value: 2
            }, {
                label: "进行中",
                value: 3
            }, {
                label: "已截止",
                value: 4
            } ]), Gt = e([ {
                label: "未作答",
                value: 0
            }, {
                label: "作答中",
                value: 1
            }, {
                label: "已作答",
                value: 2
            } ]), Mt = e([ {
                label: "作业状态",
                key: "studyStatus",
                type: "list",
                options: Gt.value
            }, {
                label: "排序方式",
                key: "sortType",
                type: "list",
                default: 1,
                clearable: 0,
                options: [ {
                    label: "添加时间正序",
                    value: 1
                }, {
                    label: "添加时间降序",
                    value: 2
                }, {
                    label: "截止时间正序",
                    value: 3
                }, {
                    label: "截止时间降序",
                    value: 4
                } ]
            } ]), f = V({
                teachTags: [],
                name: "",
                isAssess: 0,
                studyStatus: "",
                sortType: 1
            }), L = e(), gt = e([]);
            function Ot(l) {
                f.name = l.name || "", f.teachTags = l.teachTags || [], f.studyStatus = l.studyStatus || "", 
                f.sortType = l.sortType || 1, g();
            }
            const g = (l = !1) => {
                let r = {
                    teachCourseId: kt.value,
                    currentClassId: Yt.value,
                    sourceType: 3,
                    dirIds: null,
                    ...f
                };
                xa(r).then(_ => {
                    Zt(), gt.value = _.resList || [], Kt.value = [], l && _.resList && _.resList.length > 0 && (dt.value = !0), 
                    L.value = [ _.publishNum || 0, _.resNum || 0, Number(_.completionProgress.replace(/%/g, "")) ];
                });
            }, Wt = l => {
                let r = {
                    testId: l.testId,
                    candidateId: l.candidateId,
                    historyId: l.id,
                    objectiveQuestionFlag: !0
                };
                Va(r).then(_ => {
                    A.isAnswerAndAnalysisShow = _.isAnswerAndAnalysisShow || !1, 
                    A.isScoreShow = _.isScoreShow || !1, d.value = !0, Ct.value = "4", 
                    x.value = {
                        ..._,
                        ...r
                    };
                });
            }, Xt = () => {
                d.value = !1, x.value = {};
            }, Zt = () => {
                ga({
                    teachCourseId: kt.value
                }).then(l => {
                    vt.value = l;
                });
            }, Tt = l => {
                var r;
                return ((r = vt.value.find(_ => _.id === l)) == null ? void 0 : r.tagName) || "";
            };
            return na(() => {
                g(!0);
            }), (l, r) => {
                const _ = ba, $t = ma, T = ua, St = pa, ta = fa, It = ya, aa = ea, wt = ca("show-tip");
                return o(), i("div", R, [ s(dt) ? (o(), i("div", N, [ a("div", U, [ c(_, {
                    ref: "ComSearchRef",
                    borderBox: !0,
                    keywordsInfo: {
                        label: "作业名称/作业标签",
                        key: "name"
                    },
                    searchList: s(Mt),
                    class: "left",
                    onHandleSearch: Ot
                }, null, 8, [ "searchList" ]), a("div", B, [ a("span", F, [ y("仅查看计入考核作业"), c($t, {
                    class: "ml5",
                    size: "small",
                    modelValue: s(f).isAssess,
                    "onUpdate:modelValue": r[0] || (r[0] = t => s(f).isAssess = t),
                    "active-value": 1,
                    "inactive-value": 0,
                    onChange: r[1] || (r[1] = t => g())
                }, null, 8, [ "modelValue" ]) ]), a("span", H, "已完成" + n(s(L)[0]) + "/" + n(s(L)[1]), 1) ]) ]), a("div", {
                    ref_key: "cardContainerRef",
                    ref: Et,
                    class: "card_container"
                }, [ (o(!0), i(Nt, null, Ut(s(gt), (t, ra) => {
                    var At, xt, Lt, Pt, Vt, zt, Dt;
                    return o(), i("div", {
                        key: t.id + ra,
                        class: "card_item"
                    }, [ a("div", j, [ a("div", J, [ a("div", Q, [ Bt((o(), i("span", {
                        class: "card_title neu-ellipse",
                        onClick: z(m => {
                            Aa(t.resCtl.id).then(p => {
                                ht.value = p, C.value = !0;
                            });
                        }, [ "stop" ])
                    }, [ c(T, {
                        content: t.name || "",
                        placement: "top"
                    }, {
                        default: h(() => [ y(n(t.name || ""), 1) ]),
                        _: 2
                    }, 1032, [ "content" ]) ], 8, E)), [ [ wt ] ]), (o(!0), i(Nt, null, Ut(t.tagList, m => (o(), 
                    i("span", {
                        class: "tag-item",
                        key: m
                    }, [ Bt((o(), i("span", K, [ c(T, {
                        content: Tt(m.tagId),
                        placement: "top"
                    }, {
                        default: h(() => [ y(n(Tt(m.tagId)), 1) ]),
                        _: 2
                    }, 1032, [ "content" ]) ])), [ [ wt ] ]) ]))), 128)), s(Jt) || t.resIsNeu !== 1 ? v("", !0) : (o(), 
                    I(St, {
                        key: 0,
                        class: "ml5",
                        icon: "svg-icon:icon-neuResTag",
                        size: 28
                    })), t.isAssess !== 0 ? (o(), I(T, {
                        key: 1,
                        content: "计入考核点",
                        placement: "top"
                    }, {
                        default: h(() => [ c(St, {
                            class: "ml5",
                            icon: "svg-icon:icon-checkTag",
                            size: 18
                        }) ]),
                        _: 1
                    })) : v("", !0) ]), a("div", Y, [ a("span", null, [ q, a("span", G, n(((At = t.resCtl) == null ? void 0 : At.multiTryTimes) ?? "0"), 1) ]), c(T, {
                        effect: "dark",
                        placement: "top",
                        enterable: !1,
                        disabled: t.status === 1
                    }, {
                        content: h(() => [ y("开始时间：" + n(t.resCtl.openTimeStr), 1), M, y("截止时间：" + n(t.resCtl.closeTimeStr || "无"), 1) ]),
                        default: h(() => {
                            var m;
                            return [ a("span", {
                                class: ia([ "stateLabel", {
                                    stateLabel1: t.status === 1,
                                    stateLabel2: t.status === 3
                                } ])
                            }, n((m = s(qt).find(p => p.value === t.status)) == null ? void 0 : m.label), 3) ];
                        }),
                        _: 2
                    }, 1032, [ "disabled" ]) ]) ]), a("div", O, [ a("div", W, [ a("span", X, [ Z, a("span", $, [ c(ta, {
                        style: {
                            display: "inline-block",
                            width: "50px"
                        },
                        percentage: t.studyStatus === 1 ? 50 : t.studyStatus === 2 ? 100 : 0,
                        color: "#63D90A",
                        format: jt
                    }, null, 8, [ "percentage" ]), a("span", tt, n(t.studyStatus === 1 ? "作答中" : t.studyStatus === 2 ? "已作答" : "未作答"), 1) ]) ]), a("span", at, [ rt, a("span", et, n(((xt = t.resCtl) == null ? void 0 : xt.answerPublishType) === "1" ? "截止后自动公布" : ((Lt = t.resCtl) == null ? void 0 : Lt.answerPublishType) === "2" ? "提交后自动公布" : "--"), 1) ]), a("span", st, [ lt, a("span", _t, n(((Pt = t.resCtl) == null ? void 0 : Pt.scorePublishType) === "2" ? "截止后自动公布" : ((Vt = t.resCtl) == null ? void 0 : Vt.scorePublishType) === "3" ? "提交后自动公布" : ((zt = t.resCtl) == null ? void 0 : zt.scorePublishType) === "1" ? "教师手动公布" : "--"), 1) ]), t.status === 1 ? (o(), 
                    i("span", ot, [ a("span", nt, [ ct, a("span", it, n(s(Ft)(t.openTimeStr)), 1) ]), a("span", mt, [ ut, a("span", pt, n(s(Ft)(t.closeTimeStr)), 1) ]) ])) : v("", !0) ]), a("span", ft, [ t.studyStatus === 2 ? (o(), 
                    I(It, {
                        key: 0,
                        size: "small",
                        onClick: z(m => (p => {
                            let P = {
                                sort: 1,
                                testId: p.resCtl.id
                            };
                            Pa(P).then(Rt => {
                                Rt.length > 0 ? Wt(Rt[0]) : Qt.error("暂无提交记录");
                            });
                        })(t), [ "stop" ])
                    }, {
                        default: h(() => [ y("详情") ]),
                        _: 2
                    }, 1032, [ "onClick" ])) : v("", !0), (Dt = t.resCtl) != null && Dt.multiTryTimes && t.resCtl.multiTryTimes !== "0" && t.status === 3 ? (o(), 
                    I(It, {
                        key: 1,
                        type: "primary",
                        size: "small",
                        onClick: z(m => {
                            var p;
                            La((p = t).resCtl.id).then(P => {
                                k.value = {
                                    ...P,
                                    testId: p.resCtl.id
                                }, bt.value.handleStartTheExam();
                            });
                        }, [ "stop" ])
                    }, {
                        default: h(() => [ y("去作答") ]),
                        _: 2
                    }, 1032, [ "onClick" ])) : v("", !0) ]) ]) ]) ]);
                }), 128)) ], 512) ])) : (o(), i("div", yt, [ c(aa, {
                    msg: "暂无资源",
                    type: "resource"
                }) ])), c(Sa, {
                    modelValue: s(C),
                    "onUpdate:modelValue": r[2] || (r[2] = t => D(C) ? C.value = t : null),
                    form: s(ht),
                    "is-edit": !1,
                    "is-stu-business": !0
                }, null, 8, [ "modelValue", "form" ]), c(Da, {
                    ref_key: "answerPaperRef",
                    ref: bt,
                    form: s(k),
                    "onUpdate:form": r[3] || (r[3] = t => D(k) ? k.value = t : null),
                    onRefresh: g
                }, null, 8, [ "form" ]), c(Na, {
                    modelValue: s(d),
                    "onUpdate:modelValue": r[4] || (r[4] = t => D(d) ? d.value = t : null),
                    stuDetail: s(A),
                    markType: s(Ct),
                    form: s(x),
                    onHandleBack: Xt
                }, null, 8, [ "modelValue", "stuDetail", "markType", "form" ]) ]);
            };
        }
    }, [ [ "__scopeId", "data-v-2ad19fcb" ] ]);
});

export {
    Fr as __tla,
    Ht as default
};