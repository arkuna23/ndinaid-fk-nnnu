import {
    _ as bt,
    __tla as kt
} from "./index.vue_vue_type_script_setup_true_name_ResourcePreview_lang-62b68757.js";

import {
    _ as It,
    __tla as Tt
} from "./index-e2094cc0.js";

import {
    u as Ct,
    T as St,
    r as p,
    a0 as wt,
    p as W,
    U as ue,
    e as K,
    b9 as xt,
    bE as Pt,
    f as At,
    bB as Rt,
    j as Nt,
    o as c,
    c as b,
    t as h,
    a as n,
    k as o,
    l as i,
    F as E,
    y as Y,
    A,
    v as m,
    B as T,
    C as f,
    dX as xe,
    c5 as Pe,
    D as C,
    z as Dt,
    H as pe,
    x as Lt,
    m as Ot,
    bG as jt,
    bo as Da,
    _ as $t,
    aQ as Vt,
    J as Gt,
    ab as Bt,
    ac as Et,
    ak as Ft,
    K as qt,
    L as Ht,
    Z as Ut,
    R as zt,
    S as Mt,
    n as V,
    E as La,
    __tla as Qt
} from "./index-6c08ea4c.js";

import {
    _ as Jt,
    __tla as Xt
} from "./index-81dbd56d.js";

import {
    a as Zt,
    N as Wt,
    __tla as Kt
} from "./index-9567cbf6.js";

import {
    g as Yt,
    c as er,
    b as ar,
    d as tr,
    q as rr,
    f as lr,
    u as sr,
    h as nr,
    __tla as or
} from "./catalog-6352045f.js";

import cr, {
    __tla as ir
} from "./addTeach-52c31c64.js";

import {
    i as ur,
    __tla as pr
} from "./importTeach-ad550a44.js";

import dr, {
    __tla as mr
} from "./referenceGraph-78027183.js";

import _r, {
    __tla as hr
} from "./referenceTemplate-74d5269d.js";

import yr, {
    __tla as fr
} from "./addResourceDialog-18001587.js";

import vr, {
    __tla as gr
} from "./publishStuMaterial-aa5964b5.js";

import {
    g as br
} from "./file.data-a1554fbb.js";

import {
    t as Oa,
    h as kr,
    s as ja,
    __tla as Ir
} from "./file-e038b35d.js";

import Tr, {
    __tla as Cr
} from "./editorResourceNameDialog-58d4b282.js";

import Sr, {
    __tla as wr
} from "./resourceSetting-939e80bf.js";

import xr, {
    __tla as Pr
} from "./resourceStatistics-7bed8335.js";

import {
    c as Ar,
    k as Rr,
    f as Nr,
    p as Dr,
    r as Lr,
    b as de,
    i as $a,
    d as Ae,
    h as Va,
    j as Or,
    __tla as jr
} from "./assignmentAndAssessment-58199f67.js";

import $r, {
    __tla as Vr
} from "./addCourseResSetting-952c998b.js";

import Gr, {
    __tla as Br
} from "./profileSettingService-4ef1fb94.js";

import Er, {
    __tla as Fr
} from "./editPaper-059d11d7.js";

import qr, {
    __tla as Hr
} from "./publishSettingService-4a05c2f5.js";

import Ur, {
    __tla as zr
} from "./unpublish-4bbcd174.js";

import Mr, {
    __tla as Qr
} from "./libraryPreview-b159731a.js";

import Jr, {
    __tla as Xr
} from "./publish-dialog-39dfb2f2.js";

import Zr, {
    __tla as Wr
} from "./index-74ae225b.js";

import {
    t as Re
} from "./formatter-7ecf379a.js";

import Kr, {
    __tla as Yr
} from "./index-a428d9a8.js";

import {
    g as el,
    __tla as al
} from "./index-c31c99eb.js";

import tl, {
    __tla as rl
} from "./PreheatDialog-c9fd5fca.js";

import {
    _ as ll
} from "./_plugin-vue_export-helper-1b428a4d.js";

import {
    a as sl,
    b as nl,
    E as ol,
    __tla as cl
} from "./index-5adb716b.js";

import {
    __tla as il
} from "./index.es-14d10e28.js";

import {
    __tla as ul
} from "./project-file-a2b4fd07.js";

import {
    __tla as pl
} from "./index-13c88727.js";

import "./tree-05ea8e09.js";

import {
    __tla as dl
} from "./index-ef4d146e.js";

import {
    __tla as ml
} from "./index-cfc63ccf.js";

import {
    __tla as _l
} from "./errorDialog-2a24db66.js";

import {
    __tla as hl
} from "./index-993301ca.js";

import {
    __tla as yl
} from "./index-8b41572c.js";

import {
    __tla as fl
} from "./fqa-b0babe7d.js";

import {
    __tla as vl
} from "./formatTime-de6f1520.js";

import "./referenceTemplateStep2-f50532f2.js";

import {
    __tla as gl
} from "./index-c4ca0ced.js";

import {
    __tla as bl
} from "./index-1024512a.js";

import {
    __tla as kl
} from "./DeptTag-1be092ce.js";

import "./step1Banner-550d8194.js";

import "./file_HTML-65451e1b.js";

import "./file.data-794ea5d0.js";

import "./file_题-23882218.js";

import {
    __tla as Il
} from "./library-c2ecc5ca.js";

import "./step2Banner-4d214de6.js";

import "./teachingResourceIcon7-1c1a8557.js";

import "./download-20922b56.js";

import {
    __tla as Tl
} from "./statisticsEchart-ca7a32b4.js";

import "./index-eb0ca811.js";

import "./install-67fb146c.js";

import "./install-0c30d2d2.js";

import {
    __tla as Cl
} from "./statisticsList-b5f8826f.js";

import {
    __tla as Sl
} from "./index-acea4f4f.js";

import {
    __tla as wl
} from "./selectPaper-b73f45f0.js";

import {
    __tla as xl
} from "./examPaperLibrary-5d47fe72.js";

import {
    __tla as Pl
} from "./el-drawer-fca4d971.js";

import {
    __tla as Al
} from "./DictTag.vue_vue_type_script_lang-bb90acfe.js";

import "./color-a8b4eb58.js";

import {
    __tla as Rl
} from "./dict-c5825220.js";

import {
    __tla as Nl
} from "./largeQuestionPreview-0d03e5d2.js";

import {
    __tla as Dl
} from "./questionPreview-3c0f3206.js";

import {
    __tla as Ll
} from "./type1-bb9ab50e.js";

import {
    __tla as Ol
} from "./type2-f7593207.js";

import {
    __tla as jl
} from "./type3-f0157d42.js";

import {
    __tla as $l
} from "./type4-e194cfc5.js";

import {
    __tla as Vl
} from "./type5-5cfc2694.js";

import {
    __tla as Gl
} from "./type6-f24b6333.js";

import {
    __tla as Bl
} from "./type7-6a71ebde.js";

import {
    __tla as El
} from "./video-1d0dc730.js";

import {
    __tla as Fl
} from "./type20-1bb6de92.js";

import {
    __tla as ql
} from "./type30-1635403c.js";

import {
    __tla as Hl
} from "./myQuestionBank-a9dcc9db.js";

import {
    __tla as Ul
} from "./chooseTags-11285796.js";

import {
    __tla as zl
} from "./questionBank-6fe58de9.js";

import {
    __tla as Ml
} from "./Editor.vue_vue_type_style_index_1_scoped_83b80ee8_lang-964690b9.js";

import {
    __tla as Ql
} from "./style.css_vue_type_style_index_0_src_true_lang-90967dd2.js";

import "./editEditor.vue_vue_type_style_index_0_scoped_bf777343_lang-f0d79ba2.js";

import {
    __tla as Jl
} from "./viewDatabase.vue_vue_type_script_setup_true_lang-a51e8548.js";

import {
    __tla as Xl
} from "./sqlDetail-6033fcff.js";

import {
    __tla as Zl
} from "./selectCourseResourcePackageQuestion.vue_vue_type_style_index_0_scoped_270afb37_lang-ab43f27d.js";

import {
    __tla as Wl
} from "./selectCourseResourcePackagePaper-57059c43.js";

import {
    __tla as Kl
} from "./profileSettingModule-a23a44b1.js";

import {
    __tla as Yl
} from "./publishSetting-0358033b.js";

import "./keyboardDisable-3c8e0d58.js";

import {
    __tla as es
} from "./manuallyGroupVolumes-6152476e.js";

import {
    __tla as as
} from "./randomService-761e9983.js";

import {
    __tla as ts
} from "./rulemaking-fae7d850.js";

import {
    __tla as rs
} from "./batchEntry-8004f6eb.js";

import {
    __tla as ls
} from "./intelligentEntry-adfd5635.js";

import {
    __tla as ss
} from "./largeQuestion-c60044ae.js";

import {
    __tla as ns
} from "./questionItems-cc403f96.js";

import {
    __tla as os
} from "./questionInfo-7ad6a9af.js";

import {
    __tla as cs
} from "./type1-81e690fe.js";

import {
    __tla as is
} from "./editEditor-a03e6696.js";

import {
    __tla as us
} from "./Editor-ef737d2a.js";

import {
    __tla as ps
} from "./type2-cee6fed1.js";

import {
    __tla as ds
} from "./type3-da6f6f46.js";

import {
    __tla as ms
} from "./type4-0f2e1cd1.js";

import {
    __tla as _s
} from "./type5-a6b47fc2.js";

import {
    __tla as hs
} from "./type6-9fcada99.js";

import {
    __tla as ys
} from "./type7-f25f20ee.js";

import {
    __tla as fs
} from "./type30-8bfa018d.js";

import {
    __tla as vs
} from "./sqlInfo-6616efed.js";

import {
    __tla as gs
} from "./type20-0744bc00.js";

import {
    __tla as bs
} from "./chooseQuestion-a0799ec7.js";

import {
    __tla as ks
} from "./selectQuestion-d00a026c.js";

import {
    __tla as Is
} from "./selectCourseResourcePackageQuestion-b7f0fe74.js";

import {
    __tla as Ts
} from "./setScore-5ccc198a.js";

import {
    __tla as Cs
} from "./project-51c056b9.js";

import {
    __tla as Ss
} from "./el-avatar-76960a98.js";

import {
    __tla as ws
} from "./project-user-445059df.js";

let Ga, xs = Promise.all([ (() => {
    try {
        return kt;
    } catch {}
})(), (() => {
    try {
        return Tt;
    } catch {}
})(), (() => {
    try {
        return Qt;
    } catch {}
})(), (() => {
    try {
        return Xt;
    } catch {}
})(), (() => {
    try {
        return Kt;
    } catch {}
})(), (() => {
    try {
        return or;
    } catch {}
})(), (() => {
    try {
        return ir;
    } catch {}
})(), (() => {
    try {
        return pr;
    } catch {}
})(), (() => {
    try {
        return mr;
    } catch {}
})(), (() => {
    try {
        return hr;
    } catch {}
})(), (() => {
    try {
        return fr;
    } catch {}
})(), (() => {
    try {
        return gr;
    } catch {}
})(), (() => {
    try {
        return Ir;
    } catch {}
})(), (() => {
    try {
        return Cr;
    } catch {}
})(), (() => {
    try {
        return wr;
    } catch {}
})(), (() => {
    try {
        return Pr;
    } catch {}
})(), (() => {
    try {
        return jr;
    } catch {}
})(), (() => {
    try {
        return Vr;
    } catch {}
})(), (() => {
    try {
        return Br;
    } catch {}
})(), (() => {
    try {
        return Fr;
    } catch {}
})(), (() => {
    try {
        return Hr;
    } catch {}
})(), (() => {
    try {
        return zr;
    } catch {}
})(), (() => {
    try {
        return Qr;
    } catch {}
})(), (() => {
    try {
        return Xr;
    } catch {}
})(), (() => {
    try {
        return Wr;
    } catch {}
})(), (() => {
    try {
        return Yr;
    } catch {}
})(), (() => {
    try {
        return al;
    } catch {}
})(), (() => {
    try {
        return rl;
    } catch {}
})(), (() => {
    try {
        return cl;
    } catch {}
})(), (() => {
    try {
        return il;
    } catch {}
})(), (() => {
    try {
        return ul;
    } catch {}
})(), (() => {
    try {
        return pl;
    } catch {}
})(), (() => {
    try {
        return dl;
    } catch {}
})(), (() => {
    try {
        return ml;
    } catch {}
})(), (() => {
    try {
        return _l;
    } catch {}
})(), (() => {
    try {
        return hl;
    } catch {}
})(), (() => {
    try {
        return yl;
    } catch {}
})(), (() => {
    try {
        return fl;
    } catch {}
})(), (() => {
    try {
        return vl;
    } catch {}
})(), (() => {
    try {
        return gl;
    } catch {}
})(), (() => {
    try {
        return bl;
    } catch {}
})(), (() => {
    try {
        return kl;
    } catch {}
})(), (() => {
    try {
        return Il;
    } catch {}
})(), (() => {
    try {
        return Tl;
    } catch {}
})(), (() => {
    try {
        return Cl;
    } catch {}
})(), (() => {
    try {
        return Sl;
    } catch {}
})(), (() => {
    try {
        return wl;
    } catch {}
})(), (() => {
    try {
        return xl;
    } catch {}
})(), (() => {
    try {
        return Pl;
    } catch {}
})(), (() => {
    try {
        return Al;
    } catch {}
})(), (() => {
    try {
        return Rl;
    } catch {}
})(), (() => {
    try {
        return Nl;
    } catch {}
})(), (() => {
    try {
        return Dl;
    } catch {}
})(), (() => {
    try {
        return Ll;
    } catch {}
})(), (() => {
    try {
        return Ol;
    } catch {}
})(), (() => {
    try {
        return jl;
    } catch {}
})(), (() => {
    try {
        return $l;
    } catch {}
})(), (() => {
    try {
        return Vl;
    } catch {}
})(), (() => {
    try {
        return Gl;
    } catch {}
})(), (() => {
    try {
        return Bl;
    } catch {}
})(), (() => {
    try {
        return El;
    } catch {}
})(), (() => {
    try {
        return Fl;
    } catch {}
})(), (() => {
    try {
        return ql;
    } catch {}
})(), (() => {
    try {
        return Hl;
    } catch {}
})(), (() => {
    try {
        return Ul;
    } catch {}
})(), (() => {
    try {
        return zl;
    } catch {}
})(), (() => {
    try {
        return Ml;
    } catch {}
})(), (() => {
    try {
        return Ql;
    } catch {}
})(), (() => {
    try {
        return Jl;
    } catch {}
})(), (() => {
    try {
        return Xl;
    } catch {}
})(), (() => {
    try {
        return Zl;
    } catch {}
})(), (() => {
    try {
        return Wl;
    } catch {}
})(), (() => {
    try {
        return Kl;
    } catch {}
})(), (() => {
    try {
        return Yl;
    } catch {}
})(), (() => {
    try {
        return es;
    } catch {}
})(), (() => {
    try {
        return as;
    } catch {}
})(), (() => {
    try {
        return ts;
    } catch {}
})(), (() => {
    try {
        return rs;
    } catch {}
})(), (() => {
    try {
        return ls;
    } catch {}
})(), (() => {
    try {
        return ss;
    } catch {}
})(), (() => {
    try {
        return ns;
    } catch {}
})(), (() => {
    try {
        return os;
    } catch {}
})(), (() => {
    try {
        return cs;
    } catch {}
})(), (() => {
    try {
        return is;
    } catch {}
})(), (() => {
    try {
        return us;
    } catch {}
})(), (() => {
    try {
        return ps;
    } catch {}
})(), (() => {
    try {
        return ds;
    } catch {}
})(), (() => {
    try {
        return ms;
    } catch {}
})(), (() => {
    try {
        return _s;
    } catch {}
})(), (() => {
    try {
        return hs;
    } catch {}
})(), (() => {
    try {
        return ys;
    } catch {}
})(), (() => {
    try {
        return fs;
    } catch {}
})(), (() => {
    try {
        return vs;
    } catch {}
})(), (() => {
    try {
        return gs;
    } catch {}
})(), (() => {
    try {
        return bs;
    } catch {}
})(), (() => {
    try {
        return ks;
    } catch {}
})(), (() => {
    try {
        return Is;
    } catch {}
})(), (() => {
    try {
        return Ts;
    } catch {}
})(), (() => {
    try {
        return Cs;
    } catch {}
})(), (() => {
    try {
        return Ss;
    } catch {}
})(), (() => {
    try {
        return ws;
    } catch {}
})() ]).then(async () => {
    let G, Ne, De, Le, Oe, je, $e, Ve, Ge, Be, Ee, Fe, qe, He, Ue, ze, Me, Qe, Je, Xe, Ze, We, Ke, Ye, ea, aa, ta, ra, la, sa, na, oa;
    G = Q => (zt("data-v-7bee5b38"), Q = Q(), Mt(), Q), Ne = {
        id: "jxmb",
        style: {
            padding: "20px 0 0"
        }
    }, De = {
        style: {
            padding: "0 20px"
        },
        class: "height_box"
    }, Le = {
        key: 0,
        class: "neu-no-data",
        style: {
            height: "500px"
        }
    }, Oe = G(() => h("p", {
        class: "py-4"
    }, "暂无数据", -1)), je = {
        key: 1,
        class: "content"
    }, $e = {
        style: {
            float: "right"
        }
    }, Ve = {
        class: "search-params"
    }, Ge = G(() => h("div", {
        style: {
            clear: "both"
        }
    }, null, -1)), Be = {
        class: "right",
        style: {
            display: "flex",
            "font-size": "12px",
            "align-items": "center",
            "margin-top": "8px"
        }
    }, Ee = {
        style: {
            color: "#333",
            "font-size": "12px",
            "line-height": "30px"
        }
    }, Fe = G(() => h("span", {
        style: {
            display: "inline-block",
            "margin-left": "30px"
        }
    }, "仅查看计入考核任务", -1)), qe = G(() => h("span", {
        style: {
            display: "inline-block",
            "margin-left": "30px"
        }
    }, "仅查看待批阅任务", -1)), He = {
        class: "content-tree"
    }, Ue = {
        class: "custom-node"
    }, ze = {
        class: "node-label"
    }, Me = [ "src" ], Qe = [ "onClick" ], Je = {
        key: 1,
        class: "em-class"
    }, Xe = {
        key: 2,
        class: "line"
    }, Ze = {
        key: 3,
        style: {
            display: "flex"
        },
        class: "ml-10px"
    }, We = {
        class: "class-detail"
    }, Ke = G(() => h("span", null, "开放时间：", -1)), Ye = G(() => h("span", null, "截止时间：", -1)), 
    ea = {
        key: 4,
        class: "distribute"
    }, aa = {
        key: 0,
        class: "node-details"
    }, ta = {
        class: "mr-26px"
    }, ra = {
        class: "mr-26px"
    }, la = {
        class: "distribute"
    }, sa = {
        key: 2
    }, na = {
        key: 3
    }, oa = {
        key: 4
    }, Ga = ll({
        __name: "catalog",
        props: {
            basicInformation: {
                type: Object,
                default: () => ({})
            }
        },
        emits: [ "isShowTipFun" ],
        setup(Q, {
            emit: Ba
        }) {
            const Ea = Q, R = Ct(), v = St();
            p(!1);
            const Fa = Ba, {
                basicInformation: qa
            } = wt(Ea), x = W(), Ha = p(!1), ca = p(null), me = p(null), ia = p(null), N = p(""), ee = p(""), ae = p({}), _e = p(""), te = p(!1), he = e => {
                let a = "", s = "";
                N.value = "", ee.value = "", ae.value = {};
                const u = {
                    referenceTemplate: () => {
                        a = "referenceTemplate", s = "引用目录模板", me.value.openStep1({
                            type: a,
                            title: s
                        });
                    },
                    referenceGraph: () => {
                        a = "referenceGraph", s = "知识图谱", ca.value.handleOpen({
                            type: a,
                            title: s
                        });
                    },
                    quickGenerate: () => {
                        a = "quickGenerate", J.value.handleOpen({
                            type: a,
                            title: "快速生成"
                        });
                    },
                    manualAdd: async () => {
                        a = "manualAdd", Ie.value = await ga(), s = "新建目录", J.value.handleOpen({
                            type: a,
                            title: s
                        });
                    },
                    batchImport: () => {
                        pa.value.handleOpen({
                            tip: "系统根据模板中填写的内容及层级关系生成目录，生成后可继续编辑",
                            source: "catalog",
                            instruction: "请基于系统模板补充信息，单次最多导入500行"
                        });
                    },
                    material: () => {
                        ia.value.openStep1(1);
                    },
                    test: () => {
                        N.value = "2", ae.value = [ {
                            name: "选择测验"
                        }, {
                            name: "设置测验"
                        } ], ee.value = "添加测验", V(() => {
                            se.value.handleOpen();
                        });
                    },
                    homework: () => {
                        N.value = "3", ae.value = [ {
                            name: "选择作业"
                        }, {
                            name: "设置作业"
                        } ], ee.value = "添加作业", V(() => {
                            se.value.handleOpen();
                        });
                    },
                    project: () => {
                        const {
                            classId: l,
                            teachArrangementId: t,
                            teachCourseId: g
                        } = v.params;
                        R.push({
                            name: "AddProjectFromDataBase",
                            params: {
                                teachCourseId: g,
                                classId: l,
                                teachArrangementId: t
                            }
                        });
                    },
                    default: () => {}
                };
                (u[e] || u.default)();
            };
            p(!1);
            const ye = (e, a) => {
                e.moreIcon = a;
            }, Ua = [ {
                label: "资料",
                value: 1
            }, {
                label: "测试",
                value: 2
            }, {
                label: "作业",
                value: 3
            }, {
                label: "项目",
                value: 4
            }, {
                label: "测试",
                value: 5
            } ], L = ue({
                sourceType: "",
                isAssess: !1,
                isReview: !1
            }), F = ue({
                completionProgress: "",
                publishNum: 0,
                resNum: 0
            }), za = () => {
                y();
            }, y = async () => {
                const e = await Yt({
                    currentClassId: v.params.classId,
                    teachCourseId: v.params.teachCourseId,
                    sourceType: L.sourceType,
                    isAssess: L.isAssess ? "1" : "",
                    isReview: L.isReview ? "1" : ""
                });
                q.value = (e == null ? void 0 : e.treeList) || [], Fa("isShowTipFun", q.value.length), 
                Object.keys(F).forEach(a => F[a] = e == null ? void 0 : e[a]);
            }, q = p([]), ua = p([]), j = ue({
                1: [],
                2: [],
                3: [],
                4: []
            }), Ma = K(() => {
                var e, a, s, u, l, t;
                return [ {
                    key: "batchPublish",
                    label: "发布",
                    type: "primary",
                    icon: "svg-icon:icon-publish",
                    permi: "teachmanager:teach-arrangement:update",
                    disabled: ((e = j[1]) == null ? void 0 : e.length) !== I.value.length,
                    dirType: "file",
                    resType: "1"
                }, {
                    key: "batchCancelPublish",
                    label: "取消发布",
                    type: "primary",
                    icon: "svg-icon:icon-revert",
                    permi: "",
                    disabled: ((a = j[1]) == null ? void 0 : a.length) !== 0,
                    dirType: "file",
                    resType: "1"
                }, {
                    key: "batchResSetting",
                    label: "资源设置",
                    type: "primary",
                    icon: "svg-icon:icon-resSetting",
                    permi: "",
                    dirType: "file",
                    resType: "1"
                }, {
                    key: "barchExportStatistic",
                    label: "导出统计",
                    type: "primary",
                    icon: "svg-icon:icon-export",
                    permi: "",
                    dirType: "file",
                    disabled: !0,
                    resType: "1"
                }, {
                    key: "batchExportAchieve",
                    label: "导出成果物",
                    type: "primary",
                    icon: "svg-icon:icon-export",
                    permi: "",
                    dirType: "file",
                    disabled: !0,
                    resType: "1"
                }, {
                    key: "batchDelFile",
                    label: "删除",
                    color: "#E14635",
                    icon: "svg-icon:delete",
                    permi: "",
                    disabled: ((s = j[1]) == null ? void 0 : s.length) !== I.value.length,
                    dirType: "file",
                    resType: "1"
                }, {
                    key: "batchDelDir",
                    label: "删除",
                    color: "#E14635",
                    icon: "svg-icon:delete",
                    permi: "",
                    dirType: "dir",
                    resType: ""
                }, {
                    key: "batchPublish",
                    label: "发布",
                    type: "primary",
                    icon: "svg-icon:icon-publish",
                    permi: "teachmanager:teach-arrangement:update",
                    disabled: ((u = j[1]) == null ? void 0 : u.length) !== I.value.length,
                    dirType: "file",
                    resType: "2,3,4"
                }, {
                    key: "batchCancelPublish",
                    label: "取消发布",
                    type: "primary",
                    icon: "svg-icon:icon-revert",
                    permi: "",
                    disabled: ((l = j[1]) == null ? void 0 : l.length) !== 0,
                    dirType: "file",
                    resType: "2,3,4"
                }, {
                    key: "batchResSetting",
                    label: "资源设置",
                    type: "primary",
                    icon: "svg-icon:icon-resSetting",
                    permi: "",
                    dirType: "file",
                    resType: "2,3"
                }, {
                    key: "batchDelFile",
                    label: "删除",
                    color: "#E14635",
                    icon: "svg-icon:delete",
                    permi: "",
                    disabled: ((t = j[1]) == null ? void 0 : t.length) !== I.value.length,
                    dirType: "file",
                    resType: "2,3,4"
                } ];
            }), Qa = (e, a, s) => {
                if (nt({
                    root: q.value,
                    dirType: e.dirType,
                    isChecked: a,
                    type: e.type
                }), e.dirType === "file") {
                    let u = jt({
                        rawList: I.value,
                        groupAttr: "status"
                    });
                    Object.keys(j).forEach(l => j[l] = u[l] || []);
                }
                ua.value = Ma.value.filter(u => u.dirType === e.dirType && u.resType.includes(e.type));
            }, J = p(null), Ja = [ {
                key: "referenceTemplate",
                name: "引用目录模板"
            }, {
                key: "referenceGraph",
                name: "引用知识图谱"
            }, {
                key: "quickGenerate",
                name: "快速生成"
            }, {
                key: "batchImport",
                name: "批量导入"
            }, {
                key: "manualAdd",
                name: "手动新建"
            } ], Xa = [ {
                key: "material",
                name: "资料"
            }, {
                key: "test",
                name: "测验"
            }, {
                key: "homework",
                name: "作业"
            }, {
                key: "project",
                name: "项目"
            } ], pa = p(null), Za = p([ {
                id: 1,
                date: "2016-05-02",
                name: "wangxiaohu",
                address: "No. 189, Grove St, Los Angeles"
            }, {
                id: 2,
                date: "2016-05-04",
                name: "wangxiaohu",
                address: "No. 189, Grove St, Los Angeles"
            }, {
                id: 3,
                date: "2016-05-01",
                name: "wangxiaohu",
                address: "No. 189, Grove St, Los Angeles",
                children: [ {
                    id: 31,
                    date: "2016-05-01",
                    name: "wangxiaohu",
                    address: "No. 189, Grove St, Los Angeles"
                }, {
                    id: 32,
                    date: "2016-05-01",
                    name: "wangxiaohu",
                    address: "No. 189, Grove St, Los Angeles"
                } ]
            }, {
                id: 4,
                date: "2016-05-03",
                name: "wangxiaohu",
                address: "No. 189, Grove St, Los Angeles"
            } ]), fe = p(null), I = K(() => {
                var e;
                return (e = fe.value) == null ? void 0 : e.getCheckedNodes();
            }), Wa = p(null), da = p(null), H = p(""), ve = p(null), d = p([]), re = ({
                row: e,
                command: a
            }) => {
                const s = JSON.parse(JSON.stringify(e));
                d.value = [], H.value = a;
                const u = {
                    editCatalog: async () => {
                        Ie.value = await ga(), ve.value = await Ka({
                            id: e.id
                        }), J.value.handleOpen({
                            type: H.value,
                            title: "编辑目录"
                        });
                    },
                    deleteCatalog: () => {
                        x.confirm("删除目录将连同子目录一同删除，确定删除", "提示", {
                            confirmButtonText: "确 认",
                            cancelButtonText: "取 消"
                        }).then(async () => {
                            await Ya({
                                id: e.id
                            }), x.success("删除目录成功"), y();
                        });
                    },
                    editor: () => {
                        const l = {
                            1: () => {
                                da.value.open(e);
                            },
                            2: () => {
                                de(e.id).then(t => {
                                    z.value = {
                                        ...t.paper,
                                        resId: t.resId
                                    }, Te.value.handleOpen();
                                });
                            },
                            3: () => {
                                de(e.id).then(t => {
                                    z.value = {
                                        ...t.paper,
                                        resId: t.resId
                                    }, Te.value.handleOpen();
                                });
                            },
                            4: () => {
                                R.push({
                                    name: "TeachProjectUpdate",
                                    params: {
                                        id: e.dataId
                                    }
                                });
                            },
                            5: "考试",
                            6: "教学资料",
                            default: () => {}
                        }[e.type] || l.default;
                        l();
                    },
                    download: () => {
                        kr(e.dataId, e.name);
                    },
                    publish: () => {
                        const l = {
                            1: () => {
                                be([ e ], 0);
                            },
                            2: () => {
                                d.value = [ e.id ], O.value = "3";
                                let t = {};
                                e && (t = {
                                    ...e,
                                    outerId: e == null ? void 0 : e.id
                                }), V(() => {
                                    $.value.handleOpen(t);
                                });
                            },
                            3: () => {
                                d.value = [ e.id ], O.value = "3";
                                let t = {};
                                e && (t = {
                                    ...e,
                                    outerId: e == null ? void 0 : e.id
                                }), V(() => {
                                    $.value.handleOpen(t);
                                });
                            },
                            4: () => {
                                D == null || D.value.open("publishProject", [ e.dataId ], [ Number(e.environment) ], null, 1);
                            },
                            5: "考试",
                            6: "教学资料",
                            default: () => {}
                        }[e.type] || l.default;
                        l();
                    },
                    publishSet: () => {
                        const l = {
                            1: () => {
                                H.value = "publish", be([ e ], 1);
                            },
                            2: () => {
                                d.value = [ e.id ], O.value = "2", N.value = "2", 
                                te.value = ![ 1, 2 ].includes(e.status) || !1, $a({
                                    teachCourseId: X.value,
                                    resId: e.id,
                                    currenClassId: S.value
                                }).then(t => {
                                    V(() => {
                                        $.value.handleOpen({
                                            ...t,
                                            outerId: e.id
                                        });
                                    });
                                });
                            },
                            3: () => {
                                d.value = [ e.id ], O.value = "2", N.value = "3", 
                                te.value = ![ 1, 2 ].includes(e.status) || !1, $a({
                                    teachCourseId: X.value,
                                    resId: e.id,
                                    currenClassId: S.value
                                }).then(t => {
                                    V(() => {
                                        $.value.handleOpen({
                                            ...t,
                                            outerId: e.id
                                        });
                                    });
                                });
                            },
                            4: () => {
                                D == null || D.value.open("publishSetting", e.dataId, [ Number(e.environment) ], e.status);
                            },
                            5: "考试",
                            6: "教学资料",
                            default: () => {}
                        }[e.type] || l.default;
                        l();
                    },
                    delete: () => {
                        const l = {
                            1: () => {
                                ya([ e ], [ e.id ]);
                            },
                            2: () => {
                                d.value = [ e.id ], ne("<p>其他班级此测验未发布时，也会同步删除，<p/> <p>测验删除后不可恢复！确定删除测验吗？<p/>");
                            },
                            3: () => {
                                d.value = [ e.id ], ne("<p>其他班级此作业未发布时，也会同步删除，<p/> <p>作业删除后不可恢复！确定删除作业吗？<p/>");
                            },
                            4: async () => {
                                d.value = [ e.id ], await W().delConfirm("是否删除该项目？", "提示"), 
                                await Ae(d.value, S.value), y(), W().success("删除成功");
                            },
                            5: "考试",
                            6: "教学资料",
                            default: () => {}
                        }[e.type] || l.default;
                        l();
                    },
                    set: () => {
                        const l = {
                            1: () => {
                                fa([ e ]);
                            },
                            2: () => {
                                s.tagList = s.tag, d.value = [ s.id ], N.value = "2", 
                                _e.value = "测试设置", U.value.handleOpen(s);
                            },
                            3: () => {
                                s.tagList = s.tag, d.value = [ s.id ], N.value = "3", 
                                _e.value = "作业设置", U.value.handleOpen(s);
                            },
                            4: () => {
                                oe == null || oe.value.open(s.dataId);
                            },
                            5: "考试",
                            6: "教学资料",
                            default: () => {}
                        }[e.type] || l.default;
                        l();
                    },
                    revoke: () => {
                        const l = {
                            1: () => {},
                            2: () => {
                                d.value = [ e.id ], M.value.handleOpen(e);
                            },
                            3: () => {
                                d.value = [ e.id ], M.value.handleOpen(e);
                            },
                            4: () => {
                                B == null || B.value.open([ e.dataId ]);
                            },
                            5: "考试",
                            6: "教学资料",
                            default: () => {}
                        }[e.type] || l.default;
                        l();
                    },
                    exportScore: () => {
                        const l = {
                            2: () => {
                                var g;
                                let t = {
                                    testId: ((g = e.resCtl) == null ? void 0 : g.id) || "",
                                    teachClassId: S.value
                                };
                                Va(t).then(w => {
                                    ja(w, w.fileName || "成绩.xls");
                                });
                            },
                            3: () => {
                                var g;
                                let t = {
                                    testId: (g = e.resCtl) == null ? void 0 : g.id,
                                    teachClassId: S.value
                                };
                                Va(t).then(w => {
                                    ja(w, w.fileName || "成绩.xls");
                                });
                            },
                            4: "项目",
                            5: "考试",
                            6: "教学资料",
                            default: () => {}
                        }[e.type] || l.default;
                        l();
                    },
                    publishScore: () => {
                        const l = {
                            2: () => {
                                Ia({
                                    row: e,
                                    msg: "<p>公布后学生可以查看测验成绩且不可取消公布，<p/> <p>确定向学生公布测验成绩吗？<p/>"
                                });
                            },
                            3: () => {
                                Ia({
                                    row: e,
                                    msg: "<p>公布后学生可以查看作业成绩且不可取消公布，<p/> <p>确定向学生公布作业成绩吗？<p/>"
                                });
                            },
                            4: "项目",
                            5: "考试",
                            6: "教学资料",
                            default: () => {}
                        }[e.type] || l.default;
                        l();
                    },
                    preview: () => {
                        const l = {
                            4: () => {
                                const t = R.resolve({
                                    name: "ProjectPreview",
                                    params: {
                                        projectId: e.dataId,
                                        inProject: 1
                                    }
                                }).href;
                                window.open(t, "_blank");
                            },
                            5: "考试",
                            6: "教学资料",
                            default: () => {}
                        }[e.type] || l.default;
                        l();
                    },
                    evaluate: () => {
                        const l = {
                            4: () => {
                                R.push({
                                    name: "ProjectDetails",
                                    params: {
                                        projectId: e.dataId,
                                        classId: v.params.classId,
                                        teachArrangementId: v.params.teachArrangementId,
                                        teachCourseId: v.params.teachCourseId,
                                        tab: "3"
                                    }
                                });
                            },
                            5: "考试",
                            6: "教学资料",
                            default: () => {}
                        }[e.type] || l.default;
                        l();
                    },
                    statistics: () => {
                        const l = {
                            4: () => {
                                R.push({
                                    name: "ProjectDetails",
                                    params: {
                                        projectId: e.dataId,
                                        classId: v.params.classId,
                                        teachArrangementId: v.params.teachArrangementId,
                                        teachCourseId: v.params.teachCourseId,
                                        tab: "4"
                                    }
                                });
                            },
                            5: "考试",
                            6: "教学资料",
                            default: () => {}
                        }[e.type] || l.default;
                        l();
                    },
                    default: () => {}
                };
                (u[a] || u.default)({
                    row: e
                });
            }, Ka = async ({
                id: e
            }) => await ar({
                id: e
            }), Ya = async ({
                id: e
            }) => await tr({
                id: e
            }), ma = [ {
                name: "未发布",
                code: "1",
                tag: "warning"
            }, {
                name: "未开始",
                code: "2",
                tag: "info"
            }, {
                name: "进行中",
                code: "3",
                tag: "success"
            }, {
                name: "已截止",
                code: "4",
                tag: "info"
            } ], _a = () => {
                y();
            }, et = ({
                row: e
            }) => {
                if (!e.type || !e.status) return;
                const a = new Map([ [ /^[1-3]_1._.*$/, [ "set", "editor", "delete" ] ], [ /^4_1._.*$/, [ "preview", "set", "editor", "delete" ] ], [ /^[1-3]_2._.*$/, [ "set", "revoke" ] ], [ /^4_2._.*$/, [ "preview", "set", "revoke" ] ], [ /^1_3._.*$/, [ "set", "publishSet", "revoke" ] ], [ /^[2-3]_3_1_.*$/, [ "set", "publishSet", "revoke", "exportScore", "publishScore" ] ], [ /^[2-3]_3_[^1]_.*$/, [ "set", "publishSet", "revoke", "exportScore" ] ], [ /^4_3._.*$/, [ "preview", "evaluate", "set", "publishSet", "revoke" ] ], [ /^1_4._.*$/, [ "set", "publishSet", "revoke" ] ], [ /^[2-3]_4_1_.*$/, [ "set", "publishSet", "revoke", "exportScore", "publishScore" ] ], [ /^[2-3]_4_[^1]_.*$/, [ "set", "publishSet", "revoke", "exportScore" ] ], [ /^4_4_._[^0]$/, [ "preview", "statistics", "set", "publishSet" ] ], [ /^4_4_._0$/, [ "preview", "evaluate", "set", "publishSet" ] ] ]);
                let s = [], u = [ ...a ].find(([ t, g ]) => {
                    var ie;
                    const w = (ie = e.resCtl) == null ? void 0 : ie.scorePublishType;
                    e.isReview;
                    const Ce = w ?? "", Se = w ?? "";
                    return t.test(`${e.type}_${e.status}_${Ce}_${Se}`);
                });
                u && (s = u[1]);
                let l = [];
                return l = [ {
                    key: "preview",
                    name: "预览",
                    permi: "teachmanager:teach-course-res:update"
                }, {
                    key: "evaluate",
                    name: "评阅",
                    permi: "teachmanager:teach-course-res:update"
                }, {
                    key: "statistics",
                    name: "统计",
                    permi: "teachmanager:teach-course-res:update"
                }, {
                    key: "set",
                    name: "资源设置",
                    permi: "teachmanager:teach-course-res:update"
                }, {
                    key: "editor",
                    name: "编辑",
                    permi: "teachmanager:teach-course-res:update"
                }, {
                    key: "delete",
                    name: "删除",
                    permi: "teachmanager:teach-course-res:delete"
                }, {
                    key: "publishSet",
                    name: "发布设置",
                    permi: "teachmanager:teach-course-res-class-ctl:update"
                }, {
                    key: "revoke",
                    name: "撤销发布",
                    permi: "teachmanager:teach-course-res-class-ctl:update"
                }, {
                    key: "exportScore",
                    name: "导出成绩",
                    permi: "teachmanager:teach-course-res-class-ctl:update"
                }, {
                    key: "publishScore",
                    name: "公布成绩",
                    permi: "teachmanager:teach-course-res-class-ctl:update"
                } ].filter(t => s.includes(t.key)), l;
            }, ha = p(null), ge = p(null), be = (e, a) => {
                ge.value.open(e, a);
            }, ya = (e, a) => {
                x.confirm(`\u786E\u5B9A\u8981\u5220\u9664${e.length == 1 ? "该" : "这些"}\u8D44\u6E90\u5417\uFF1F`, "提示", {
                    confirmButtonText: "确认",
                    cancelButtonText: "取消"
                }).then(() => {
                    Wt(a).then(s => {
                        y(), Da({
                            type: "success",
                            message: "删除成功"
                        });
                    });
                }).catch(() => {});
            }, fa = e => {
                ge.value.open(e);
            }, le = p(null), at = async ({
                type: e,
                params: a
            }) => {
                const s = {
                    quickGenerate: () => {
                        le.value = tt;
                    },
                    manualAdd: () => {
                        le.value = rt;
                    },
                    editCatalog: () => {
                        le.value = lt;
                    },
                    default: () => {}
                };
                (s[e] || s.default)(), await le.value({
                    params: a
                }), Da.success("操作成功"), J.value.handleClose(), y();
            }, tt = async ({
                params: e
            }) => {
                const {
                    level: a,
                    level1Num: s,
                    level2Num: u,
                    level3Num: l
                } = e;
                return await rr({
                    teachCourseId: v.params.teachCourseId,
                    level: a,
                    level1Num: s,
                    level2Num: u,
                    level3Num: l
                });
            }, rt = async ({
                params: e
            }) => {
                const a = {
                    id: "",
                    teachCourseId: v.params.teachCourseId,
                    parentId: e.parentId === "" ? 0 : e.parentId,
                    ancestors: e.parentId === "" ? 0 : e.ancestors,
                    name: e.name,
                    studyType: e.studyType,
                    classHours: e.classHours,
                    sort: e.sort
                };
                return await lr(a);
            }, lt = async ({
                params: e
            }) => {
                const a = {
                    parentId: e.parentId === "" ? 0 : e.parentId,
                    ancestors: e.parentId === "" ? 0 : e.ancestors,
                    name: e.name,
                    studyType: e.studyType,
                    classHours: e.classHours,
                    sort: e.sort
                };
                return await sr({
                    ...ve.value,
                    ...a
                });
            }, st = ue({
                source: "catalog",
                name: "课程目录导入模板"
            });
            xt("tableColumnList", [ {
                prop: "name",
                label: "目录名称"
            }, {
                prop: "parentName",
                label: "父级目录"
            }, {
                prop: "studyType",
                label: "学习模式"
            }, {
                prop: "classHours",
                label: "学时"
            } ]), p([]);
            const nt = ({
                root: e,
                dirType: a,
                isChecked: s,
                type: u
            }) => {
                let l = [ ...e ];
                for (;l.length > 0; ) {
                    const t = l.shift();
                    s ? t.disabled = u ? !(t.dirType === a && t.type === u) : t.dirType !== a : I.value.length ? t.disabled = !(t.dirType === a && t.type === u) : t.disabled = !1, 
                    t.children && Array.isArray(t.children) && l.push(...t.children);
                }
            }, ot = ({
                key: e
            }) => {
                var l;
                d.value = [];
                let a = I.value.map(t => t.id);
                const s = (l = I.value) == null ? void 0 : l[0], u = {
                    batchPublish: async () => {
                        const t = {
                            1: () => {
                                H.value = "publish", be(I.value, 0);
                            },
                            2: () => {
                                d.value = a, O.value = "3", V(() => {
                                    $.value.handleOpen({});
                                });
                            },
                            3: () => {
                                d.value = a, O.value = "3", V(() => {
                                    $.value.handleOpen({});
                                });
                            },
                            4: () => {
                                D == null || D.value.open("publishProject", I.value.map(g => g.dataId), I.value.map(g => Number(g.environment)));
                            },
                            5: "考试",
                            6: "教学资料",
                            default: () => {}
                        }[s.type] || t.default;
                        t();
                    },
                    batchCancelPublish: async () => {
                        const t = {
                            1: async () => {
                                await batchUpdate({
                                    ids: a
                                }), x.success("发布成功"), y();
                            },
                            2: () => {
                                d.value = a, M.value.handleOpen(s);
                            },
                            3: () => {
                                d.value = a, M.value.handleOpen(s);
                            },
                            4: () => {
                                B == null || B.value.open(I.value.map(g => g.dataId));
                            },
                            5: "考试",
                            6: "教学资料",
                            default: () => {}
                        }[s.type] || t.default;
                        t();
                    },
                    batchResSetting: async () => {
                        const t = {
                            1: () => {
                                H.value = "set", fa(I.value);
                            },
                            2: () => {
                                d.value = a, U.value.handleOpen();
                            },
                            3: () => {
                                d.value = a, U.value.handleOpen();
                            },
                            4: "项目",
                            5: "考试",
                            6: "教学资料",
                            default: () => {}
                        }[s.type] || t.default;
                        t();
                    },
                    batchDelDir: () => {
                        x.confirm("确定删除选择的目录？", "提示", {
                            confirmButtonText: "确 认",
                            cancelButtonText: "取 消"
                        }).then(async () => {
                            await ct({
                                ids: a
                            }), y();
                        });
                    },
                    batchDelFile: async () => {
                        const t = {
                            1: () => {
                                ya(I.value, a);
                            },
                            2: () => {
                                d.value = a, ne("<p>其他班级此测验未发布时，也会同步删除，<p/> <p>测验删除后不可恢复！确定删除测验吗？<p/>");
                            },
                            3: () => {
                                d.value = a, ne("<p>其他班级此作业未发布时，也会同步删除，<p/> <p>作业删除后不可恢复！确定删除作业吗？<p/>");
                            },
                            4: async () => {
                                d.value = a, await W().delConfirm("是否删除该项目？", "提示"), 
                                await Ae(d.value, S.value), y(), W().success("删除成功");
                            },
                            5: "考试",
                            6: "教学资料",
                            default: () => {}
                        }[s.type] || t.default;
                        t();
                    },
                    default: () => {}
                };
                (u[e] || u.default)();
            }, ct = async ({
                ids: e
            }) => {
                await nr(e), x.success("删除成功");
            }, va = p(null), ke = e => {
                const a = {
                    1: () => {
                        va.value.open(e);
                    },
                    2: () => {
                        var s;
                        R.push({
                            name: "StatisticsDetails",
                            params: {
                                testId: (s = e.resCtl) == null ? void 0 : s.id,
                                teachClassId: S.value
                            }
                        });
                    },
                    3: () => {
                        var s;
                        R.push({
                            name: "StatisticsDetailsAssignment",
                            params: {
                                testId: (s = e.resCtl) == null ? void 0 : s.id,
                                teachClassId: S.value
                            }
                        });
                    },
                    4: () => {
                        R.push({
                            name: "ProjectDetails",
                            params: {
                                projectId: e.dataId,
                                classId: v.params.classId,
                                teachArrangementId: v.params.teachArrangementId,
                                teachCourseId: v.params.teachCourseId,
                                tab: "4"
                            }
                        });
                    },
                    5: "考试",
                    6: "教学资料",
                    default: () => {}
                }[e.type] || a.default;
                a();
            }, Ie = p([]), ga = async () => await Zt({
                teachCourseId: v.params.teachCourseId
            }), it = e => {
                var a;
                e || ((a = fe.value) == null || a.setCheckedKeys([], !1));
            }, ut = async ({
                requestParams: e
            }) => {
                var a;
                await (async ({
                    requestParams: s
                }) => await er({
                    ...s,
                    teachCourseId: v.params.teachCourseId
                }))({
                    requestParams: e
                }), x.success("添加成功"), (a = me.value) == null || a.closeDialog(), 
                y();
            }, S = K(() => v.params.classId), X = K(() => v.params.teachCourseId), se = p(null), ba = K(() => {
                var e;
                return (e = I.value) == null ? void 0 : e.map(a => a.id);
            }), pt = (e, a) => {
                const {
                    _arr: s,
                    resClassCtlResp: u
                } = e;
                let l = {
                    teachCourseId: X.value,
                    dirId: e.dirId,
                    sourceType: N.value,
                    isAssess: e.isAssess,
                    ktIds: [],
                    tagIds: e.teachTags || [],
                    resClassCtlResp: {
                        isOpen: [ "1", "2" ].includes(e.releaseStatus) ? "1" : "0",
                        range: u.range,
                        currentTeachClassId: S.value,
                        openType: e.releaseStatus === "2" ? "1" : e.releaseStatus === "1" ? "0" : null,
                        isDownload: 0,
                        isDrag: 0,
                        openTimeStr: u.openTimeStr,
                        closeTimeStr: u.closeTimeStr,
                        questionDisorder: u.antiCheatingSettings && u.antiCheatingSettings.includes("questionDisorder") ? "1" : "0",
                        optionDisorder: u.antiCheatingSettings && u.antiCheatingSettings.includes("optionDisorder") ? "1" : "0",
                        answerPublishType: u.answerPublishType,
                        scorePublishType: u.scorePublishType,
                        multiTryFlag: u.multiTryFlag,
                        multiTryTimes: u.multiTryTimes,
                        scoreCalculateType: u.scoreCalculateType
                    },
                    resDetailList: s.map(t => ({
                        name: t.name,
                        resType: 99,
                        ktName: t.ktName || null,
                        dataId: t.id,
                        paperSourceType: [ "3" ].includes(a) ? 1 : 0,
                        resLink: t.resLink || null,
                        resOriginId: t.resOriginId || null,
                        resPkgId: t.resPkgId || null,
                        resRootPkgId: t.resRootPkgId || null,
                        resIsNeu: t.resIsNeu || null
                    }))
                };
                Ar(l).then(t => {
                    x.success("创建成功！"), se.value.onCancel(), y();
                });
            }, U = p(null), dt = e => {
                let a = {
                    dirId: e.dirId,
                    isAssess: e.isAssess,
                    tagIds: e.teachTags,
                    resIds: d.value
                };
                Rr(a).then(s => {
                    x.success("设置成功！"), U.value.handleCancel(), y();
                });
            }, O = p("1"), Te = p(null), z = p({}), mt = e => {
                const {
                    resClassCtlResp: a
                } = e;
                let s = {
                    isOpen: [ "1", "2" ].includes(e.releaseStatus) ? "1" : "0",
                    range: a.range,
                    currentTeachClassId: S.value,
                    resId: e.resId || null,
                    resIds: d.value,
                    teachCourseId: X.value,
                    openType: e.releaseStatus === "2" ? "1" : e.releaseStatus === "1" ? "0" : null,
                    openTimeStr: a == null ? void 0 : a.openTimeStr,
                    closeTimeStr: a.closeTimeStr,
                    answerPublishType: a.answerPublishType,
                    scorePublishType: a.scorePublishType,
                    multiTryFlag: a.multiTryFlag,
                    multiTryTimes: a.multiTryTimes,
                    scoreCalculateType: a.scoreCalculateType,
                    questionDisorder: a.antiCheatingSettings && a.antiCheatingSettings.includes("questionDisorder") ? "1" : "0",
                    optionDisorder: a.antiCheatingSettings && a.antiCheatingSettings.includes("optionDisorder") ? "1" : "0"
                };
                (O.value === "2" ? Nr : Dr)(s).then(u => {
                    x.success("操作成功！"), $.value.handleCancel(), y();
                });
            }, $ = p(null), M = p(null), _t = e => {
                let a = {
                    teachCourseId: X.value,
                    resIds: d.value,
                    range: e.range,
                    currentTeachClassId: S.value
                };
                Lr(a).then(() => {
                    M.value.handleClose(), x.success("撤销成功！"), y();
                });
            }, ka = e => {
                const a = {
                    1: () => {},
                    2: () => {
                        var s;
                        R.push({
                            name: "StatisticsDetails",
                            params: {
                                testId: (s = e.resCtl) == null ? void 0 : s.id,
                                teachClassId: S.value
                            }
                        });
                    },
                    3: () => {
                        var s;
                        R.push({
                            name: "StatisticsDetailsAssignment",
                            params: {
                                testId: (s = e.resCtl) == null ? void 0 : s.id,
                                teachClassId: S.value
                            }
                        });
                    },
                    4: () => {
                        R.push({
                            name: "ProjectDetails",
                            params: {
                                projectId: e.dataId,
                                classId: v.params.classId,
                                teachArrangementId: v.params.teachArrangementId,
                                teachCourseId: v.params.teachCourseId,
                                tab: "3"
                            }
                        });
                    },
                    5: "考试",
                    6: "教学资料",
                    default: () => {}
                }[e.type] || a.default;
                a();
            }, ne = e => {
                La.confirm(e, "提示", {
                    confirmButtonText: "确认",
                    cancelButtonText: "取消",
                    type: "danger",
                    dangerouslyUseHTMLString: !0,
                    customClass: "neu-message-box del-confirm"
                }).then(() => {
                    Ae(d.value, S.value).then(() => {
                        x.success("删除成功！"), y();
                    });
                });
            }, Z = p(!1), ht = () => {
                te.value = !1;
            }, Ia = ({
                row: e,
                msg: a
            }) => {
                La.confirm(a, "提示", {
                    confirmButtonText: "确认",
                    cancelButtonText: "取消",
                    type: "danger",
                    dangerouslyUseHTMLString: !0
                }).then(() => {
                    var s;
                    Or((s = e.resCtl) == null ? void 0 : s.id).then(() => {
                        x.success("发布成功！");
                    });
                });
            }, D = p(), oe = p(), B = p(), Ta = p(!0), ce = p(null);
            return Pt(() => {
                y();
            }), At(() => {
                y(), (async e => {
                    const a = await el(e);
                    Ta.value = (a ?? []).includes(10);
                })(Rt());
            }), (e, a) => {
                const s = $t, u = Vt, l = Gt, t = sl, g = nl, w = ol, Ce = Bt, Se = Et, ie = Jt, Ca = Ft, Sa = qt, yt = Ht, ft = Ut, vt = It, gt = bt, P = Nt("hasPermi");
                return c(), b("div", Ne, [ h("div", De, [ n(q).length ? (c(), b("div", je, [ h("div", $e, [ o(w, {
                    trigger: "hover",
                    onCommand: he,
                    class: "mr-2"
                }, {
                    dropdown: i(() => [ o(g, null, {
                        default: i(() => [ (c(), b(E, null, Y(Xa, r => A(o(t, {
                            command: r.key,
                            key: r.key
                        }, {
                            default: i(() => [ m(T(r.name), 1) ]),
                            _: 2
                        }, 1032, [ "command" ]), [ [ P, [ "teachmanager:teach-course-res:create" ] ] ])), 64)) ]),
                        _: 1
                    }) ]),
                    default: i(() => [ A((c(), f(l, {
                        type: "primary",
                        size: "large",
                        class: "btn-group"
                    }, {
                        default: i(() => [ o(s, {
                            icon: "ep:plus",
                            class: "mr-4px"
                        }), m(" 添加资源 ") ]),
                        _: 1
                    })), [ [ P, [ "teachmanager:teach-course-res:create" ] ] ]) ]),
                    _: 1
                }), o(w, {
                    trigger: "hover",
                    onCommand: he
                }, {
                    dropdown: i(() => [ o(g, null, {
                        default: i(() => [ A((c(), f(t, {
                            command: "batchImport"
                        }, {
                            default: i(() => [ m("批量导入") ]),
                            _: 1
                        })), [ [ P, [ "teachmanager:teach-course-res:create" ] ] ]), A((c(), 
                        f(t, {
                            command: "manualAdd"
                        }, {
                            default: i(() => [ m("手动新建") ]),
                            _: 1
                        })), [ [ P, [ "teachmanager:teach-course-res:create" ] ] ]) ]),
                        _: 1
                    }) ]),
                    default: i(() => [ A((c(), f(l, {
                        type: "primary",
                        plain: "",
                        size: "large",
                        class: "btn-group"
                    }, {
                        default: i(() => [ o(s, {
                            icon: "ep:plus",
                            class: "mr-4px"
                        }), m(" 新增目录 ") ]),
                        _: 1
                    })), [ [ P, [ "teachmanager:teach-course-res:create" ] ] ]) ]),
                    _: 1
                }) ]), h("div", Ve, [ o(Se, {
                    size: "large",
                    modelValue: n(L).sourceType,
                    "onUpdate:modelValue": a[0] || (a[0] = r => n(L).sourceType = r),
                    placeholder: "全部内容",
                    onChange: za,
                    clearable: ""
                }, {
                    default: i(() => [ (c(), b(E, null, Y(Ua, r => o(Ce, {
                        key: r.key,
                        label: r.label,
                        value: r.value
                    }, null, 8, [ "label", "value" ])), 64)) ]),
                    _: 1
                }, 8, [ "modelValue" ]) ]), Ge, h("div", Be, [ m("任务完成进度         "), o(ie, {
                    percentage: n(F).completionProgress ? parseFloat(n(F).completionProgress.slice(0, -1)) : 0,
                    style: {
                        width: "200px"
                    }
                }, null, 8, [ "percentage" ]) ]), h("div", Ee, [ m("已发布" + T(n(F).publishNum) + "/" + T(n(F).resNum) + " ", 1), Fe, o(Ca, {
                    modelValue: n(L).isAssess,
                    "onUpdate:modelValue": a[1] || (a[1] = r => n(L).isAssess = r),
                    class: "ml-2",
                    style: {
                        "--el-switch-on-color": "#13ce66"
                    },
                    onChange: _a
                }, null, 8, [ "modelValue" ]), qe, o(Ca, {
                    modelValue: n(L).isReview,
                    "onUpdate:modelValue": a[2] || (a[2] = r => n(L).isReview = r),
                    class: "ml-2",
                    style: {
                        "--el-switch-on-color": "#13ce66"
                    },
                    onChange: _a
                }, null, 8, [ "modelValue" ]) ]), h("div", He, [ o(ft, {
                    ref_key: "treeRef",
                    ref: fe,
                    data: n(q),
                    "show-checkbox": "",
                    "node-key": "id",
                    "expand-on-click-node": !1,
                    "check-strictly": !0,
                    onCheckChange: Qa
                }, {
                    default: i(({
                        data: r
                    }) => {
                        var wa, xa, Pa, Aa, Ra;
                        return [ h("div", Ue, [ h("div", ze, [ r.dirType === "file" ? (c(), 
                        b("img", {
                            key: 0,
                            class: "mr-6px",
                            src: n(br)(r.resType),
                            alt: ""
                        }, null, 8, Me)) : C("", !0), h("span", {
                            class: Dt({
                                "material-class": r.dirType === "file",
                                "catalog-class": r.dirType === "dir",
                                "material-not-publish": r.dirType === "file" && r.status === 1
                            }),
                            onClick: pe(_ => (k => {
                                if (k.dirType === "file") {
                                    const Na = {
                                        1: () => {
                                            k.resType == 6 ? window.open(k.resLink, "_blank") : (k.eid = k.dataId, 
                                            ha.value.operation(k));
                                        },
                                        2: () => {
                                            de(k.id).then(we => {
                                                z.value = we.paper, Z.value = !0;
                                            });
                                        },
                                        3: () => {
                                            de(k.id).then(we => {
                                                z.value = we.paper, Z.value = !0;
                                            });
                                        },
                                        4: "项目",
                                        5: "考试",
                                        6: "教学资料",
                                        default: () => {}
                                    }[k.type] || Na.default;
                                    Na();
                                }
                            })(r), [ "stop" ])
                        }, T(r.name), 11, Qe), r.classHours ? (c(), b("em", Je, "（" + T(r.classHours) + "课时）", 1)) : C("", !0), r.studyType ? (c(), 
                        b("span", Xe, T(r.studyType), 1)) : C("", !0), r.dirType === "file" ? (c(), 
                        b("div", Ze, [ (c(!0), b(E, null, Y(r.tag, _ => (c(), b("div", {
                            class: "resourceLabel",
                            key: _.tagId
                        }, T(_.tagName), 1))), 128)), r.isAssess === 1 ? (c(), f(Sa, {
                            key: 0,
                            content: "计入考核点",
                            placement: "top",
                            effect: "light"
                        }, {
                            default: i(() => [ o(s, {
                                icon: "svg-icon:icon-point",
                                class: "ml-6px mr-3px mt-1"
                            }) ]),
                            _: 1
                        })) : C("", !0), o(Sa, {
                            placement: "top",
                            effect: "light",
                            teleported: !0,
                            "append-to": "html"
                        }, {
                            content: i(() => {
                                var _, k;
                                return [ h("ul", We, [ h("li", null, [ Ke, m(T(((_ = r.resCtl) == null ? void 0 : _.openTimeStr) || "无"), 1) ]), h("li", null, [ Ye, m(T(((k = r.resCtl) == null ? void 0 : k.closeTimeStr) || "无"), 1) ]) ]) ];
                            }),
                            default: i(() => {
                                var _;
                                return [ o(yt, {
                                    class: "distribute",
                                    type: (_ = n(Oa)({
                                        list: ma,
                                        listAttrCode: "code",
                                        rawAttrCode: r.status
                                    })) == null ? void 0 : _.tag
                                }, {
                                    default: i(() => {
                                        var k;
                                        return [ m(T((k = n(Oa)({
                                            list: ma,
                                            listAttrCode: "code",
                                            rawAttrCode: r.status
                                        })) == null ? void 0 : k.name), 1) ];
                                    }),
                                    _: 2
                                }, 1032, [ "type" ]) ];
                            }),
                            _: 2
                        }, 1024) ])) : (c(), b("div", ea, [ A((c(), f(w, {
                            trigger: "hover",
                            onCommand: re,
                            onVisibleChange: _ => ye(r, _)
                        }, {
                            dropdown: i(() => [ o(g, null, {
                                default: i(() => [ A((c(), f(t, {
                                    command: {
                                        row: r,
                                        command: "editCatalog"
                                    }
                                }, {
                                    default: i(() => [ m("编辑 ") ]),
                                    _: 2
                                }, 1032, [ "command" ])), [ [ P, [ "teachmanager:teach-course-directory:update" ] ] ]), A((c(), 
                                f(t, {
                                    command: {
                                        row: r,
                                        command: "deleteCatalog"
                                    },
                                    style: {
                                        color: "#e14635"
                                    }
                                }, {
                                    default: i(() => [ m("删除 ") ]),
                                    _: 2
                                }, 1032, [ "command" ])), [ [ P, [ "teachmanager:teach-course-directory:update" ] ] ]) ]),
                                _: 2
                            }, 1024) ]),
                            default: i(() => [ o(l, {
                                text: ""
                            }, {
                                default: i(() => [ m(" 更多 "), o(u, null, {
                                    default: i(() => [ r.moreIcon ? (c(), f(n(xe), {
                                        key: 0
                                    })) : (c(), f(n(Pe), {
                                        key: 1
                                    })) ]),
                                    _: 2
                                }, 1024) ]),
                                _: 2
                            }, 1024) ]),
                            _: 2
                        }, 1032, [ "onVisibleChange" ])), [ [ P, [ "teachmanager:teach-course-directory:update" ] ] ]) ])) ]), r.dirType === "file" ? (c(), 
                        b("div", aa, [ h("div", null, [ h("div", null, [ h("span", ta, [ m("未开始： "), h("em", null, T(n(Re)((wa = r.stuStat) == null ? void 0 : wa.unDealNum)), 1) ]), h("span", ra, [ m("进行中： "), h("em", null, T(n(Re)((xa = r.stuStat) == null ? void 0 : xa.dealNum)), 1) ]), h("span", null, [ m("已完成： "), h("em", null, T(n(Re)((Pa = r.stuStat) == null ? void 0 : Pa.handleNum)), 1) ]) ]) ]), h("div", la, [ o(w, {
                            trigger: "hover",
                            onCommand: re,
                            onVisibleChange: _ => ye(r, _)
                        }, {
                            dropdown: i(() => [ o(g, null, {
                                default: i(() => [ (c(!0), b(E, null, Y(et({
                                    row: r
                                }), _ => (c(), f(t, {
                                    "v-hasPermi": [ _.permi ],
                                    command: {
                                        row: r,
                                        command: _.key
                                    },
                                    key: _.key,
                                    style: Lt(_.key === "delete" ? "color: #e14635" : "")
                                }, {
                                    default: i(() => [ m(T(_.name), 1) ]),
                                    _: 2
                                }, 1032, [ "v-hasPermi", "command", "style" ]))), 128)) ]),
                                _: 2
                            }, 1024) ]),
                            default: i(() => [ A((c(), f(l, {
                                text: ""
                            }, {
                                default: i(() => [ m(" 更多 "), o(u, null, {
                                    default: i(() => [ r.moreIcon ? (c(), f(n(xe), {
                                        key: 0
                                    })) : (c(), f(n(Pe), {
                                        key: 1
                                    })) ]),
                                    _: 2
                                }, 1024) ]),
                                _: 2
                            }, 1024)), [ [ P, [ "teachmanager:teach-course-res:update", "teachmanager:teach-course-res:delete", "teachmanager:teach-course-res-class-ctl:update" ] ] ]) ]),
                            _: 2
                        }, 1032, [ "onVisibleChange" ]), r.status === 1 ? A((c(), 
                        f(l, {
                            key: 0,
                            type: "primary",
                            onClick: _ => re({
                                row: r,
                                command: "publish"
                            })
                        }, {
                            default: i(() => [ m("发布") ]),
                            _: 2
                        }, 1032, [ "onClick" ])), [ [ P, [ "teachmanager:teach-course-res-class-ctl:update" ] ] ]) : C("", !0), r.status === 2 ? A((c(), 
                        f(l, {
                            key: 1,
                            type: "primary",
                            onClick: _ => re({
                                row: r,
                                command: "publishSet"
                            })
                        }, {
                            default: i(() => [ m("发布设置") ]),
                            _: 2
                        }, 1032, [ "onClick" ])), [ [ P, [ "teachmanager:teach-course-res-class-ctl:update" ] ] ]) : C("", !0), [ 1 ].includes(r.type) ? (c(), 
                        b("span", sa, [ [ 3, 4 ].includes(r.status) ? (c(), f(l, {
                            key: 0,
                            onClick: _ => ke(r),
                            type: "primary"
                        }, {
                            default: i(() => [ m("统计") ]),
                            _: 2
                        }, 1032, [ "onClick" ])) : C("", !0) ])) : C("", !0), [ 2, 3 ].includes(r.type) ? (c(), 
                        b("span", na, [ [ 3, 4 ].includes(r.status) && ((Aa = r.stuStat) == null ? void 0 : Aa.handleNum) === 0 ? (c(), 
                        f(l, {
                            key: 0,
                            onClick: _ => ke(r),
                            type: "primary"
                        }, {
                            default: i(() => [ m("统计 ") ]),
                            _: 2
                        }, 1032, [ "onClick" ])) : C("", !0), [ 3, 4 ].includes(r.status) && ((Ra = r.stuStat) == null ? void 0 : Ra.handleNum) > 0 ? (c(), 
                        f(l, {
                            key: 1,
                            type: "primary",
                            onClick: _ => ka(r)
                        }, {
                            default: i(() => [ m("批阅 ") ]),
                            _: 2
                        }, 1032, [ "onClick" ])) : C("", !0) ])) : C("", !0), [ 4 ].includes(r.type) ? (c(), 
                        b("span", oa, [ r.isReview == 0 ? (c(), b(E, {
                            key: 0
                        }, [ [ 3, 4 ].includes(r.status) ? (c(), f(l, {
                            key: 0,
                            type: "primary",
                            onClick: pe(_ => ka(r), [ "stop" ])
                        }, {
                            default: i(() => [ m("批阅") ]),
                            _: 2
                        }, 1032, [ "onClick" ])) : C("", !0) ], 64)) : (c(), b(E, {
                            key: 1
                        }, [ n(Ta) && r.status == 3 && [ "10" ].includes(r.environment) ? (c(), 
                        f(l, {
                            key: 0,
                            type: "primary",
                            onClick: pe(_ => (async k => {
                                ce == null || ce.value.open(k.dataId);
                            })(r), [ "stop" ])
                        }, {
                            default: i(() => [ m("预热") ]),
                            _: 2
                        }, 1032, [ "onClick" ])) : [ 3, 4 ].includes(r.status) ? (c(), 
                        f(l, {
                            key: 1,
                            type: "primary",
                            onClick: pe(_ => ke(r), [ "stop" ])
                        }, {
                            default: i(() => [ m("统计") ]),
                            _: 2
                        }, 1032, [ "onClick" ])) : C("", !0) ], 64)) ])) : C("", !0) ]) ])) : C("", !0) ]) ];
                    }),
                    _: 1
                }, 8, [ "data" ]) ]), o(vt, {
                    ref: "SelectionButtonGroupRef",
                    selectList: n(I),
                    pageList: n(q),
                    btnInfoList: n(ua),
                    onSelectAll: it,
                    onHandleEvent: ot
                }, null, 8, [ "selectList", "pageList", "btnInfoList" ]) ])) : (c(), 
                b("div", Le, [ o(s, {
                    icon: "svg-icon:bg-no-data",
                    size: 200,
                    class: "",
                    style: {
                        height: "160px"
                    }
                }), Oe, o(w, {
                    trigger: "hover",
                    onCommand: he,
                    onVisibleChange: ye
                }, {
                    dropdown: i(() => [ o(g, {
                        style: {
                            width: "143px"
                        }
                    }, {
                        default: i(() => [ (c(), b(E, null, Y(Ja, r => A(o(t, {
                            command: r.key,
                            key: r.key
                        }, {
                            default: i(() => [ m(T(r.name), 1) ]),
                            _: 2
                        }, 1032, [ "command" ]), [ [ P, [ "teachmanager:teach-course-directory:create" ] ] ])), 64)) ]),
                        _: 1
                    }) ]),
                    default: i(() => [ A((c(), f(l, {
                        type: "primary",
                        size: "large"
                    }, {
                        default: i(() => [ m(" 新增课程目录 "), o(u, {
                            style: {
                                "margin-left": "5px"
                            }
                        }, {
                            default: i(() => [ n(Ha) ? (c(), f(n(xe), {
                                key: 0
                            })) : (c(), f(n(Pe), {
                                key: 1
                            })) ]),
                            _: 1
                        }) ]),
                        _: 1
                    })), [ [ P, [ "teachmanager:teach-course-directory:create" ] ] ]) ]),
                    _: 1
                }) ])) ]), o(cr, {
                    ref_key: "addTeachRef",
                    ref: J,
                    teachInfo: n(ve),
                    onHandleData: at,
                    treeList: n(Ie)
                }, null, 8, [ "teachInfo", "treeList" ]), o(ur, {
                    ref_key: "importTeachRef",
                    ref: pa,
                    downloadInfo: n(st),
                    onRefreshList: y
                }, null, 8, [ "downloadInfo" ]), o(_r, {
                    ref_key: "referenceTemplateRef",
                    ref: me,
                    onSubmitTemplate: ut
                }, null, 512), o(dr, {
                    ref_key: "referenceGraphRef",
                    ref: ca,
                    tableList: n(Za)
                }, null, 8, [ "tableList" ]), o(yr, {
                    ref_key: "addResourceDialogRef",
                    ref: ia,
                    onTableRefresh: y
                }, null, 512), o(vr, {
                    ref_key: "publishStuMaterialRef",
                    ref: Wa,
                    onDone: y
                }, null, 512), o(gt, {
                    ref_key: "ResourcePreviewRef",
                    ref: ha
                }, null, 512), o(Tr, {
                    ref_key: "editorResourceNameDialogRef",
                    ref: da,
                    onEditorNameDone: y
                }, null, 512), o(Sr, {
                    ref_key: "resourceSettingDialogRef",
                    ref: ge,
                    onDone: y,
                    scene: n(H),
                    isfromTeaching: 1
                }, null, 8, [ "scene" ]), o(xr, {
                    ref_key: "resourceStatisticsRef",
                    ref: va,
                    basicInformation: n(qa)
                }, null, 8, [ "basicInformation" ]), o($r, {
                    ref_key: "addNeuResSettingRef",
                    ref: se,
                    sourceType: n(N),
                    title: n(ee),
                    stepsOptions: n(ae),
                    selectedPaperIdList: n(ba),
                    onInsertQuestion: pt
                }, null, 8, [ "sourceType", "title", "stepsOptions", "selectedPaperIdList" ]), o(Gr, {
                    sourceType: n(N),
                    profileSettingTitle: n(_e),
                    controlsType: n(O),
                    ref_key: "profileSettingServiceRef",
                    ref: U,
                    onSetProfile: dt
                }, null, 8, [ "sourceType", "profileSettingTitle", "controlsType" ]), o(Er, {
                    ref_key: "EditPaperRef",
                    ref: Te,
                    form: n(z),
                    isCourseTeaching: !0,
                    onRefreshTheFlag: y
                }, null, 8, [ "form" ]), o(qr, {
                    sourceType: n(N),
                    controlsType: n(O),
                    selectedPaperIdList: n(ba),
                    onSetPublish: mt,
                    "is-start": n(te),
                    ref_key: "publishSettingServiceRef",
                    ref: $,
                    onClosePublishService: ht
                }, null, 8, [ "sourceType", "controlsType", "selectedPaperIdList", "is-start" ]), o(Ur, {
                    ref_key: "unPublishRef",
                    ref: M,
                    onConfirm: _t
                }, null, 512), o(Mr, {
                    modelValue: n(Z),
                    "onUpdate:modelValue": a[3] || (a[3] = r => Ot(Z) ? Z.value = r : null),
                    form: n(z),
                    "is-edit": !1
                }, null, 8, [ "modelValue", "form" ]), o(Jr, {
                    ref_key: "publishRef",
                    ref: D,
                    onSuccess: y
                }, null, 512), o(Zr, {
                    ref_key: "resSettingRef",
                    ref: oe,
                    onSuccess: y
                }, null, 512), o(Kr, {
                    ref_key: "unPublishProjectRef",
                    ref: B,
                    onSuccess: y
                }, null, 512), o(tl, {
                    ref_key: "preheatDialogRef",
                    ref: ce
                }, null, 512) ]);
            };
        }
    }, [ [ "__scopeId", "data-v-7bee5b38" ] ]);
});

export {
    xs as __tla,
    Ga as default
};