import {
    T as Dt,
    e as U,
    h as Bt,
    r as l,
    p as Ft,
    U as it,
    f as Ot,
    j as Ht,
    o as s,
    c as i,
    a as r,
    t as m,
    k as _,
    C as x,
    l as c,
    v as u,
    H as g,
    D as A,
    B as j,
    F as mt,
    y as ut,
    A as pt,
    m as Q,
    n as ft,
    _ as jt,
    J as Qt,
    ak as qt,
    a8 as Et,
    K as Mt,
    aU as Gt,
    __tla as Jt
} from "./index-6c08ea4c.js";

import {
    _ as Kt,
    __tla as Wt
} from "./index-71666e05.js";

import {
    _ as Xt,
    __tla as Yt
} from "./index-e2094cc0.js";

import {
    _ as Zt,
    __tla as $t
} from "./index-1024512a.js";

import {
    __tla as ta
} from "./dict-c5825220.js";

import {
    a as aa,
    __tla as ea
} from "./neuResourceQuestion-36ca89a3.js";

import ra, {
    __tla as la
} from "./profileSettingModule-38f31e63.js";

import _a, {
    __tla as sa
} from "./addNeuResSetting-bde24adf.js";

import oa, {
    __tla as ca
} from "./editQuestion-410e94a2.js";

import {
    a as dt,
    c as na,
    b as ia,
    s as ma,
    d as ht,
    __tla as ua
} from "./selectCourseResourcePackageQuestion.vue_vue_type_style_index_0_scoped_270afb37_lang-ab43f27d.js";

import pa, {
    __tla as fa
} from "./libraryPreview-b159731a.js";

import da, {
    __tla as ha
} from "./editPaper-059d11d7.js";

import {
    _ as ya
} from "./_plugin-vue_export-helper-1b428a4d.js";

import "./tree-05ea8e09.js";

import {
    __tla as va
} from "./DeptTag-1be092ce.js";

import {
    __tla as ga
} from "./index-ef4d146e.js";

import {
    __tla as ka
} from "./index-acea4f4f.js";

import {
    __tla as Ta
} from "./index-c4ca0ced.js";

import {
    __tla as Ca
} from "./index-993301ca.js";

import {
    __tla as Ia
} from "./questionBank-6fe58de9.js";

import {
    __tla as Aa
} from "./type1-bb9ab50e.js";

import {
    __tla as Ra
} from "./DictTag.vue_vue_type_script_lang-bb90acfe.js";

import "./color-a8b4eb58.js";

import {
    __tla as Va
} from "./type2-f7593207.js";

import {
    __tla as ba
} from "./type3-f0157d42.js";

import {
    __tla as Pa
} from "./type4-e194cfc5.js";

import {
    __tla as xa
} from "./type5-5cfc2694.js";

import {
    __tla as Sa
} from "./video-1d0dc730.js";

import {
    __tla as wa
} from "./file-e038b35d.js";

import {
    __tla as za
} from "./questionPreview-3c0f3206.js";

import {
    __tla as La
} from "./type6-f24b6333.js";

import {
    __tla as Na
} from "./type7-6a71ebde.js";

import {
    __tla as Ua
} from "./type20-1bb6de92.js";

import {
    __tla as Da
} from "./type30-1635403c.js";

import {
    __tla as Ba
} from "./myQuestionBank-a9dcc9db.js";

import {
    __tla as Fa
} from "./selectPaper-b73f45f0.js";

import {
    __tla as Oa
} from "./examPaperLibrary-5d47fe72.js";

import {
    __tla as Ha
} from "./formatTime-de6f1520.js";

import {
    __tla as ja
} from "./selectCourseResourcePackagePaper-57059c43.js";

import {
    __tla as Qa
} from "./viewDatabase.vue_vue_type_script_setup_true_lang-a51e8548.js";

import {
    __tla as qa
} from "./sqlDetail-6033fcff.js";

import {
    __tla as Ea
} from "./el-drawer-fca4d971.js";

import {
    __tla as Ma
} from "./manualConstruction-e91dda30.js";

import {
    __tla as Ga
} from "./questionInfo-7ad6a9af.js";

import {
    __tla as Ja
} from "./type1-81e690fe.js";

import {
    __tla as Ka
} from "./editEditor-a03e6696.js";

import {
    __tla as Wa
} from "./Editor-ef737d2a.js";

import {
    __tla as Xa
} from "./Editor.vue_vue_type_style_index_1_scoped_83b80ee8_lang-964690b9.js";

import {
    __tla as Ya
} from "./style.css_vue_type_style_index_0_src_true_lang-90967dd2.js";

import "./editEditor.vue_vue_type_style_index_0_scoped_bf777343_lang-f0d79ba2.js";

import {
    __tla as Za
} from "./type2-cee6fed1.js";

import {
    __tla as $a
} from "./type3-da6f6f46.js";

import {
    __tla as te
} from "./type4-0f2e1cd1.js";

import {
    __tla as ae
} from "./type5-a6b47fc2.js";

import {
    __tla as ee
} from "./type6-9fcada99.js";

import {
    __tla as re
} from "./type7-f25f20ee.js";

import {
    __tla as le
} from "./index-5adb716b.js";

import {
    __tla as _e
} from "./type30-8bfa018d.js";

import {
    __tla as se
} from "./sqlInfo-6616efed.js";

import {
    __tla as oe
} from "./type20-0744bc00.js";

import {
    __tla as ce
} from "./chooseTags-11285796.js";

import {
    __tla as ne
} from "./largeQuestionPreview-0d03e5d2.js";

import {
    __tla as ie
} from "./manuallyGroupVolumes-6152476e.js";

import "./keyboardDisable-3c8e0d58.js";

import {
    __tla as me
} from "./randomService-761e9983.js";

import {
    __tla as ue
} from "./rulemaking-fae7d850.js";

import {
    __tla as pe
} from "./batchEntry-8004f6eb.js";

import {
    __tla as fe
} from "./intelligentEntry-adfd5635.js";

import {
    __tla as de
} from "./largeQuestion-c60044ae.js";

import {
    __tla as he
} from "./questionItems-cc403f96.js";

import {
    __tla as ye
} from "./chooseQuestion-a0799ec7.js";

import {
    __tla as ve
} from "./selectQuestion-d00a026c.js";

import {
    __tla as ge
} from "./selectCourseResourcePackageQuestion-b7f0fe74.js";

import {
    __tla as ke
} from "./setScore-5ccc198a.js";

import {
    __tla as Te
} from "./assignmentAndAssessment-58199f67.js";

let yt, Ce = Promise.all([ (() => {
    try {
        return Jt;
    } catch {}
})(), (() => {
    try {
        return Wt;
    } catch {}
})(), (() => {
    try {
        return Yt;
    } catch {}
})(), (() => {
    try {
        return $t;
    } catch {}
})(), (() => {
    try {
        return ta;
    } catch {}
})(), (() => {
    try {
        return ea;
    } catch {}
})(), (() => {
    try {
        return la;
    } catch {}
})(), (() => {
    try {
        return sa;
    } catch {}
})(), (() => {
    try {
        return ca;
    } catch {}
})(), (() => {
    try {
        return ua;
    } catch {}
})(), (() => {
    try {
        return fa;
    } catch {}
})(), (() => {
    try {
        return ha;
    } catch {}
})(), (() => {
    try {
        return va;
    } catch {}
})(), (() => {
    try {
        return ga;
    } catch {}
})(), (() => {
    try {
        return ka;
    } catch {}
})(), (() => {
    try {
        return Ta;
    } catch {}
})(), (() => {
    try {
        return Ca;
    } catch {}
})(), (() => {
    try {
        return Ia;
    } catch {}
})(), (() => {
    try {
        return Aa;
    } catch {}
})(), (() => {
    try {
        return Ra;
    } catch {}
})(), (() => {
    try {
        return Va;
    } catch {}
})(), (() => {
    try {
        return ba;
    } catch {}
})(), (() => {
    try {
        return Pa;
    } catch {}
})(), (() => {
    try {
        return xa;
    } catch {}
})(), (() => {
    try {
        return Sa;
    } catch {}
})(), (() => {
    try {
        return wa;
    } catch {}
})(), (() => {
    try {
        return za;
    } catch {}
})(), (() => {
    try {
        return La;
    } catch {}
})(), (() => {
    try {
        return Na;
    } catch {}
})(), (() => {
    try {
        return Ua;
    } catch {}
})(), (() => {
    try {
        return Da;
    } catch {}
})(), (() => {
    try {
        return Ba;
    } catch {}
})(), (() => {
    try {
        return Fa;
    } catch {}
})(), (() => {
    try {
        return Oa;
    } catch {}
})(), (() => {
    try {
        return Ha;
    } catch {}
})(), (() => {
    try {
        return ja;
    } catch {}
})(), (() => {
    try {
        return Qa;
    } catch {}
})(), (() => {
    try {
        return qa;
    } catch {}
})(), (() => {
    try {
        return Ea;
    } catch {}
})(), (() => {
    try {
        return Ma;
    } catch {}
})(), (() => {
    try {
        return Ga;
    } catch {}
})(), (() => {
    try {
        return Ja;
    } catch {}
})(), (() => {
    try {
        return Ka;
    } catch {}
})(), (() => {
    try {
        return Wa;
    } catch {}
})(), (() => {
    try {
        return Xa;
    } catch {}
})(), (() => {
    try {
        return Ya;
    } catch {}
})(), (() => {
    try {
        return Za;
    } catch {}
})(), (() => {
    try {
        return $a;
    } catch {}
})(), (() => {
    try {
        return te;
    } catch {}
})(), (() => {
    try {
        return ae;
    } catch {}
})(), (() => {
    try {
        return ee;
    } catch {}
})(), (() => {
    try {
        return re;
    } catch {}
})(), (() => {
    try {
        return le;
    } catch {}
})(), (() => {
    try {
        return _e;
    } catch {}
})(), (() => {
    try {
        return se;
    } catch {}
})(), (() => {
    try {
        return oe;
    } catch {}
})(), (() => {
    try {
        return ce;
    } catch {}
})(), (() => {
    try {
        return ne;
    } catch {}
})(), (() => {
    try {
        return ie;
    } catch {}
})(), (() => {
    try {
        return me;
    } catch {}
})(), (() => {
    try {
        return ue;
    } catch {}
})(), (() => {
    try {
        return pe;
    } catch {}
})(), (() => {
    try {
        return fe;
    } catch {}
})(), (() => {
    try {
        return de;
    } catch {}
})(), (() => {
    try {
        return he;
    } catch {}
})(), (() => {
    try {
        return ye;
    } catch {}
})(), (() => {
    try {
        return ve;
    } catch {}
})(), (() => {
    try {
        return ge;
    } catch {}
})(), (() => {
    try {
        return ke;
    } catch {}
})(), (() => {
    try {
        return Te;
    } catch {}
})() ]).then(async () => {
    let q, E, M, G, J, K, W, X, Y, Z, $, tt, at, et;
    q = {
        class: "packAssignmentContainer"
    }, E = {
        key: 0
    }, M = {
        class: "conditionContainer"
    }, G = {
        class: "right btns-box"
    }, J = {
        class: "recordingContainer"
    }, K = {
        class: "ml10 feature"
    }, W = {
        class: "card_table"
    }, X = {
        class: "compound_container"
    }, Y = {
        class: "first_container"
    }, Z = [ "onClick" ], $ = {
        class: "neu-ellipse",
        style: {
            width: "40px",
            display: "inline-block",
            "text-align": "center"
        }
    }, tt = {
        class: "second_container"
    }, at = {
        key: 0,
        class: "operation"
    }, et = {
        key: 1,
        class: "page-empty"
    }, yt = ya({
        __name: "neuResourceAssignment",
        setup(Ie) {
            const D = Dt(), S = U(() => D.name.includes("Manage")), rt = U(() => D.params.id), B = U(() => Bt().isSupAdmin), w = l({}), lt = l(null), z = l(!1), C = Ft(), k = l(!1), T = l({}), R = l(null), vt = l(null), gt = l(null), F = l(null);
            l(null);
            const _t = l(0);
            let st = l(0);
            const kt = l([ {
                name: "选择作业"
            }, {
                name: "设置作业"
            } ]), L = l([]), O = l([]), V = l([]);
            l(window.innerHeight), it({
                flag: []
            });
            const Tt = U(() => [ {
                label: "作业标签",
                key: "testTag",
                type: "list",
                options: O.value
            } ]), d = it({
                testTag: "",
                name: "",
                isAssess: 2,
                pageNo: 1,
                pageSize: 10
            }), b = l([]), h = l([]), Ct = l(!1), It = a => {
                if (a && a.id) {
                    let t = h.value.findIndex(o => o.id === a.id);
                    t === -1 ? (h.value.push(a), L.value.push(a.id), V.value.push(a.id)) : (h.value.splice(t, 1), 
                    V.value.splice(index, 1), L.value.filter(v.id !== a.id));
                }
            }, At = a => {
                h.value = a ? b.value : [], V.value = a ? b.value.map(t => t.id) : [];
            }, ot = () => {
                F.value.handleOpen();
            }, Rt = (a, t) => {
                const {
                    _arr: o,
                    teachTags: I,
                    isAssess: f,
                    dirId: H
                } = a;
                if (o.length > 0) {
                    let N = {
                        paperIdList: o.map(P => P.id),
                        dirId: H,
                        teachTags: I,
                        isAssess: f,
                        paperType: 0,
                        sourceType: [ "3" ].includes(t) ? 1 : 0
                    };
                    N[B.value ? "neuPkgId" : "resPkgId"] = rt.value, na(N).then(() => {
                        F.value.onCancel(), C.success("创建成功！"), p(!0);
                    });
                }
            };
            function Vt(a) {
                d.name = a.name || "", d.testTag = a.testTag || "", p();
            }
            const p = (a = !1) => {
                let t = {
                    ...d,
                    teachTags: d.testTag ? [ d.testTag ] : [],
                    paperType: 0,
                    pageNo: d.pageNo - 1
                };
                t[B.value ? "neuPkgId" : "resPkgId"] = rt.value, ia(t).then(o => {
                    wt(), b.value = o, h.value = [], L.value = [], V.value = [], 
                    _t.value = o.length || 0, a && (st.value = o.length || 0);
                });
            }, bt = () => {
                R.value.validateForm().then(a => {
                    a && ma(T.value).then(() => {
                        C.success("操作成功"), k.value = !1, p();
                    });
                });
            }, Pt = () => {
                k.value = !0, ft(() => {
                    R.value.getTagList(), R.value.getDirectoryDropdownList(), T.value = {
                        ids: h.value.map(a => a.id),
                        teachTags: [],
                        isAssess: 0,
                        dirId: ""
                    };
                });
            }, xt = () => {
                T.value = {};
            }, St = async () => {
                await C.delConfirm("作业删除后不可恢复！确定删除作业吗？", "提示"), ht(h.value.map(a => a.id)).then(() => {
                    C.success("操作成功"), p();
                });
            }, wt = () => {
                aa(D.params.id).then(a => {
                    O.value = a == null ? void 0 : a.map(t => ({
                        ...t,
                        label: t.tagName,
                        value: t.id
                    }));
                });
            }, ct = a => {
                var t;
                return ((t = O.value.find(o => o.id === a)) == null ? void 0 : t.tagName) || "";
            };
            return Ot(() => {
                p(!0);
            }), (a, t) => {
                const o = Zt, I = jt, f = Qt, H = qt, N = Et, P = Mt, zt = Xt, Lt = Kt, Nt = Gt, nt = Ht("show-tip");
                return s(), i("div", q, [ r(st) > 0 ? (s(), i("div", E, [ m("div", M, [ _(o, {
                    ref: "ComSearchRef",
                    borderBox: !0,
                    keywordsInfo: {
                        label: "作业名称",
                        key: "name"
                    },
                    searchList: r(Tt),
                    class: "left",
                    onHandleSearch: Vt
                }, null, 8, [ "searchList" ]), m("div", G, [ r(S) ? (s(), x(f, {
                    key: 0,
                    plain: "",
                    size: "large",
                    type: "primary",
                    onClick: g(ot, [ "stop" ])
                }, {
                    default: c(() => [ _(I, {
                        class: "mr5",
                        icon: "ep:plus"
                    }), u(" 添加作业 ") ]),
                    _: 1
                })) : A("", !0) ]) ]), m("div", {
                    ref_key: "cardContainerRef",
                    ref: gt,
                    class: "card_container"
                }, [ m("div", J, [ m("span", null, "共计" + j(r(_t)), 1), m("span", K, [ u("仅查看计入考核作业"), _(H, {
                    class: "ml5",
                    size: "small",
                    modelValue: r(d).isAssess,
                    "onUpdate:modelValue": t[0] || (t[0] = e => r(d).isAssess = e),
                    "active-value": 1,
                    "inactive-value": 2,
                    onChange: t[1] || (t[1] = e => p())
                }, null, 8, [ "modelValue" ]) ]) ]), m("div", W, [ (s(!0), i(mt, null, ut(r(b), (e, Ut) => (s(), 
                i("div", {
                    key: e.id + Ut,
                    class: "card_item"
                }, [ m("div", X, [ m("div", Y, [ r(S) ? (s(), x(N, {
                    key: e.id,
                    value: e.id,
                    "model-value": r(V).includes(e.id),
                    "onUpdate:modelValue": y => It(e)
                }, null, 8, [ "value", "model-value", "onUpdate:modelValue" ])) : A("", !0), pt((s(), 
                i("span", {
                    class: "card_title neu-ellipse",
                    onClick: g(y => {
                        dt(e.id).then(n => {
                            w.value = {
                                ...n
                            }, z.value = !0;
                        });
                    }, [ "stop" ])
                }, [ _(P, {
                    content: e.name || "",
                    placement: "top"
                }, {
                    default: c(() => [ u(j(e.name || ""), 1) ]),
                    _: 2
                }, 1032, [ "content" ]) ], 8, Z)), [ [ nt ] ]), (s(!0), i(mt, null, ut(e.teachTags, y => (s(), 
                i("span", {
                    class: "tag-item",
                    key: y
                }, [ pt((s(), i("span", $, [ _(P, {
                    content: ct(y),
                    placement: "top"
                }, {
                    default: c(() => [ u(j(ct(y)), 1) ]),
                    _: 2
                }, 1032, [ "content" ]) ])), [ [ nt ] ]) ]))), 128)), r(B) || e.resIsNeu !== 1 ? A("", !0) : (s(), 
                x(I, {
                    key: 1,
                    class: "ml5",
                    icon: "svg-icon:icon-neuResTag",
                    size: 28
                })), e.isAssess !== 0 ? (s(), x(P, {
                    key: 2,
                    content: "计入考核点",
                    placement: "top"
                }, {
                    default: c(() => [ _(I, {
                        class: "ml5",
                        icon: "svg-icon:icon-checkTag",
                        size: 18
                    }) ]),
                    _: 1
                })) : A("", !0) ]), m("div", tt, [ r(S) ? (s(), i("span", at, [ _(f, {
                    link: "",
                    type: "primary",
                    onClick: g(y => (n => {
                        k.value = !0, ft(() => {
                            R.value.getTagList(), T.value = {
                                ids: [ n.id ],
                                teachTags: n.teachTags || [],
                                isAssess: n.isAssess,
                                dirId: n.dirId
                            };
                        });
                    })(e), [ "stop" ])
                }, {
                    default: c(() => [ u("作业设置") ]),
                    _: 2
                }, 1032, [ "onClick" ]), _(f, {
                    link: "",
                    type: "primary",
                    onClick: g(y => {
                        dt(e.id).then(n => {
                            w.value = {
                                ...n
                            }, lt.value.handleOpen();
                        });
                    }, [ "stop" ])
                }, {
                    default: c(() => [ u("编辑") ]),
                    _: 2
                }, 1032, [ "onClick" ]), _(f, {
                    link: "",
                    type: "danger",
                    onClick: g(y => (async n => {
                        await C.delConfirm("作业删除后不可恢复！确定删除作业吗？", "提示"), ht([ n.id ]).then(() => {
                            C.success("删除成功！"), p();
                        });
                    })(e), [ "stop" ])
                }, {
                    default: c(() => [ u("删除") ]),
                    _: 2
                }, 1032, [ "onClick" ]) ])) : A("", !0) ]) ]) ]))), 128)) ]) ], 512), _(zt, {
                    ref_key: "SelectionButtonGroupRef",
                    ref: vt,
                    btnList: [ "delete", "profileSetting" ],
                    checkBox: r(Ct),
                    "page-list": r(b),
                    "select-list": r(h),
                    subject: "文件",
                    onDelete: St,
                    onProfileSetting: Pt,
                    onSelectAll: At
                }, null, 8, [ "checkBox", "page-list", "select-list" ]) ])) : (s(), 
                i("div", et, [ _(Lt, {
                    msg: "暂无资源",
                    type: "resource"
                }), r(S) ? (s(), x(f, {
                    key: 0,
                    size: "large",
                    type: "primary",
                    onClick: g(ot, [ "stop" ])
                }, {
                    default: c(() => [ _(I, {
                        class: "mr5",
                        icon: "ep:plus"
                    }), u(" 添加作业 ") ]),
                    _: 1
                })) : A("", !0) ])), _(Nt, {
                    modelValue: r(k),
                    "onUpdate:modelValue": t[4] || (t[4] = e => Q(k) ? k.value = e : null),
                    title: "作业设置",
                    "max-height": 400,
                    scroll: !0,
                    truthHeight: 400,
                    width: "950",
                    onClose: xt
                }, {
                    footer: c(() => [ _(f, {
                        size: "large",
                        onClick: t[3] || (t[3] = g(e => k.value = !1, [ "stop" ]))
                    }, {
                        default: c(() => [ u("取消") ]),
                        _: 1
                    }), _(f, {
                        size: "large",
                        type: "primary",
                        onClick: g(bt, [ "stop" ])
                    }, {
                        default: c(() => [ u("确定") ]),
                        _: 1
                    }) ]),
                    default: c(() => [ _(ra, {
                        sourceType: "3",
                        ref_key: "ProfileSettingModuleRef",
                        ref: R,
                        formData: r(T),
                        "onUpdate:formData": t[2] || (t[2] = e => Q(T) ? T.value = e : null)
                    }, null, 8, [ "formData" ]) ]),
                    _: 1
                }, 8, [ "modelValue" ]), _(_a, {
                    ref_key: "addNeuResSettingRef",
                    ref: F,
                    title: "添加作业",
                    stepsOptions: r(kt),
                    selectedPaperIdList: r(L),
                    onInsertQuestion: Rt
                }, null, 8, [ "stepsOptions", "selectedPaperIdList" ]), _(oa, {
                    ref: "editQuestionRef",
                    isNeuRes: !0,
                    onRefreshTheFlag: t[5] || (t[5] = e => p())
                }, null, 512), _(pa, {
                    modelValue: r(z),
                    "onUpdate:modelValue": t[6] || (t[6] = e => Q(z) ? z.value = e : null),
                    form: r(w),
                    "is-edit": !1
                }, null, 8, [ "modelValue", "form" ]), _(da, {
                    ref_key: "EditPaperRef",
                    ref: lt,
                    form: r(w),
                    onRefreshTheFlag: p,
                    isResourcePack: !0
                }, null, 8, [ "form" ]) ]);
            };
        }
    }, [ [ "__scopeId", "data-v-a66a8a96" ] ]);
});

export {
    Ce as __tla,
    yt as default
};