import {
    r as y,
    T as qa,
    u as Ga,
    p as Ja,
    aa as Qa,
    e as T,
    f as Ya,
    o as i,
    c as u,
    t as s,
    a as e,
    C as x,
    D as d,
    v as p,
    B as m,
    k as o,
    l as n,
    x as Za,
    m as W,
    A as et,
    F as X,
    y as D,
    z as Ta,
    ai as at,
    dm as tt,
    K as st,
    a8 as lt,
    ad as rt,
    L as ot,
    cK as it,
    ae as ut,
    P as pt,
    J as ct,
    _ as nt,
    a9 as mt,
    R as dt,
    S as _t,
    __tla as vt
} from "./index-6c08ea4c.js";

import {
    _ as yt,
    __tla as ft
} from "./index.vue_vue_type_script_setup_true_name_ResourcePreview_lang-62b68757.js";

import {
    _ as ht,
    __tla as gt
} from "./index-71666e05.js";

import {
    _ as kt,
    __tla as wt
} from "./index-1344e56b.js";

import {
    E as bt,
    __tla as xt
} from "./el-image-0d184777.js";

import {
    __tla as Tt
} from "./el-image-viewer-2c0d56e4.js";

import {
    _ as St,
    __tla as Vt
} from "./index-81dbd56d.js";

import {
    _ as It,
    __tla as Lt
} from "./DictTag.vue_vue_type_script_lang-bb90acfe.js";

import {
    E as Rt,
    __tla as jt
} from "./el-avatar-76960a98.js";

import {
    g as Ot
} from "./file.data-794ea5d0.js";

import {
    j as Sa,
    m as Ct,
    k as Nt,
    l as Ut,
    n as Et,
    o as Pt,
    p as zt,
    __tla as At
} from "./score-b548b686.js";

import {
    D as Va,
    __tla as Bt
} from "./dict-c5825220.js";

import {
    f as Ft,
    __tla as Mt
} from "./formatTime-de6f1520.js";

import {
    a as U,
    B as Kt,
    __tla as Wt
} from "./file-e038b35d.js";

import Xt, {
    __tla as Dt
} from "./supplement-2a2cfc5f.js";

import Ht, {
    __tla as $t
} from "./check-list-a5277179.js";

import {
    _ as qt
} from "./_plugin-vue_export-helper-1b428a4d.js";

import {
    __tla as Gt
} from "./index.es-14d10e28.js";

import {
    __tla as Jt
} from "./project-file-a2b4fd07.js";

import {
    __tla as Qt
} from "./throttle-1adeb119.js";

import "./color-a8b4eb58.js";

import "./file_题-23882218.js";

import {
    __tla as Yt
} from "./index-1024512a.js";

import "./tree-05ea8e09.js";

import {
    __tla as Zt
} from "./DeptTag-1be092ce.js";

import {
    __tla as es
} from "./index-ef4d146e.js";

import {
    __tla as as
} from "./check-dialog-463cb4ef.js";

import {
    __tla as ts
} from "./check-a26308bc.js";

import {
    __tla as ss
} from "./code-a0d24f62.js";

import {
    __tla as ls
} from "./dialogProblem-fa4d1fd2.js";

import {
    __tla as rs
} from "./group-7c00fc2a.js";

import {
    __tla as os
} from "./check-detail-Dialog-c03f0876.js";

import {
    __tla as is
} from "./el-drawer-fca4d971.js";

import {
    __tla as us
} from "./check-result-070ada17.js";

import {
    __tla as ps
} from "./checkOverview-9cc05c66.js";

import "./check-C-7cf0dd88.js";

import {
    __tla as cs
} from "./checkProblems-ac1fe994.js";

import {
    __tla as ns
} from "./index-c4ca0ced.js";

import {
    __tla as ms
} from "./index-993301ca.js";

import {
    __tla as ds
} from "./el-collapse-item-c8b76a0a.js";

import {
    __tla as _s
} from "./checkCodes-f0c443b2.js";

import {
    __tla as vs
} from "./el-breadcrumb-item-45b75827.js";

import {
    __tla as ys
} from "./diff-code-51383ecb.js";

import "./html2canvas.esm-ad032b91.js";

let Ia, fs = Promise.all([ (() => {
    try {
        return vt;
    } catch {}
})(), (() => {
    try {
        return ft;
    } catch {}
})(), (() => {
    try {
        return gt;
    } catch {}
})(), (() => {
    try {
        return wt;
    } catch {}
})(), (() => {
    try {
        return xt;
    } catch {}
})(), (() => {
    try {
        return Tt;
    } catch {}
})(), (() => {
    try {
        return Vt;
    } catch {}
})(), (() => {
    try {
        return Lt;
    } catch {}
})(), (() => {
    try {
        return jt;
    } catch {}
})(), (() => {
    try {
        return At;
    } catch {}
})(), (() => {
    try {
        return Bt;
    } catch {}
})(), (() => {
    try {
        return Mt;
    } catch {}
})(), (() => {
    try {
        return Wt;
    } catch {}
})(), (() => {
    try {
        return Dt;
    } catch {}
})(), (() => {
    try {
        return $t;
    } catch {}
})(), (() => {
    try {
        return Gt;
    } catch {}
})(), (() => {
    try {
        return Jt;
    } catch {}
})(), (() => {
    try {
        return Qt;
    } catch {}
})(), (() => {
    try {
        return Yt;
    } catch {}
})(), (() => {
    try {
        return Zt;
    } catch {}
})(), (() => {
    try {
        return es;
    } catch {}
})(), (() => {
    try {
        return as;
    } catch {}
})(), (() => {
    try {
        return ts;
    } catch {}
})(), (() => {
    try {
        return ss;
    } catch {}
})(), (() => {
    try {
        return ls;
    } catch {}
})(), (() => {
    try {
        return rs;
    } catch {}
})(), (() => {
    try {
        return os;
    } catch {}
})(), (() => {
    try {
        return is;
    } catch {}
})(), (() => {
    try {
        return us;
    } catch {}
})(), (() => {
    try {
        return ps;
    } catch {}
})(), (() => {
    try {
        return cs;
    } catch {}
})(), (() => {
    try {
        return ns;
    } catch {}
})(), (() => {
    try {
        return ms;
    } catch {}
})(), (() => {
    try {
        return ds;
    } catch {}
})(), (() => {
    try {
        return _s;
    } catch {}
})(), (() => {
    try {
        return vs;
    } catch {}
})(), (() => {
    try {
        return ys;
    } catch {}
})() ]).then(async () => {
    let f, H, $, q, G, J, Q, Y, Z, ee, ae, te, se, le, re, oe, ie, ue, pe, ce, ne, me, de, _e, ve, ye, fe, he, ge, ke, we, be, xe, Te, Se, Ve, Ie, Le, Re, je, Oe, Ce, Ne, Ue, Ee, Pe, ze, Ae, Be, Fe, Me, Ke, We, Xe, De, He, $e, qe, Ge, Je, Qe, Ye, Ze, ea, aa, ta, sa, la, ra, oa, ia, ua, pa, ca, na, ma, da;
    f = C => (dt("data-v-440f3053"), C = C(), _t(), C), H = {
        class: "project-preview",
        noBgColor: !0
    }, $ = {
        class: "page-header"
    }, q = {
        class: "header-left"
    }, G = {
        class: "header-title"
    }, J = {
        class: "flex",
        style: {
            "align-items": "center"
        }
    }, Q = {
        key: 0,
        class: "header-title-number ml-10px px-1"
    }, Y = {
        class: "header-info mt-5 flex"
    }, Z = {
        key: 0,
        class: "className neu-ellipse mr-8"
    }, ee = f(() => s("span", {
        class: "label mr-2"
    }, " 班级:", -1)), ae = {
        key: 1,
        class: "className neu-ellipse mr-8 flex"
    }, te = f(() => s("span", {
        class: "label mr-2"
    }, " 组长:", -1)), se = {
        key: 2,
        class: "className neu-ellipse mr-8"
    }, le = f(() => s("span", {
        class: "label mr-2"
    }, " 成员数:", -1)), re = {
        class: "progressBar flex"
    }, oe = f(() => s("span", {
        class: "label mr-2"
    }, " 完成度:", -1)), ie = {
        class: "header-right",
        style: {
            height: "100%"
        }
    }, ue = {
        class: "page-main"
    }, pe = {
        class: "center-box"
    }, ce = {
        class: "taskScore"
    }, ne = {
        class: "title"
    }, me = {
        class: "ml-5"
    }, de = {
        class: "right btns-box header-btns"
    }, _e = {
        key: 0,
        class: "flex",
        style: {
            "align-items": "center"
        }
    }, ve = {
        key: 0,
        class: "file-name"
    }, ye = [ "src" ], fe = [ "onClick" ], he = {
        key: 1
    }, ge = {
        key: 1
    }, ke = {
        key: 0,
        class: "taskScore"
    }, we = f(() => s("div", {
        class: "title"
    }, [ s("span", {
        class: "ml-5"
    }, "个人成绩") ], -1)), be = {
        key: 0,
        class: "taskScore"
    }, xe = f(() => s("div", {
        class: "title"
    }, [ s("span", {
        class: "ml-5"
    }, "评测数据") ], -1)), Te = {
        key: 0
    }, Se = {
        key: 0,
        class: "detail"
    }, Ve = {
        class: "mr-4"
    }, Ie = {
        class: "dot"
    }, Le = {
        key: 0
    }, Re = {
        key: 1
    }, je = {
        key: 0
    }, Oe = {
        key: 0
    }, Ce = {
        key: 1
    }, Ne = f(() => s("span", null, null, -1)), Ue = {
        class: "taskName"
    }, Ee = {
        key: 1
    }, Pe = {
        key: 0,
        class: "testbox m3-2 mx-6 mt-6px pr-2"
    }, ze = {
        class: "mb-5"
    }, Ae = {
        class: "testStep"
    }, Be = {
        class: "value"
    }, Fe = {
        class: "gray",
        style: {
            "font-size": "12px"
        }
    }, Me = {
        class: "testName pl-14px"
    }, Ke = {
        class: "value"
    }, We = {
        key: 0,
        class: "testContent pl-14px"
    }, Xe = f(() => s("span", {
        class: "label"
    }, "截图检查：", -1)), De = {
        class: "capture"
    }, He = {
        key: 1,
        class: "testContent pl-14px"
    }, $e = f(() => s("span", {
        class: "label"
    }, "步骤检测", -1)), qe = {
        class: "value"
    }, Ge = {
        key: 2,
        class: "testContent pl-14px"
    }, Je = f(() => s("span", {
        class: "label"
    }, " 实验记录：", -1)), Qe = {
        class: "value"
    }, Ye = {
        key: 1,
        class: "pb-5 pl-6 pt-5"
    }, Ze = {
        key: 2,
        style: {
            width: "100%",
            height: "300px",
            overflow: "auto"
        },
        class: "mb-5 mt-5"
    }, ea = {
        key: 1
    }, aa = {
        key: 1,
        class: "taskCommon mt-10"
    }, ta = f(() => s("div", {
        class: "title"
    }, [ s("span", {
        class: "ml-5"
    }, "代码检查") ], -1)), sa = {
        class: "taskCommon mt-10"
    }, la = {
        class: "title"
    }, ra = f(() => s("span", {
        class: "ml-5"
    }, "评语", -1)), oa = {
        class: "right btns-box header-btns"
    }, ia = f(() => s("div", {
        style: {
            height: "100px"
        }
    }, null, -1)), ua = {
        class: "selection-button-group"
    }, pa = f(() => s("div", {
        class: "shadow"
    }, null, -1)), ca = {
        class: "selection-container"
    }, na = {
        class: "selection-left"
    }, ma = {
        class: "selection-center"
    }, da = {
        __name: "index",
        setup(C) {
            const S = y([]), h = qa(), La = Ga(), _a = Ja(), {
                t: Ra
            } = Qa(), E = y(!1), va = y(), V = y(1), I = y(1), R = y(0), P = y(""), z = y(""), l = y({
                userRespVO: {},
                groupRespVO: {},
                userTaskList: [],
                groupTaskList: [],
                groupUserList: [],
                comment: "",
                projectTotalScore: 100,
                projectScore: 0
            });
            T(() => {
                var a;
                return ((a = document.getElementsByClassName("center-core")[0]) == null ? void 0 : a.offsetWidth) / 2;
            });
            const ya = y({
                userShowList: T(() => k.value == 2 ? l.value.userTaskList.filter(a => {
                    if (!V.value || V.value == a.isInclude) return a;
                }) : l.value.userTaskList.filter(a => {
                    if (!I.value || I.value == a.isAchievement) return a;
                })),
                groupShowList: T(() => k.value == 2 ? l.value.groupTaskList.filter(a => {
                    if (!V.value || V.value == a.isInclude) return a;
                }) : l.value.groupTaskList.filter(a => {
                    if (!I.value || I.value == a.isAchievement) return a;
                }))
            }), A = y([]), ja = a => {
                let r = ((fa.value ?? 0) * (l.value.groupUserList || []).length * a / 100).toFixed(1);
                if (r == 0) r = 0; else if (r > 100) r = 100; else {
                    const w = parseFloat(r.toString().split(".")[1]);
                    w > 5 ? r = (parseInt(r) + 1).toFixed(1) : w < 5 && (r = parseInt(r).toFixed(1));
                }
                return r;
            }, _ = T(() => h.params.completeType), g = y("10"), k = y("2"), fa = T(() => k.value == "1" ? l.value.projectScore : _.value == "1" ? l.value.userTaskList.reduce((a, r) => a + (r.isInclude ? Number(r.getScore || 0) : 0), 0) : l.value.groupTaskList.reduce((a, r) => a + (r.isInclude ? Number(r.groupTaskScore || 0) : 0), 0)), Oa = T(() => S.value.length === 0 || S.value.filter(a => a.submitStatus != "1").length > 0), Ca = T(() => S.value.length === 0 || S.value.filter(a => a.submitStatus == "1").length > 0), Na = a => [ "一", "二", "三", "四", "五", "六", "七", "八", "九", "十", "十一", "十二", "十三", "十四", "十五", "十六", "十七", "十八", "十九", "二十", "二十一" ][a - 1], ha = a => {
                S.value = a;
            }, j = y({
                projectId: h.params.projectId,
                id: T(() => h.params.userId !== "false" ? h.params.userId : h.params.groupId)
            }), ga = async () => {
                var r, w;
                const a = await Sa(j.value);
                l.value.comment = a.comment, l.value.completeType = a.completeType, 
                g.value = a.environment, k.value = a.scoreType, l.value.groupRespVO = a.groupRespVO ?? {}, 
                l.value.groupTaskList = a.groupTaskList ?? [], l.value.groupUserList = a.groupUserList ?? [], 
                l.value.projectTotalScore = a.projectTotalScore ?? 100, l.value.projectScore = a.completeType == 1 ? (r = a.userRespVO) == null ? void 0 : r.finalScore : (w = a.groupRespVO) == null ? void 0 : w.finalScore, 
                l.value.userRespVO = a.userRespVO ?? {}, l.value.userTaskList = a.userTaskList ?? [], 
                R.value = a.isShowTeacher ?? 0, a.scoreType == 2 && (document.getElementById("activeTitle").innerHTML = "任务评分"), 
                [ "5", "10" ].includes(g.value.toString()) && Aa();
            }, Ua = async () => {
                const a = await Sa(j.value);
                l.value.groupTaskList = a.groupTaskList ?? [], l.value.groupUserList = a.groupUserList ?? [], 
                l.value.userTaskList = a.userTaskList ?? [], l.value.userRespVO = a.userRespVO ?? {}, 
                l.value.groupRespVO = a.groupRespVO ?? {};
            }, Ea = async () => {
                if (k.value == 1 && !l.value.projectScore) return _a.notifyError("请输入项目评分");
                let a = {
                    projectId: h.params.projectId,
                    comment: l.value.comment,
                    isShowTeacher: R.value
                };
                if (_.value == "1") a.user = {
                    userId: h.params.userId,
                    projectScore: l.value.projectScore,
                    userScoreList: l.value.userTaskList.map(r => ({
                        userTaskId: r.userTaskId,
                        score: r.getScore
                    }))
                }; else {
                    if (l.value.groupUserList.reduce((r, w) => r + (w.contribution ? Number(w.contribution || 0) : 0), 0) > 100) return tt({
                        title: "提示",
                        message: "当前项目贡献度加和不能超过1",
                        type: "warning"
                    });
                    a.group = {
                        groupId: h.params.groupId,
                        projectScore: l.value.projectScore,
                        taskScoreList: l.value.groupTaskList.map(r => ({
                            taskId: r.taskId,
                            score: r.groupTaskScore
                        })),
                        userScoreList: l.value.groupUserList.map(r => ({
                            userId: r.userId,
                            score: r.newScore,
                            contribution: r.contribution
                        }))
                    };
                }
                try {
                    await Ct(a), _a.success(Ra("保存成功")), ga();
                } finally {}
            }, B = y(), Pa = () => {
                B.value.open(S.value.map(a => a.userTaskId), "supplement");
            }, za = () => {
                B.value.open(S.value.map(a => a.userTaskId), "back");
            };
            ga();
            const Aa = async () => {
                E.value = !0;
                let a = {
                    projectId: h.params.projectId
                };
                _.value == "1" ? a.userId = h.params.userId : a.groupId = h.params.groupId;
                try {
                    let r = g.value == "5" ? Nt : Ut;
                    A.value = await r(a);
                } finally {
                    E.value = !1;
                }
            };
            y([]);
            const Ba = async () => {
                const a = await Et(j.value), {
                    address: r
                } = await Kt(a.data);
                window.open(`http://${r}`);
            }, ka = a => {
                La.push({
                    name: "ProjectScore",
                    params: {
                        projectId: h.params.projectId,
                        userId: _.value == 1 ? a : "false",
                        groupId: _.value == 2 ? a : "false",
                        completeType: _.value
                    }
                });
            };
            return Ya(() => {
                (async () => P.value = await Pt(j.value))(), (async () => z.value = await zt(j.value))();
            }), (a, r) => {
                var xa;
                const w = Rt, wa = It, F = st, Fa = St, M = lt, v = rt, K = ot, O = it, ba = ut, Ma = bt, Ka = kt, Wa = ht, Xa = pt, L = ct, N = nt, Da = yt, Ha = mt;
                return i(), u("div", H, [ s("div", $, [ s("div", q, [ s("div", G, [ s("span", J, [ e(_) == "1" ? (i(), 
                x(w, {
                    key: 0,
                    src: e(U)(e(l).userRespVO.avatar),
                    size: 32,
                    class: "mr-10px"
                }, null, 8, [ "src" ])) : d("", !0), p(" " + m(e(_) == "1" ? e(l).userRespVO.nickName : e(l).groupRespVO.groupName), 1) ]), e(_) == "1" ? (i(), 
                u("span", Q, m(e(l).userRespVO.number), 1)) : d("", !0), o(wa, {
                    class: "ml-10px",
                    type: e(Va).EXP_SCORE_COMPLETE_STATUS,
                    value: ((xa = e(l).userRespVO) == null ? void 0 : xa.finalStatus) ?? e(l).groupRespVO.finalStatus
                }, null, 8, [ "type", "value" ]) ]), s("div", Y, [ e(_) == "1" ? (i(), 
                u("div", Z, [ ee, o(F, {
                    effect: "dark",
                    content: e(l).userRespVO.deptName,
                    placement: "top-start"
                }, {
                    default: n(() => [ p(m(e(l).userRespVO.deptName), 1) ]),
                    _: 1
                }, 8, [ "content" ]) ])) : d("", !0), e(_) == "2" ? (i(), u("div", ae, [ te, o(w, {
                    src: e(U)(e(l).groupRespVO.leaderAvatar),
                    size: 20,
                    class: "mr-5px"
                }, null, 8, [ "src" ]), p(" " + m(e(l).groupRespVO.leaderName), 1) ])) : d("", !0), e(_) == "2" ? (i(), 
                u("div", se, [ le, p(" " + m(e(l).groupRespVO.userCount), 1) ])) : d("", !0), s("div", re, [ oe, o(Fa, {
                    percentage: e(l).userRespVO.completePercent ?? e(l).groupRespVO.completePercent,
                    style: {
                        width: "200px",
                        "margin-left": "20px"
                    }
                }, null, 8, [ "percentage" ]) ]) ]) ]), s("div", ie, m(e(fa)), 1) ]), s("div", ue, [ s("div", pe, [ s("div", {
                    class: "taskWrap",
                    style: Za({
                        "flex-direction": e(k) == "1" ? "column-reverse" : "column"
                    })
                }, [ s("div", ce, [ s("div", ne, [ s("span", me, "任务" + m(e(k) == "2" ? "成绩" : "数据"), 1), s("div", de, [ e(k) == 2 ? (i(), 
                x(M, {
                    key: 0,
                    modelValue: e(V),
                    "onUpdate:modelValue": r[0] || (r[0] = t => W(V) ? V.value = t : null),
                    label: "仅看计入成绩任务",
                    size: "large",
                    "true-value": 1,
                    "false-label": 0
                }, null, 8, [ "modelValue" ])) : (i(), x(M, {
                    key: 1,
                    modelValue: e(I),
                    "onUpdate:modelValue": r[1] || (r[1] = t => W(I) ? I.value = t : null),
                    label: "仅看提交成果任务",
                    size: "large",
                    "true-value": 1,
                    "false-label": 0
                }, null, 8, [ "modelValue" ])) ]) ]), o(ba, {
                    data: e(_) == "1" ? e(ya).userShowList : e(ya).groupShowList,
                    onSelectionChange: ha,
                    "max-heigh": "500"
                }, {
                    default: n(() => [ o(v, {
                        type: "selection",
                        width: "55"
                    }), o(v, {
                        type: "index",
                        width: "60",
                        label: "序号"
                    }), o(v, {
                        "show-overflow-tooltip": "",
                        label: "任务名称",
                        "min-width": "150"
                    }, {
                        default: n(({
                            row: t
                        }) => [ p(m(t.taskName ?? t.name), 1) ]),
                        _: 1
                    }), o(v, {
                        label: "任务状态",
                        prop: "submitType",
                        "min-width": "190"
                    }, {
                        default: n(t => [ o(wa, {
                            type: e(Va).EXP_SCORE_TASK_STATUS,
                            value: t.row.submitStatus
                        }, null, 8, [ "type", "value" ]), s("span", null, [ t.row.isBack == 1 ? (i(), 
                        x(K, {
                            key: 0,
                            effect: "dark",
                            type: "danger",
                            size: "small",
                            round: !0,
                            class: "submitType submitType_3 ml-1"
                        }, {
                            default: n(() => [ p(" 打回") ]),
                            _: 1
                        })) : d("", !0), t.row.isSupplement == 1 ? (i(), x(K, {
                            key: 1,
                            type: "warning",
                            effect: "dark",
                            size: "small",
                            round: !0,
                            class: "submitType submitType_2 ml-1"
                        }, {
                            default: n(() => [ p(" 补交中") ]),
                            _: 1
                        })) : d("", !0) ]) ]),
                        _: 1
                    }), e(g) != "0" && e(g) != "15" ? (i(), x(v, {
                        key: 0,
                        label: "评测次数",
                        prop: "testCount",
                        "min-width": "180"
                    })) : d("", !0), e(_) == "2" ? (i(), x(v, {
                        key: 1,
                        label: "负责人",
                        prop: "headerName",
                        "show-overflow-tooltip": "",
                        "min-width": "100"
                    })) : d("", !0), o(v, {
                        label: "完成时间",
                        prop: "submitTime",
                        "min-width": "160",
                        "show-overflow-tooltip": ""
                    }, {
                        default: n(t => [ p(m(e(Ft)(t.row.submitTime) || "--"), 1) ]),
                        _: 1
                    }), o(v, {
                        label: "成果物",
                        prop: "isAchievement",
                        "min-width": "200"
                    }, {
                        default: n(({
                            row: t
                        }) => [ t.isAchievement == 1 ? (i(), u("div", _e, [ t.fileEid ? (i(), 
                        u("div", ve, [ s("img", {
                            src: e(Ot)(t.fileName),
                            alt: "",
                            style: {
                                width: "18px",
                                "flex-shrink": "0",
                                "margin-right": "6px"
                            }
                        }, null, 8, ye), o(F, {
                            effect: "dark",
                            content: t.fileName,
                            placement: "top",
                            enterable: !1
                        }, {
                            default: n(() => [ s("span", {
                                class: "file-name__span",
                                onClick: b => {
                                    return c = t, void va.value.operation({
                                        eid: c.fileEid,
                                        resType: Number(c.fileType)
                                    });
                                    var c;
                                }
                            }, m(t.fileName), 9, fe) ]),
                            _: 2
                        }, 1032, [ "content" ]) ])) : (i(), u("div", he, [ o(K, {
                            type: "warning"
                        }, {
                            default: n(() => [ p("未上传") ]),
                            _: 1
                        }) ])) ])) : (i(), u("div", ge, "--")) ]),
                        _: 1
                    }), e(_) == "1" && e(k) == "2" ? (i(), x(v, {
                        key: 2,
                        fixed: "right",
                        label: "任务得分",
                        prop: "",
                        "min-width": "180"
                    }, {
                        default: n(t => [ o(O, {
                            style: {
                                width: "80px"
                            },
                            modelValue: t.row.getScore,
                            "onUpdate:modelValue": b => t.row.getScore = b,
                            min: 0,
                            max: t.row.totalScore,
                            step: .5,
                            "step-strictly": "",
                            controls: !1,
                            precision: 1
                        }, null, 8, [ "modelValue", "onUpdate:modelValue", "max" ]), p("  /" + m(t.row.totalScore), 1) ]),
                        _: 1
                    })) : d("", !0), e(_) == "2" && e(k) == "2" ? (i(), x(v, {
                        key: 3,
                        label: "任务得分",
                        prop: "",
                        "min-width": "180",
                        fixed: "right"
                    }, {
                        default: n(t => [ o(O, {
                            style: {
                                width: "80px"
                            },
                            modelValue: t.row.groupTaskScore,
                            "onUpdate:modelValue": b => t.row.groupTaskScore = b,
                            min: 0,
                            max: t.row.totalScore,
                            step: .5,
                            "step-strictly": "",
                            controls: !1,
                            precision: 1
                        }, null, 8, [ "modelValue", "onUpdate:modelValue", "max" ]), p("  /" + m(t.row.totalScore), 1) ]),
                        _: 1
                    })) : d("", !0) ]),
                    _: 1
                }, 8, [ "data" ]) ]), e(_) == "2" ? (i(), u("div", ke, [ we, o(ba, {
                    data: e(l).groupUserList,
                    onSelectionChange: ha,
                    "max-heigh": "500"
                }, {
                    default: n(() => [ o(v, {
                        "show-overflow-tooltip": "",
                        label: "姓名",
                        prop: "nickName",
                        "min-width": "120"
                    }), o(v, {
                        "show-overflow-tooltip": "",
                        label: "学号",
                        prop: "number",
                        "min-width": "120"
                    }), o(v, {
                        "show-overflow-tooltip": "",
                        label: "班级",
                        prop: "deptName",
                        "min-width": "120"
                    }), o(v, {
                        "show-overflow-tooltip": "",
                        label: "角色",
                        prop: "roleName",
                        "min-width": "120"
                    }), o(v, {
                        "show-overflow-tooltip": "",
                        label: "任务完成情况 ",
                        prop: "taskComplete",
                        "min-width": "150"
                    }), o(v, {
                        label: "项目贡献度",
                        prop: "finallStatus",
                        "min-width": "150"
                    }, {
                        default: n(t => [ o(O, {
                            modelValue: t.row.contribution,
                            "onUpdate:modelValue": b => t.row.contribution = b,
                            min: 0,
                            max: 100,
                            step: 1,
                            "step-strictly": "",
                            controls: !1,
                            style: {
                                width: "100px"
                            },
                            "value-on-clear": 0
                        }, null, 8, [ "modelValue", "onUpdate:modelValue" ]), p("   % ") ]),
                        _: 1
                    }), e(_) == 2 ? (i(), x(v, {
                        key: 0,
                        label: "个人成绩",
                        prop: "",
                        "min-width": "100"
                    }, {
                        default: n(t => [ p(m(t.row.isScoreChanged ? t.row.score : ja(t.row.contribution)), 1) ]),
                        _: 1
                    })) : d("", !0), o(v, {
                        label: "调分",
                        prop: "",
                        "min-width": "150"
                    }, {
                        default: n(t => [ o(O, {
                            modelValue: t.row.newScore,
                            "onUpdate:modelValue": b => t.row.newScore = b,
                            min: 1,
                            max: 100,
                            step: .5,
                            "step-strictly": "",
                            controls: !1,
                            style: {
                                width: "80px"
                            }
                        }, null, 8, [ "modelValue", "onUpdate:modelValue" ]) ]),
                        _: 1
                    }) ]),
                    _: 1
                }, 8, [ "data" ]) ])) : d("", !0) ], 4), e(g) == "5" || e(g) == "10" ? et((i(), 
                u("div", be, [ xe, e(A).length > 0 ? (i(), u("div", Te, [ (i(!0), 
                u(X, null, D(e(A), t => {
                    var b;
                    return i(), u("div", {
                        class: "taskBox",
                        key: t.id
                    }, [ ((b = t.tests) == null ? void 0 : b.length) > 0 || e(g) == "5" ? (i(), 
                    u("div", Se, [ s("div", Ve, "评测次数: " + m(t.testTotal), 1), s("div", Ie, [ p("详细信息： "), e(g) == "10" ? (i(), 
                    u("div", Le, [ (i(!0), u(X, null, D(t.tests, c => (i(), u("span", {
                        key: c.id
                    }, [ o(F, {
                        class: "box-item",
                        effect: "dark",
                        content: c.name,
                        placement: "top-start"
                    }, {
                        default: n(() => [ s("span", {
                            class: Ta([ "status-testbox neu-pointer mb-1 mr-5px", c.resultType === 0 || c.resultType === 2 ? "red" : c.resultType === 1 ? "green" : "" ])
                        }, null, 2) ]),
                        _: 2
                    }, 1032, [ "content" ]) ]))), 128)) ])) : (i(), u("div", Re, [ p("共有" + m(t.evaluationTestTotal) + "组测试集 ", 1), t.testTotal != 0 ? (i(), 
                    u("span", je, [ p("， "), t.evaluationTestFailTotal == 0 ? (i(), 
                    u("span", Oe, "测试结果均匹配")) : (i(), u("span", Ce, "其中" + m(t.evaluationTestFailTotal) + "组测试结果不匹配", 1)) ])) : d("", !0), Ne ])) ]) ])) : d("", !0), s("div", Ue, m(t.taskName), 1), e(g) == 10 ? (i(), 
                    u("div", Ee, [ t.tests && t.tests.length > 0 ? (i(), u("div", Pe, [ (i(!0), 
                    u(X, null, D(t.tests, (c, $a) => (i(), u("div", {
                        class: "content-textbox mb-2",
                        key: $a
                    }, [ s("div", ze, [ s("div", Ae, [ s("span", {
                        class: Ta([ "status-testbox mb-1 mr-1", c.resultType === 0 || c.resultType === 2 ? "red" : c.resultType === 1 ? "green" : "" ])
                    }, null, 2), p(" 步骤"), s("span", Be, m(Na(c.step)), 1), s("span", Fe, " （ 成功" + m(c.successTotal) + "次, 失败" + m(c.failTotal) + "次 ） ", 1) ]), s("div", Me, [ p(" 检测名称："), s("span", Ke, m(c.name), 1) ]), c.type == 2 ? (i(), 
                    u("div", We, [ Xe, s("span", De, [ o(Ma, {
                        style: {
                            width: "100%",
                            height: "100%"
                        },
                        src: e(U)(c.content),
                        "preview-src-list": [ e(U)(c.content) ],
                        fit: "cover"
                    }, null, 8, [ "src", "preview-src-list" ]) ]) ])) : d("", !0), c.type == 1 ? (i(), 
                    u("div", He, [ $e, p("："), s("span", qe, m(c.resultMsg), 1) ])) : d("", !0), c.type == 3 ? (i(), 
                    u("div", Ge, [ Je, s("span", Qe, m(c.resultMsg), 1) ])) : d("", !0) ]) ]))), 128)) ])) : (i(), 
                    u("div", Ye, "无评测要求")) ])) : (i(), u("div", Ze, [ o(Ka, {
                        ref_for: !0,
                        ref: "codeEditorRef",
                        code: t.inputCode,
                        readOnly: !0,
                        id: "code-editor" + t.taskId
                    }, null, 8, [ "code", "id" ]) ])) ]);
                }), 128)) ])) : (i(), u("div", ea, [ o(Wa, {
                    msg: "暂无评测数据",
                    type: "resource",
                    width: "150px"
                }) ])) ])), [ [ Ha, e(E) ] ]) : d("", !0), e(g) == "15" ? (i(), 
                u("div", aa, [ ta, s("div", null, [ o(Ht, {
                    from: "teachingProjectScore"
                }) ]) ])) : d("", !0), s("div", sa, [ s("div", la, [ ra, s("div", oa, [ o(M, {
                    modelValue: e(R),
                    "onUpdate:modelValue": r[2] || (r[2] = t => W(R) ? R.value = t : null),
                    label: "仅教师可见",
                    size: "large",
                    "true-value": 1,
                    "false-label": 0
                }, null, 8, [ "modelValue" ]) ]) ]), s("div", null, [ o(Xa, {
                    type: "textarea",
                    modelValue: e(l).comment,
                    "onUpdate:modelValue": r[3] || (r[3] = t => e(l).comment = t),
                    placeholder: "请输入",
                    autosize: {
                        minRows: 4,
                        maxRows: 8
                    },
                    maxlength: "500",
                    "show-word-limit": ""
                }, null, 8, [ "modelValue" ]) ]) ]), ia ]) ]), o(at, {
                    name: "el-zoom-in-bottom"
                }, {
                    default: n(() => [ s("div", ua, [ pa, s("div", ca, [ s("div", na, [ o(L, {
                        type: "",
                        onClick: r[4] || (r[4] = t => ka(e(P))),
                        disabled: !e(P)
                    }, {
                        default: n(() => [ p(" 上一个 ") ]),
                        _: 1
                    }, 8, [ "disabled" ]), o(L, {
                        type: "",
                        onClick: r[5] || (r[5] = t => ka(e(z))),
                        disabled: !e(z)
                    }, {
                        default: n(() => [ p(" 下一个 ") ]),
                        _: 1
                    }, 8, [ "disabled" ]) ]), s("div", ma, [ o(L, {
                        type: "warning",
                        onClick: Pa,
                        disabled: e(Oa)
                    }, {
                        default: n(() => [ o(N, {
                            icon: "ep:upload",
                            class: "mr-5px"
                        }), p("任务补交 ") ]),
                        _: 1
                    }, 8, [ "disabled" ]), o(L, {
                        type: "danger",
                        onClick: za,
                        disabled: e(Ca)
                    }, {
                        default: n(() => [ o(N, {
                            icon: "svg-icon:project-revert",
                            class: "mr-5px"
                        }), p("任务打回 ") ]),
                        _: 1
                    }, 8, [ "disabled" ]), e(k) == "1" ? (i(), x(O, {
                        key: 0,
                        modelValue: e(l).projectScore,
                        "onUpdate:modelValue": r[6] || (r[6] = t => e(l).projectScore = t),
                        min: 1,
                        max: e(l).projectTotalScore,
                        step: .5,
                        "step-strictly": "",
                        precision: 1,
                        controls: !1,
                        placeholder: "输入评分",
                        "value-on-clear": e(l).projectTotalScore,
                        style: {
                            width: "100px",
                            "margin-left": "10px",
                            "margin-right": "10px"
                        }
                    }, null, 8, [ "modelValue", "max", "value-on-clear" ])) : d("", !0), o(L, {
                        type: "primary",
                        onClick: Ea
                    }, {
                        default: n(() => [ o(N, {
                            icon: "svg-icon:save",
                            class: "mr-5px"
                        }), p("保存评分 ") ]),
                        _: 1
                    }), o(L, {
                        type: "primary",
                        onClick: Ba
                    }, {
                        default: n(() => [ o(N, {
                            icon: "svg-icon:icon-export",
                            class: "mr-5px"
                        }), p("导出全部成果物") ]),
                        _: 1
                    }) ]) ]) ]) ]),
                    _: 1
                }), o(Da, {
                    ref_key: "resPreviewRef",
                    ref: va
                }, null, 512), o(Xt, {
                    ref_key: "supplementRef",
                    ref: B,
                    onSuccess: Ua,
                    from: "scoreing"
                }, null, 512) ]);
            };
        }
    }, Ia = qt(da, [ [ "__scopeId", "data-v-440f3053" ] ]);
});

export {
    fs as __tla,
    Ia as default
};