import {
    _ as Ue,
    __tla as je
} from "./index-71666e05.js";

import {
    _ as qe,
    __tla as Ee
} from "./index-e2094cc0.js";

import {
    T as Fe,
    u as He,
    e as D,
    h as Qe,
    r as i,
    p as Me,
    U as se,
    f as Ge,
    j as Je,
    o as _,
    c as d,
    a as r,
    t as s,
    k as l,
    l as c,
    v as u,
    H as W,
    B as f,
    F as V,
    y as le,
    C,
    A as re,
    D as w,
    z as Ke,
    m as We,
    n as X,
    E as ne,
    _ as Xe,
    J as Ye,
    ak as Ze,
    a8 as $e,
    K as ta,
    R as ea,
    S as aa,
    __tla as sa
} from "./index-6c08ea4c.js";

import {
    _ as la,
    __tla as ra
} from "./index-81dbd56d.js";

import {
    _ as na,
    __tla as ia
} from "./index-1024512a.js";

import {
    __tla as oa
} from "./dict-c5825220.js";

import {
    b as ca,
    __tla as _a
} from "./index-9567cbf6.js";

import {
    __tla as ua
} from "./el-drawer-fca4d971.js";

import {
    __tla as ma
} from "./Editor.vue_vue_type_style_index_1_scoped_83b80ee8_lang-964690b9.js";

import {
    __tla as pa
} from "./style.css_vue_type_style_index_0_src_true_lang-90967dd2.js";

import {
    _ as da
} from "./_plugin-vue_export-helper-1b428a4d.js";

import "./editEditor.vue_vue_type_style_index_0_scoped_bf777343_lang-f0d79ba2.js";

import {
    __tla as ha
} from "./video-1d0dc730.js";

import {
    s as fa,
    __tla as ya
} from "./file-e038b35d.js";

import {
    __tla as va
} from "./questionBank-6fe58de9.js";

import {
    __tla as ga
} from "./chooseTags-11285796.js";

import {
    __tla as ba
} from "./neuResourceQuestion-36ca89a3.js";

import Ca, {
    __tla as Ta
} from "./libraryPreview-b159731a.js";

import ka, {
    __tla as Sa
} from "./editPaper-059d11d7.js";

import Ia, {
    __tla as Pa
} from "./addCourseResSetting-952c998b.js";

import {
    b as ie,
    c as wa,
    f as xa,
    p as La,
    k as Ra,
    l as Oa,
    h as Na,
    d as Da,
    j as Va,
    r as za,
    i as Aa,
    __tla as Ba
} from "./assignmentAndAssessment-58199f67.js";

import Ua, {
    __tla as ja
} from "./profileSettingService-4ef1fb94.js";

import qa, {
    __tla as Ea
} from "./publishSettingService-4a05c2f5.js";

import Fa, {
    __tla as Ha
} from "./unpublish-4bbcd174.js";

import {
    a as Qa,
    b as Ma,
    E as Ga,
    __tla as Ja
} from "./index-5adb716b.js";

import "./tree-05ea8e09.js";

import {
    __tla as Ka
} from "./DeptTag-1be092ce.js";

import {
    __tla as Wa
} from "./index-ef4d146e.js";

import {
    __tla as Xa
} from "./DictTag.vue_vue_type_script_lang-bb90acfe.js";

import "./color-a8b4eb58.js";

import {
    __tla as Ya
} from "./largeQuestionPreview-0d03e5d2.js";

import {
    __tla as Za
} from "./questionPreview-3c0f3206.js";

import {
    __tla as $a
} from "./type1-bb9ab50e.js";

import {
    __tla as ts
} from "./type2-f7593207.js";

import {
    __tla as es
} from "./type3-f0157d42.js";

import {
    __tla as as
} from "./type4-e194cfc5.js";

import {
    __tla as ss
} from "./type5-5cfc2694.js";

import {
    __tla as ls
} from "./type6-f24b6333.js";

import {
    __tla as rs
} from "./type7-6a71ebde.js";

import {
    __tla as ns
} from "./type20-1bb6de92.js";

import {
    __tla as is
} from "./type30-1635403c.js";

import {
    __tla as os
} from "./myQuestionBank-a9dcc9db.js";

import {
    __tla as cs
} from "./index-c4ca0ced.js";

import {
    __tla as _s
} from "./index-993301ca.js";

import {
    __tla as us
} from "./viewDatabase.vue_vue_type_script_setup_true_lang-a51e8548.js";

import {
    __tla as ms
} from "./sqlDetail-6033fcff.js";

import {
    __tla as ps
} from "./selectCourseResourcePackageQuestion.vue_vue_type_style_index_0_scoped_270afb37_lang-ab43f27d.js";

import {
    __tla as ds
} from "./manuallyGroupVolumes-6152476e.js";

import "./keyboardDisable-3c8e0d58.js";

import {
    __tla as hs
} from "./randomService-761e9983.js";

import {
    __tla as fs
} from "./rulemaking-fae7d850.js";

import {
    __tla as ys
} from "./batchEntry-8004f6eb.js";

import {
    __tla as vs
} from "./intelligentEntry-adfd5635.js";

import {
    __tla as gs
} from "./largeQuestion-c60044ae.js";

import {
    __tla as bs
} from "./questionItems-cc403f96.js";

import {
    __tla as Cs
} from "./questionInfo-7ad6a9af.js";

import {
    __tla as Ts
} from "./type1-81e690fe.js";

import {
    __tla as ks
} from "./editEditor-a03e6696.js";

import {
    __tla as Ss
} from "./Editor-ef737d2a.js";

import {
    __tla as Is
} from "./type2-cee6fed1.js";

import {
    __tla as Ps
} from "./type3-da6f6f46.js";

import {
    __tla as ws
} from "./type4-0f2e1cd1.js";

import {
    __tla as xs
} from "./type5-a6b47fc2.js";

import {
    __tla as Ls
} from "./type6-9fcada99.js";

import {
    __tla as Rs
} from "./type7-f25f20ee.js";

import {
    __tla as Os
} from "./type30-8bfa018d.js";

import {
    __tla as Ns
} from "./sqlInfo-6616efed.js";

import {
    __tla as Ds
} from "./type20-0744bc00.js";

import {
    __tla as Vs
} from "./chooseQuestion-a0799ec7.js";

import {
    __tla as zs
} from "./selectQuestion-d00a026c.js";

import {
    __tla as As
} from "./formatTime-de6f1520.js";

import {
    __tla as Bs
} from "./selectCourseResourcePackageQuestion-b7f0fe74.js";

import {
    __tla as Us
} from "./setScore-5ccc198a.js";

import {
    __tla as js
} from "./index-acea4f4f.js";

import {
    __tla as qs
} from "./selectPaper-b73f45f0.js";

import {
    __tla as Es
} from "./examPaperLibrary-5d47fe72.js";

import {
    __tla as Fs
} from "./selectCourseResourcePackagePaper-57059c43.js";

import {
    __tla as Hs
} from "./profileSettingModule-a23a44b1.js";

import {
    __tla as Qs
} from "./publishSetting-0358033b.js";

let oe, Ms = Promise.all([ (() => {
    try {
        return je;
    } catch {}
})(), (() => {
    try {
        return Ee;
    } catch {}
})(), (() => {
    try {
        return sa;
    } catch {}
})(), (() => {
    try {
        return ra;
    } catch {}
})(), (() => {
    try {
        return ia;
    } catch {}
})(), (() => {
    try {
        return oa;
    } catch {}
})(), (() => {
    try {
        return _a;
    } catch {}
})(), (() => {
    try {
        return ua;
    } catch {}
})(), (() => {
    try {
        return ma;
    } catch {}
})(), (() => {
    try {
        return pa;
    } catch {}
})(), (() => {
    try {
        return ha;
    } catch {}
})(), (() => {
    try {
        return ya;
    } catch {}
})(), (() => {
    try {
        return va;
    } catch {}
})(), (() => {
    try {
        return ga;
    } catch {}
})(), (() => {
    try {
        return ba;
    } catch {}
})(), (() => {
    try {
        return Ta;
    } catch {}
})(), (() => {
    try {
        return Sa;
    } catch {}
})(), (() => {
    try {
        return Pa;
    } catch {}
})(), (() => {
    try {
        return Ba;
    } catch {}
})(), (() => {
    try {
        return ja;
    } catch {}
})(), (() => {
    try {
        return Ea;
    } catch {}
})(), (() => {
    try {
        return Ha;
    } catch {}
})(), (() => {
    try {
        return Ja;
    } catch {}
})(), (() => {
    try {
        return Ka;
    } catch {}
})(), (() => {
    try {
        return Wa;
    } catch {}
})(), (() => {
    try {
        return Xa;
    } catch {}
})(), (() => {
    try {
        return Ya;
    } catch {}
})(), (() => {
    try {
        return Za;
    } catch {}
})(), (() => {
    try {
        return $a;
    } catch {}
})(), (() => {
    try {
        return ts;
    } catch {}
})(), (() => {
    try {
        return es;
    } catch {}
})(), (() => {
    try {
        return as;
    } catch {}
})(), (() => {
    try {
        return ss;
    } catch {}
})(), (() => {
    try {
        return ls;
    } catch {}
})(), (() => {
    try {
        return rs;
    } catch {}
})(), (() => {
    try {
        return ns;
    } catch {}
})(), (() => {
    try {
        return is;
    } catch {}
})(), (() => {
    try {
        return os;
    } catch {}
})(), (() => {
    try {
        return cs;
    } catch {}
})(), (() => {
    try {
        return _s;
    } catch {}
})(), (() => {
    try {
        return us;
    } catch {}
})(), (() => {
    try {
        return ms;
    } catch {}
})(), (() => {
    try {
        return ps;
    } catch {}
})(), (() => {
    try {
        return ds;
    } catch {}
})(), (() => {
    try {
        return hs;
    } catch {}
})(), (() => {
    try {
        return fs;
    } catch {}
})(), (() => {
    try {
        return ys;
    } catch {}
})(), (() => {
    try {
        return vs;
    } catch {}
})(), (() => {
    try {
        return gs;
    } catch {}
})(), (() => {
    try {
        return bs;
    } catch {}
})(), (() => {
    try {
        return Cs;
    } catch {}
})(), (() => {
    try {
        return Ts;
    } catch {}
})(), (() => {
    try {
        return ks;
    } catch {}
})(), (() => {
    try {
        return Ss;
    } catch {}
})(), (() => {
    try {
        return Is;
    } catch {}
})(), (() => {
    try {
        return Ps;
    } catch {}
})(), (() => {
    try {
        return ws;
    } catch {}
})(), (() => {
    try {
        return xs;
    } catch {}
})(), (() => {
    try {
        return Ls;
    } catch {}
})(), (() => {
    try {
        return Rs;
    } catch {}
})(), (() => {
    try {
        return Os;
    } catch {}
})(), (() => {
    try {
        return Ns;
    } catch {}
})(), (() => {
    try {
        return Ds;
    } catch {}
})(), (() => {
    try {
        return Vs;
    } catch {}
})(), (() => {
    try {
        return zs;
    } catch {}
})(), (() => {
    try {
        return As;
    } catch {}
})(), (() => {
    try {
        return Bs;
    } catch {}
})(), (() => {
    try {
        return Us;
    } catch {}
})(), (() => {
    try {
        return js;
    } catch {}
})(), (() => {
    try {
        return qs;
    } catch {}
})(), (() => {
    try {
        return Es;
    } catch {}
})(), (() => {
    try {
        return Fs;
    } catch {}
})(), (() => {
    try {
        return Hs;
    } catch {}
})(), (() => {
    try {
        return Qs;
    } catch {}
})() ]).then(async () => {
    let S, Y, Z, $, tt, et, at, st, lt, rt, nt, it, ot, ct, _t, ut, mt, pt, dt, ht, ft, yt, vt, gt, bt, Ct, Tt, kt, St, It, Pt, wt, xt, Lt, Rt, Ot, Nt, Dt;
    S = z => (ea("data-v-5321d09e"), z = z(), aa(), z), Y = {
        class: "packAssignmentContainer"
    }, Z = {
        key: 0
    }, $ = {
        class: "conditionContainer"
    }, tt = {
        class: "right btns-box"
    }, et = {
        class: "recordingContainer"
    }, at = {
        class: "cell"
    }, st = {
        class: "mr10"
    }, lt = {
        class: "feature ml10"
    }, rt = {
        class: "feature ml10"
    }, nt = {
        class: "cell"
    }, it = S(() => s("span", {
        class: "mr-4"
    }, "总完成进度：", -1)), ot = {
        class: "compound_container"
    }, ct = {
        class: "first_container"
    }, _t = {
        class: "first_container_left"
    }, ut = [ "onClick" ], mt = {
        class: "neu-ellipse",
        style: {
            width: "40px",
            display: "inline-block",
            "text-align": "center"
        }
    }, pt = S(() => s("br", null, null, -1)), dt = {
        class: "second_container"
    }, ht = {
        class: "cardInfo"
    }, ft = {
        class: "infoItem"
    }, yt = S(() => s("span", {
        class: "info-label"
    }, "公布答案：", -1)), vt = {
        class: "info-value",
        style: {
            width: "90px"
        }
    }, gt = {
        class: "infoItem"
    }, bt = S(() => s("span", {
        class: "info-label"
    }, "公布成绩：", -1)), Ct = {
        class: "info-value",
        style: {
            width: "90px"
        }
    }, Tt = {
        key: 0
    }, kt = {
        class: "infoItem"
    }, St = S(() => s("span", {
        class: "info-label"
    }, "未提交：", -1)), It = {
        class: "info-value"
    }, Pt = {
        class: "infoItem"
    }, wt = S(() => s("span", {
        class: "info-label"
    }, "已提交：", -1)), xt = {
        class: "info-value"
    }, Lt = {
        class: "infoItem"
    }, Rt = S(() => s("span", {
        class: "info-label"
    }, "待批阅：", -1)), Ot = {
        class: "info-value"
    }, Nt = {
        class: "operation"
    }, Dt = {
        key: 1,
        class: "page-empty"
    }, oe = da({
        __name: "neuCourseTest",
        setup(z) {
            const Q = Fe(), ce = He();
            D(() => Q.params.id);
            const _e = D(() => Qe().isSupAdmin), A = i({}), M = i({}), Vt = i(null), B = i(!1), x = Me();
            i({}), i(null);
            const ue = i(null), me = i(null), G = i(null);
            i(null), i(0);
            const zt = i(!1), P = i([]), At = i([]), L = i([]), U = i(null), j = i(null), O = i("1"), q = i(null), y = i(1), J = i(!1), I = D(() => Q.params.classId), R = D(() => Q.params.teachCourseId);
            se({
                flag: []
            });
            const Bt = i([ {
                label: "未发布",
                value: 1
            }, {
                label: "未开始",
                value: 2
            }, {
                label: "进行中",
                value: 3
            }, {
                label: "已截止",
                value: 4
            } ]), pe = i([ {
                label: "测验状态",
                key: "status",
                type: "list",
                options: Bt.value
            }, {
                label: "排序方式",
                key: "sortType",
                type: "list",
                default: 1,
                clearable: 0,
                options: [ {
                    label: "添加时间正序",
                    value: 1
                }, {
                    label: "添加时间降序",
                    value: 2
                }, {
                    label: "截止时间正序",
                    value: 3
                }, {
                    label: "截止时间降序",
                    value: 4
                } ]
            } ]), T = se({
                teachTags: [],
                name: "",
                isAssess: 0,
                status: "",
                sortType: 1,
                isReview: 0
            }), E = i(), N = i([]), p = i([]), de = i(!1), he = D(() => {
                if (p.value.length > 0) {
                    const t = p.value.length, e = {
                        1: 0,
                        2: 0,
                        3: 0,
                        4: 0
                    };
                    return p.value.forEach(n => {
                        e[n.status]++;
                    }), e[1] === t ? [ "publish", "profileSetting", "delete" ] : e[1] ? [ "profileSetting" ] : [ "profileSetting", "cancelPublish" ];
                }
                return [];
            }), fe = t => {
                p.value = t ? N.value : [], L.value = t ? N.value.map(e => e.id) : [];
            }, Ut = () => {
                X(() => {
                    G.value.handleOpen();
                });
            }, ye = (t, e) => {
                const {
                    _arr: n,
                    resClassCtlResp: o
                } = t;
                let k = {
                    teachCourseId: R.value,
                    dirId: t.dirId,
                    sourceType: 2,
                    isAssess: t.isAssess,
                    ktIds: [],
                    tagIds: t.teachTags || [],
                    resClassCtlResp: {
                        isOpen: [ "1", "2" ].includes(t.releaseStatus) ? "1" : "0",
                        range: o.range,
                        currentTeachClassId: I.value,
                        openType: t.releaseStatus === "2" ? "1" : t.releaseStatus === "1" ? "0" : null,
                        isDownload: 0,
                        isDrag: 0,
                        openTimeStr: o.openTimeStr,
                        closeTimeStr: o.closeTimeStr,
                        questionDisorder: o.antiCheatingSettings && o.antiCheatingSettings.includes("questionDisorder") ? "1" : "0",
                        optionDisorder: o.antiCheatingSettings && o.antiCheatingSettings.includes("optionDisorder") ? "1" : "0",
                        answerPublishType: o.answerPublishType,
                        scorePublishType: o.scorePublishType,
                        multiTryFlag: o.multiTryFlag,
                        multiTryTimes: o.multiTryTimes,
                        scoreCalculateType: o.scoreCalculateType
                    },
                    resDetailList: n.map(h => ({
                        name: h.name,
                        resType: 99,
                        ktName: h.ktName || null,
                        dataId: h.id,
                        paperSourceType: [ "3" ].includes(e) ? 1 : 0,
                        resLink: h.resLink || null,
                        resOriginId: h.resOriginId || null,
                        resPkgId: h.resPkgId || null,
                        resRootPkgId: h.resRootPkgId || null,
                        resIsNeu: h.resIsNeu || null
                    }))
                };
                wa(k).then(h => {
                    x.success("创建成功！"), G.value.onCancel(), g(!0);
                });
            }, ve = t => {
                const {
                    resClassCtlResp: e
                } = t;
                let n = {
                    isOpen: [ "1", "2" ].includes(t.releaseStatus) ? "1" : "0",
                    range: e.range,
                    currentTeachClassId: I.value,
                    resId: t.resId || null,
                    resIds: p.value && p.value.length > 0 && y.value === 2 ? p.value.map(o => o.id) : [ t.resId ],
                    teachCourseId: R.value,
                    openType: t.releaseStatus === "2" ? "1" : t.releaseStatus === "1" ? "0" : null,
                    openTimeStr: e == null ? void 0 : e.openTimeStr,
                    closeTimeStr: e.closeTimeStr,
                    answerPublishType: e.answerPublishType,
                    scorePublishType: e.scorePublishType,
                    multiTryFlag: e.multiTryFlag,
                    multiTryTimes: e.multiTryTimes,
                    scoreCalculateType: e.scoreCalculateType,
                    questionDisorder: e.antiCheatingSettings && e.antiCheatingSettings.includes("questionDisorder") ? "1" : "0",
                    optionDisorder: e.antiCheatingSettings && e.antiCheatingSettings.includes("optionDisorder") ? "1" : "0"
                };
                (O.value === "2" ? xa : La)(n).then(o => {
                    x.success("操作成功！"), j.value.handleCancel(), g(!0);
                });
            }, ge = t => {
                let e = {
                    dirId: t.dirId,
                    isAssess: t.isAssess,
                    tagIds: t.teachTags
                };
                y.value === 1 ? e.resIds = [ t.id ] : y.value === 2 && (e.resIds = p.value.map(n => n.id)), 
                Ra(e).then(n => {
                    x.success("设置成功！"), U.value.handleCancel(), g(!0);
                });
            };
            function be(t) {
                T.name = t.name || "", T.teachTags = t.teachTags || [], T.status = t.status || "", 
                T.sortType = t.sortType || 1, g();
            }
            const g = (t = !1) => {
                let e = {
                    teachCourseId: R.value,
                    currentClassId: I.value,
                    sourceType: 2,
                    dirIds: null,
                    ...T
                };
                Oa(e).then(n => {
                    Re(), N.value = n.resList || [], p.value = [], P.value = [], 
                    L.value = [], t && n.resList && n.resList.length > 0 && (zt.value = !0), 
                    E.value = [ n.publishNum || 0, n.resNum || 0, Number(n.completionProgress.replace(/%/g, "")) ];
                });
            }, Ce = async (t, e) => {
                switch (t) {
                  case "handleEdit":
                    ie(e.id).then(n => {
                        A.value = {
                            ...n.paper,
                            resId: n.resId
                        }, Vt.value.handleOpen();
                    });
                    break;

                  case "handlePublish":
                    K(e);
                    break;

                  case "handlePublishSetting":
                    qt(e);
                    break;

                  case "handleProfileSetting":
                    xe(e);
                    break;

                  case "revoke":
                    Se(e);
                    break;

                  case "derivedScore":
                    Te(e);
                    break;

                  case "delete":
                    jt(e);
                    break;

                  case "publishScore":
                    ke();
                }
            }, Te = t => {
                var n;
                let e = {
                    testId: (n = t.resCtl) == null ? void 0 : n.id,
                    teachClassId: I.value
                };
                Na(e).then(o => {
                    fa(o, o.fileName || "成绩.xls");
                });
            }, jt = t => {
                ne.confirm("<p>其他班级此测验未发布时，也会同步删除，<p/> <p>测验删除后不可恢复！确定删除测验吗？<p/>", "提示", {
                    confirmButtonText: "确认",
                    cancelButtonText: "取消",
                    type: "danger",
                    dangerouslyUseHTMLString: !0,
                    customClass: "neu-message-box del-confirm"
                }).then(() => {
                    let e = [];
                    e = t && Object.keys(t).length > 0 ? [ t.id ] : p.value.map(n => n.id), 
                    Da(e, I.value).then(() => {
                        x.success("删除成功！"), g(!0);
                    });
                });
            }, ke = () => {
                ne.confirm("<p>公布后学生可以查看测验成绩且不可取消公布，<p/> <p>确定向学生公布测验成绩吗？<p/>", "提示", {
                    confirmButtonText: "确认",
                    cancelButtonText: "取消",
                    type: "danger",
                    dangerouslyUseHTMLString: !0
                }).then(() => {
                    var t;
                    Va((t = obj.resCtl) == null ? void 0 : t.id).then(() => {
                        x.success("发布成功！");
                    });
                });
            }, Se = t => {
                y.value = 1, q.value.handleOpen(t);
            }, Ie = t => {
                let e = {
                    teachCourseId: R.value,
                    resIds: y.value === 1 ? [ t.id ] : P.value,
                    range: t.range,
                    currentTeachClassId: I.value
                };
                za(e).then(() => {
                    q.value.handleClose(), x.success("撤销成功！"), g(!0);
                });
            }, Pe = () => {
                y.value = 2, q.value.handleOpen({
                    id: P.value[0]
                });
            }, K = t => {
                O.value = "3";
                let e = {};
                t && Object.keys(t).length > 0 ? (y.value = 1, e = {
                    ...t,
                    outerId: t == null ? void 0 : t.id
                }) : y.value = 2, X(() => {
                    j.value.handleOpen(e);
                });
            }, qt = t => {
                O.value = "2", J.value = ![ 1, 2 ].includes(t.status) || !1, y.value = 1, 
                Aa({
                    teachCourseId: R.value,
                    resId: t.id,
                    currenClassId: I.value
                }).then(e => {
                    X(() => {
                        j.value.handleOpen({
                            ...e,
                            outerId: t.id
                        });
                    });
                });
            }, we = () => {
                J.value = !1;
            }, xe = (t = {}) => {
                y.value = 1, U.value.handleOpen(t);
            }, Le = () => {
                y.value = 2, U.value.handleOpen();
            }, Et = t => {
                var e;
                ce.push({
                    name: "StatisticsDetails",
                    params: {
                        testId: (e = t.resCtl) == null ? void 0 : e.id,
                        teachClassId: I.value
                    }
                });
            }, Re = () => {
                ca({
                    teachCourseId: R.value
                }).then(t => {
                    At.value = t;
                });
            }, Ft = t => {
                var e;
                return ((e = At.value.find(n => n.id === t)) == null ? void 0 : e.tagName) || "";
            };
            return Ge(() => {
                g(!0);
            }), (t, e) => {
                const n = na, o = Xe, k = Ye, h = Ze, Oe = la, Ne = $e, F = ta, b = Qa, De = Ma, Ve = Ga, ze = qe, Ae = Ue, Ht = Je("show-tip");
                return _(), d("div", Y, [ r(zt) ? (_(), d("div", Z, [ s("div", $, [ l(n, {
                    ref: "ComSearchRef",
                    borderBox: !0,
                    keywordsInfo: {
                        label: "测验名称/测验标签",
                        key: "name"
                    },
                    searchList: r(pe),
                    class: "left",
                    onHandleSearch: be
                }, null, 8, [ "searchList" ]), s("div", tt, [ l(k, {
                    plain: "",
                    size: "large",
                    type: "primary",
                    onClick: W(Ut, [ "stop" ])
                }, {
                    default: c(() => [ l(o, {
                        class: "mr5",
                        icon: "ep:plus"
                    }), u(" 添加测验 ") ]),
                    _: 1
                }) ]) ]), s("div", {
                    ref_key: "cardContainerRef",
                    ref: me,
                    class: "card_container"
                }, [ s("div", et, [ s("div", at, [ s("span", st, "已发布" + f(r(E)[0]) + "/" + f(r(E)[1]), 1), s("span", lt, [ u("仅查看计入考核测验"), l(h, {
                    class: "ml5",
                    size: "small",
                    modelValue: r(T).isAssess,
                    "onUpdate:modelValue": e[0] || (e[0] = a => r(T).isAssess = a),
                    "active-value": 1,
                    "inactive-value": 0,
                    onChange: e[1] || (e[1] = a => g())
                }, null, 8, [ "modelValue" ]) ]), s("span", rt, [ u("仅查看待批阅测验"), l(h, {
                    class: "ml5",
                    size: "small",
                    modelValue: r(T).isReview,
                    "onUpdate:modelValue": e[2] || (e[2] = a => r(T).isReview = a),
                    "active-value": 1,
                    "inactive-value": 0,
                    onChange: e[3] || (e[3] = a => g())
                }, null, 8, [ "modelValue" ]) ]) ]), s("div", nt, [ it, l(Oe, {
                    percentage: r(E)[2],
                    style: {
                        width: "200px"
                    }
                }, null, 8, [ "percentage" ]) ]) ]), (_(!0), d(V, null, le(r(N), (a, H) => {
                    var Qt, Mt, Gt, Jt, Kt, Wt, Xt, Yt, Zt, $t, te;
                    return _(), d("div", {
                        key: a.id + H,
                        class: "card_item"
                    }, [ s("div", ot, [ s("div", ct, [ s("div", _t, [ (_(), C(Ne, {
                        key: a.id,
                        value: a.id,
                        "model-value": r(L).includes(a.id),
                        "onUpdate:modelValue": m => (v => {
                            if (v && v.id) {
                                let ee = p.value.findIndex(Be => Be.id === v.id), ae = L.value.indexOf(v.id);
                                ee === -1 ? (p.value.push(v), P.value.push(v.id), 
                                L.value.push(v.id)) : (p.value.splice(ee, 1), L.value.splice(ae, 1), 
                                P.value.splice(ae, 1));
                            }
                        })(a)
                    }, null, 8, [ "value", "model-value", "onUpdate:modelValue" ])), re((_(), 
                    d("span", {
                        class: "card_title neu-ellipse",
                        onClick: W(m => {
                            ie(a.id).then(v => {
                                A.value = v.paper, B.value = !0;
                            });
                        }, [ "stop" ])
                    }, [ l(F, {
                        content: a.name || "",
                        placement: "top"
                    }, {
                        default: c(() => [ u(f(a.name || ""), 1) ]),
                        _: 2
                    }, 1032, [ "content" ]) ], 8, ut)), [ [ Ht ] ]), (_(!0), d(V, null, le(a.tagList, m => (_(), 
                    d("span", {
                        class: "tag-item",
                        key: m
                    }, [ re((_(), d("span", mt, [ l(F, {
                        content: Ft(m.tagId),
                        placement: "top"
                    }, {
                        default: c(() => [ u(f(Ft(m.tagId)), 1) ]),
                        _: 2
                    }, 1032, [ "content" ]) ])), [ [ Ht ] ]) ]))), 128)), r(_e) || a.resIsNeu !== 1 ? w("", !0) : (_(), 
                    C(o, {
                        key: 0,
                        class: "ml5",
                        icon: "svg-icon:icon-neuResTag",
                        size: 28
                    })), [ 3, 4 ].includes(a.status) && ((Qt = a.stuStat) == null ? void 0 : Qt.handleNum) > 0 ? (_(), 
                    C(o, {
                        key: 1,
                        class: "ml5",
                        icon: "svg-icon:waitForComment",
                        size: 50
                    })) : w("", !0), a.isAssess !== 0 ? (_(), C(F, {
                        key: 2,
                        content: "计入考核点",
                        placement: "top"
                    }, {
                        default: c(() => [ a.isAssess !== 0 ? (_(), C(o, {
                            key: 0,
                            class: "ml5",
                            icon: "svg-icon:icon-checkTag",
                            size: 18
                        })) : w("", !0) ]),
                        _: 2
                    }, 1024)) : w("", !0) ]), l(F, {
                        effect: "dark",
                        placement: "top",
                        enterable: !1,
                        disabled: a.status === 1
                    }, {
                        content: c(() => [ u("开始时间：" + f(a.resCtl.openTimeStr), 1), pt, u("截止时间：" + f(a.resCtl.closeTimeStr || "无"), 1) ]),
                        default: c(() => {
                            var m;
                            return [ s("div", {
                                class: Ke([ "stateLabel", {
                                    stateLabel1: a.status === 1,
                                    stateLabel2: a.status === 3
                                } ])
                            }, f((m = r(Bt).find(v => v.value === a.status)) == null ? void 0 : m.label), 3) ];
                        }),
                        _: 2
                    }, 1032, [ "disabled" ]) ]), s("div", dt, [ s("div", ht, [ s("span", ft, [ yt, s("span", vt, f(((Mt = a.resCtl) == null ? void 0 : Mt.answerPublishType) === "1" ? "截止后自动公布" : ((Gt = a.resCtl) == null ? void 0 : Gt.answerPublishType) === "2" ? "提交后自动公布" : "--"), 1) ]), s("span", gt, [ bt, s("span", Ct, f(((Jt = a.resCtl) == null ? void 0 : Jt.scorePublishType) === "2" ? "截止后自动公布" : ((Kt = a.resCtl) == null ? void 0 : Kt.scorePublishType) === "3" ? "提交后自动公布" : ((Wt = a.resCtl) == null ? void 0 : Wt.scorePublishType) === "1" ? "教师手动公布" : "--"), 1) ]), [ 3, 4 ].includes(a.status) ? (_(), 
                    d("span", Tt, [ s("span", kt, [ St, s("span", It, f(((Xt = a.stuStat) == null ? void 0 : Xt.unDealNum) ?? "0"), 1) ]), s("span", Pt, [ wt, s("span", xt, f(((Yt = a.stuStat) == null ? void 0 : Yt.dealNum) ?? "0"), 1) ]), s("span", Lt, [ Rt, s("span", Ot, f(((Zt = a.stuStat) == null ? void 0 : Zt.handleNum) ?? "0"), 1) ]) ])) : w("", !0) ]), s("span", Nt, [ l(Ve, {
                        teleported: !1,
                        class: "empty-dropdown mr5",
                        onVisibleChange: m => r(M)[H] = !r(M)[H],
                        onCommand: m => Ce(m, a)
                    }, {
                        dropdown: c(() => [ l(De, null, {
                            default: c(() => [ a.status === 1 ? (_(), d(V, {
                                key: 0
                            }, [ l(b, {
                                command: "handleEdit"
                            }, {
                                default: c(() => [ u("编辑") ]),
                                _: 1
                            }), l(b, {
                                command: "handleProfileSetting"
                            }, {
                                default: c(() => [ u("测验设置") ]),
                                _: 1
                            }), l(b, {
                                command: "delete",
                                style: {
                                    color: "#e14635"
                                }
                            }, {
                                default: c(() => [ u("删除") ]),
                                _: 1
                            }) ], 64)) : a.status === 2 ? (_(), d(V, {
                                key: 1
                            }, [ l(b, {
                                command: "revoke"
                            }, {
                                default: c(() => [ u("撤销发布") ]),
                                _: 1
                            }), l(b, {
                                command: "handleProfileSetting"
                            }, {
                                default: c(() => [ u("测验设置") ]),
                                _: 1
                            }) ], 64)) : (_(), d(V, {
                                key: 2
                            }, [ l(b, {
                                command: "handlePublishSetting"
                            }, {
                                default: c(() => [ u("发布设置") ]),
                                _: 1
                            }), l(b, {
                                command: "revoke"
                            }, {
                                default: c(() => [ u("撤销发布") ]),
                                _: 1
                            }), l(b, {
                                command: "handleProfileSetting"
                            }, {
                                default: c(() => [ u("测验设置") ]),
                                _: 1
                            }), a.resCtl.scorePublishType === "1" ? (_(), C(b, {
                                key: 0,
                                command: "publishScore"
                            }, {
                                default: c(() => [ u("公布成绩") ]),
                                _: 1
                            })) : w("", !0), l(b, {
                                command: "derivedScore"
                            }, {
                                default: c(() => [ u("导出成绩") ]),
                                _: 1
                            }) ], 64)) ]),
                            _: 2
                        }, 1024) ]),
                        default: c(() => [ l(k, {
                            type: "primary",
                            text: "",
                            style: {
                                "margin-left": "3px",
                                "background-color": "#fff"
                            }
                        }, {
                            default: c(() => [ u("更多"), l(o, {
                                icon: r(M)[H] ? "ep:arrow-up" : "ep:arrow-down"
                            }, null, 8, [ "icon" ]) ]),
                            _: 2
                        }, 1024) ]),
                        _: 2
                    }, 1032, [ "onVisibleChange", "onCommand" ]), a.status === 1 ? (_(), 
                    C(k, {
                        key: 0,
                        type: "warning",
                        size: "small",
                        onClick: m => K(a)
                    }, {
                        default: c(() => [ u("发布") ]),
                        _: 2
                    }, 1032, [ "onClick" ])) : a.status === 2 ? (_(), C(k, {
                        key: 1,
                        type: "primary",
                        size: "small",
                        onClick: m => qt(a)
                    }, {
                        default: c(() => [ u("发布设置") ]),
                        _: 2
                    }, 1032, [ "onClick" ])) : [ 3, 4 ].includes(a.status) && (($t = a.stuStat) == null ? void 0 : $t.handleNum) == 0 ? (_(), 
                    C(k, {
                        key: 2,
                        type: "primary",
                        size: "small",
                        onClick: m => Et(a)
                    }, {
                        default: c(() => [ u("统计") ]),
                        _: 2
                    }, 1032, [ "onClick" ])) : [ 3, 4 ].includes(a.status) && ((te = a.stuStat) == null ? void 0 : te.handleNum) > 0 ? (_(), 
                    C(k, {
                        key: 3,
                        type: "primary",
                        size: "small",
                        onClick: m => Et(a)
                    }, {
                        default: c(() => [ u("批阅") ]),
                        _: 2
                    }, 1032, [ "onClick" ])) : w("", !0) ]) ]) ]) ]);
                }), 128)) ], 512), l(ze, {
                    ref_key: "SelectionButtonGroupRef",
                    ref: ue,
                    btnList: r(he),
                    checkBox: r(de),
                    "page-list": r(N),
                    "select-list": r(p),
                    subject: "文件",
                    onDelete: jt,
                    onProfileSetting: Le,
                    onPublish: K,
                    onCancelPublish: Pe,
                    onSelectAll: fe
                }, null, 8, [ "btnList", "checkBox", "page-list", "select-list" ]) ])) : (_(), 
                d("div", Dt, [ l(Ae, {
                    msg: "暂无资源",
                    type: "resource"
                }), l(k, {
                    size: "large",
                    type: "primary",
                    onClick: W(Ut, [ "stop" ])
                }, {
                    default: c(() => [ l(o, {
                        class: "mr5",
                        icon: "ep:plus"
                    }), u(" 添加测验 ") ]),
                    _: 1
                }) ])), l(Ia, {
                    ref_key: "addNeuResSettingRef",
                    ref: G,
                    sourceType: "2",
                    title: "添加测验",
                    stepsOptions: [ {
                        name: "选择测验"
                    }, {
                        name: "设置测验"
                    } ],
                    selectedPaperIdList: r(P),
                    onInsertQuestion: ye
                }, null, 8, [ "selectedPaperIdList" ]), l(Ca, {
                    modelValue: r(B),
                    "onUpdate:modelValue": e[4] || (e[4] = a => We(B) ? B.value = a : null),
                    form: r(A),
                    "is-edit": !1
                }, null, 8, [ "modelValue", "form" ]), l(ka, {
                    ref_key: "EditPaperRef",
                    ref: Vt,
                    form: r(A),
                    isCourseTeaching: !0,
                    onRefreshTheFlag: e[5] || (e[5] = a => g())
                }, null, 8, [ "form" ]), l(Ua, {
                    sourceType: "2",
                    profileSettingTitle: "测验设置",
                    controlsType: r(O),
                    ref_key: "profileSettingServiceRef",
                    ref: U,
                    onSetProfile: ge
                }, null, 8, [ "controlsType" ]), l(qa, {
                    isStart: r(J),
                    sourceType: "2",
                    controlsType: r(O),
                    selectedPaperIdList: r(P),
                    onSetPublish: ve,
                    ref_key: "publishSettingServiceRef",
                    ref: j,
                    onClosePublishService: we
                }, null, 8, [ "isStart", "controlsType", "selectedPaperIdList" ]), l(Fa, {
                    type: "测验",
                    ref_key: "unPublishRef",
                    ref: q,
                    onConfirm: Ie
                }, null, 512) ]);
            };
        }
    }, [ [ "__scopeId", "data-v-5321d09e" ] ]);
});

export {
    Ms as __tla,
    oe as default
};