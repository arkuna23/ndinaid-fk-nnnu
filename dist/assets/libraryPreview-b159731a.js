import {
    b8 as wt,
    r as u,
    e as ut,
    w,
    o as c,
    c as m,
    k as n,
    l as q,
    t,
    v as h,
    D as ct,
    B as i,
    a as s,
    m as I,
    F as mt,
    y as pt,
    J as It,
    ak as Pt,
    R as Qt,
    S as Vt,
    __tla as qt
} from "./index-6c08ea4c.js";

import {
    E as Et,
    __tla as Nt
} from "./el-drawer-fca4d971.js";

import {
    _ as kt,
    __tla as Bt
} from "./DictTag.vue_vue_type_script_lang-bb90acfe.js";

import {
    D as Ot,
    __tla as Lt
} from "./dict-c5825220.js";

import Jt, {
    __tla as Dt
} from "./largeQuestionPreview-0d03e5d2.js";

import {
    Q as Ut,
    __tla as Ct
} from "./questionPreview-3c0f3206.js";

import {
    __tla as Mt
} from "./chooseTags-11285796.js";

import {
    _ as Rt
} from "./_plugin-vue_export-helper-1b428a4d.js";

import {
    __tla as Tt
} from "./questionBank-6fe58de9.js";

import {
    __tla as $t
} from "./file-e038b35d.js";

import {
    __tla as jt
} from "./Editor.vue_vue_type_style_index_1_scoped_83b80ee8_lang-964690b9.js";

import {
    __tla as At
} from "./style.css_vue_type_style_index_0_src_true_lang-90967dd2.js";

import "./editEditor.vue_vue_type_style_index_0_scoped_bf777343_lang-f0d79ba2.js";

import {
    __tla as zt
} from "./video-1d0dc730.js";

import {
    __tla as Ft
} from "./index-c4ca0ced.js";

import {
    _ as Xt,
    __tla as Yt
} from "./viewDatabase.vue_vue_type_script_setup_true_lang-a51e8548.js";

import {
    __tla as Gt
} from "./selectCourseResourcePackageQuestion.vue_vue_type_style_index_0_scoped_270afb37_lang-ab43f27d.js";

import "./color-a8b4eb58.js";

import {
    __tla as Ht
} from "./type1-bb9ab50e.js";

import {
    __tla as Kt
} from "./type2-f7593207.js";

import {
    __tla as Wt
} from "./type3-f0157d42.js";

import {
    __tla as Zt
} from "./type4-e194cfc5.js";

import {
    __tla as ta
} from "./type5-5cfc2694.js";

import {
    __tla as aa
} from "./type6-f24b6333.js";

import {
    __tla as ea
} from "./type7-6a71ebde.js";

import {
    __tla as ra
} from "./type20-1bb6de92.js";

import {
    __tla as la
} from "./type30-1635403c.js";

import {
    __tla as sa
} from "./myQuestionBank-a9dcc9db.js";

import {
    __tla as ia
} from "./index-5adb716b.js";

import {
    __tla as oa
} from "./index-993301ca.js";

import {
    __tla as na
} from "./sqlDetail-6033fcff.js";

let dt, _a = Promise.all([ (() => {
    try {
        return qt;
    } catch {}
})(), (() => {
    try {
        return Nt;
    } catch {}
})(), (() => {
    try {
        return Bt;
    } catch {}
})(), (() => {
    try {
        return Lt;
    } catch {}
})(), (() => {
    try {
        return Dt;
    } catch {}
})(), (() => {
    try {
        return Ct;
    } catch {}
})(), (() => {
    try {
        return Mt;
    } catch {}
})(), (() => {
    try {
        return Tt;
    } catch {}
})(), (() => {
    try {
        return $t;
    } catch {}
})(), (() => {
    try {
        return jt;
    } catch {}
})(), (() => {
    try {
        return At;
    } catch {}
})(), (() => {
    try {
        return zt;
    } catch {}
})(), (() => {
    try {
        return Ft;
    } catch {}
})(), (() => {
    try {
        return Yt;
    } catch {}
})(), (() => {
    try {
        return Gt;
    } catch {}
})(), (() => {
    try {
        return Ht;
    } catch {}
})(), (() => {
    try {
        return Kt;
    } catch {}
})(), (() => {
    try {
        return Wt;
    } catch {}
})(), (() => {
    try {
        return Zt;
    } catch {}
})(), (() => {
    try {
        return ta;
    } catch {}
})(), (() => {
    try {
        return aa;
    } catch {}
})(), (() => {
    try {
        return ea;
    } catch {}
})(), (() => {
    try {
        return ra;
    } catch {}
})(), (() => {
    try {
        return la;
    } catch {}
})(), (() => {
    try {
        return sa;
    } catch {}
})(), (() => {
    try {
        return ia;
    } catch {}
})(), (() => {
    try {
        return oa;
    } catch {}
})(), (() => {
    try {
        return na;
    } catch {}
})() ]).then(async () => {
    let d, E, N, k, B, O, L, J, D, U, C, M, R, T, $, j, A, z, F, X, Y, G, H, K, W, Z;
    d = f => (Qt("data-v-3235c2e8"), f = f(), Vt(), f), E = {
        class: "previewContainer"
    }, N = {
        class: "exam-body"
    }, k = {
        key: 0,
        class: "btn-list"
    }, B = {
        class: "exam-title"
    }, O = {
        class: "exam-info"
    }, L = {
        class: "info-item"
    }, J = d(() => t("div", {
        class: "info-label"
    }, "满分：", -1)), D = {
        class: "info-value"
    }, U = {
        class: "info-item"
    }, C = d(() => t("div", {
        class: "info-label"
    }, " 题量：", -1)), M = {
        class: "info-value"
    }, R = {
        key: 0,
        class: "info-switch"
    }, T = d(() => t("div", {
        class: "dividingLine"
    }, null, -1)), $ = {
        class: "library-body"
    }, j = {
        class: "library-info"
    }, A = {
        class: "left-box"
    }, z = {
        class: "show-title px-5"
    }, F = {
        class: "title-desc"
    }, X = [ "id" ], Y = {
        class: "item-num"
    }, G = {
        class: "num-box"
    }, H = {
        class: "question-type"
    }, K = {
        class: "right-box"
    }, W = d(() => t("div", {
        class: "info-title"
    }, " 答题卡 ", -1)), Z = {
        class: "info-cont"
    }, dt = Rt({
        __name: "libraryPreview",
        props: {
            modelValue: {
                type: Boolean,
                default: !1
            },
            form: {
                type: Object,
                default: () => ({})
            },
            isEdit: {
                type: Boolean,
                default: !1
            },
            isStuBusiness: {
                type: Boolean,
                default: !1
            }
        },
        emits: [ "update:modelValue", "submitChange", "submitSave", "editPaper", "changePaper" ],
        setup(f, {
            expose: ft,
            emit: vt
        }) {
            wt();
            const P = vt, _ = f, tt = u(null), v = u(!0), Q = ut({
                get: () => _.modelValue,
                set: l => {
                    P("update:modelValue", l);
                }
            }), b = u({}), a = u({
                paperParts: [ {
                    partName: "第一大题",
                    partDesc: "",
                    paperQuestionList: []
                } ]
            });
            w(() => Q.value, () => {
                a.value = _.form || a.value, b.value = JSON.parse(JSON.stringify(a.value)), 
                v.value = !_.isStuBusiness;
            }), w(() => a.value, () => {}, {
                deep: !0,
                immediate: !0
            }), w(() => _.form, () => {
                a.value = _.form || a.value, b.value = JSON.parse(JSON.stringify(a.value));
            }, {
                deep: !0,
                immediate: !0
            });
            const p = u(""), g = u({
                index: 0,
                questionType: ""
            });
            ut(() => (a.value.paperParts || [])[g.value.index] || {}), w(() => p.value, () => {
                p.value && et(p.value);
            });
            const yt = u({}), ht = l => {
                tt.value.handleOpen(l);
            };
            function bt() {
                P("changePaper", a.value.examId);
            }
            function at() {
                b.value = JSON.parse(JSON.stringify(a.value)), P("editPaper", b.value);
            }
            function et(l) {
                document.getElementById(`question-pre-${l}`) && document.getElementById(`question-pre-${l}`).scrollIntoView();
            }
            function gt(l) {
                let e = 0;
                return (l.paperQuestionList || []).forEach(o => {
                    e += o.paperQuestion.questionScore || 0;
                }), Math.round(10 * e) / 10;
            }
            function rt() {
                let l = 0, e = 0;
                return (a.value.paperParts || []).map(o => {
                    let S = 0, x = o.paperQuestionList || [];
                    return e += x.length, x.forEach(V => {
                        S += Math.round(10 * (V.paperQuestion.questionScore || 0)) / 10;
                    }), Math.round(10 * S) / 10;
                }).forEach(o => {
                    l += o;
                }), {
                    score: Math.round(10 * l) / 10,
                    questionNum: e
                };
            }
            return ft({
                handleEdit: at
            }), (l, e) => {
                const o = It, S = Pt, x = kt, V = Et;
                return c(), m("div", E, [ n(V, {
                    modelValue: Q.value,
                    "onUpdate:modelValue": e[4] || (e[4] = r => Q.value = r),
                    title: s(a).name,
                    size: "100%"
                }, {
                    default: q(() => [ t("div", N, [ _.isEdit ? (c(), m("div", k, [ n(o, {
                        type: "",
                        onClick: bt
                    }, {
                        default: q(() => [ h("替换") ]),
                        _: 1
                    }), n(o, {
                        type: "primary",
                        onClick: at
                    }, {
                        default: q(() => [ h("编辑") ]),
                        _: 1
                    }) ])) : ct("", !0), t("div", B, i(s(a).name), 1), t("div", O, [ t("div", null, [ t("div", L, [ J, t("div", D, i(rt().score) + " 分", 1) ]), t("div", U, [ C, t("div", M, i(rt().questionNum) + " 题", 1) ]) ]), _.isStuBusiness ? ct("", !0) : (c(), 
                    m("div", R, [ h(" 显示答案与解析 "), n(S, {
                        modelValue: s(v),
                        "onUpdate:modelValue": e[0] || (e[0] = r => I(v) ? v.value = r : null)
                    }, null, 8, [ "modelValue" ]) ])) ]), T, t("div", $, [ t("div", j, [ t("div", A, [ (c(!0), 
                    m(mt, null, pt(s(a).paperParts || [], (r, lt) => (c(), m("div", {
                        class: "info-cont",
                        key: lt
                    }, [ t("div", z, [ h(i(r.partName) + " （共 " + i((r.paperQuestionList || []).length) + " 题，共 " + i(gt(r)) + " 分 ） ", 1), t("div", F, i(r.partDesc), 1) ]), (c(!0), 
                    m(mt, null, pt(r.paperQuestionList || [], (y, st) => {
                        var it, ot, nt;
                        return c(), m("div", {
                            class: "item-box mb-4 pt-9",
                            key: y.id,
                            id: `question-pre-${y.id}`
                        }, [ t("div", Y, [ t("div", G, i(st + 1) + ".", 1), t("div", H, [ n(x, {
                            type: s(Ot).QUESTION_TYPE,
                            value: y.questionType,
                            style: {
                                display: "inline-flex",
                                "align-items": "center",
                                "justify-content": "center"
                            }
                        }, null, 8, [ "type", "value" ]), h(" （ " + i(((it = y.paperQuestion) == null ? void 0 : it.questionScore) || 0) + " 分 ） ", 1) ]) ]), n(Ut, {
                            form: (nt = (ot = s(a).paperParts[lt]) == null ? void 0 : ot.paperQuestionList[st]) == null ? void 0 : nt.paperQuestion,
                            ref_for: !0,
                            ref: St => ((_t, xt) => {
                                _t && (yt.value[`questionRef-${xt.id}`] = _t);
                            })(St, y),
                            inPageView: !0,
                            hideAnswer: !s(v),
                            onViewDatabase: ht,
                            inLibrary: !0
                        }, null, 8, [ "form", "hideAnswer" ]) ], 8, X);
                    }), 128)) ]))), 128)) ]), t("div", K, [ W, t("div", Z, [ n(Jt, {
                        form: s(a),
                        "onUpdate:form": e[1] || (e[1] = r => I(a) ? a.value = r : null),
                        activeInfo: s(g),
                        "onUpdate:activeInfo": e[2] || (e[2] = r => I(g) ? g.value = r : null),
                        activeId: s(p),
                        "onUpdate:activeId": e[3] || (e[3] = r => I(p) ? p.value = r : null),
                        onChooseQuestionIdNow: et,
                        isRandom: !0,
                        "is-preview": !0
                    }, null, 8, [ "form", "activeInfo", "activeId" ]) ]) ]) ]) ]) ]) ]),
                    _: 1
                }, 8, [ "modelValue", "title" ]), n(Xt, {
                    ref_key: "viewDatabaseRef",
                    ref: tt
                }, null, 512) ]);
            };
        }
    }, [ [ "__scopeId", "data-v-3235c2e8" ] ]);
});

export {
    _a as __tla,
    dt as default
};