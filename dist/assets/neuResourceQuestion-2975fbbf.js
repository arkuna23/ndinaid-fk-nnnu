import {
    T as Dt,
    e as w,
    h as Qt,
    p as Vt,
    r as _,
    U as ft,
    f as Ot,
    j as Ft,
    o,
    c as u,
    a as r,
    t as m,
    k as l,
    C as U,
    l as c,
    v as d,
    H as g,
    D as x,
    B as H,
    F as yt,
    y as ht,
    A as j,
    G as Ht,
    m as vt,
    n as gt,
    _ as jt,
    J as At,
    a8 as Mt,
    K as Gt,
    aU as $t,
    __tla as Jt
} from "./index-6c08ea4c.js";

import {
    _ as Kt,
    __tla as Yt
} from "./index-71666e05.js";

import {
    _ as Wt,
    __tla as Xt
} from "./index-e2094cc0.js";

import {
    _ as Zt,
    __tla as ta
} from "./index-c4ca0ced.js";

import {
    _ as aa,
    __tla as ea
} from "./index-1024512a.js";

import {
    d as ra,
    D as la,
    __tla as _a
} from "./dict-c5825220.js";

import {
    c as oa,
    g as sa,
    s as ia,
    d as kt,
    a as na,
    __tla as ca
} from "./neuResourceQuestion-36ca89a3.js";

import ua, {
    __tla as ma
} from "./addNeuResSetting-b069d6cb.js";

import pa, {
    __tla as da
} from "./editQuestion-410e94a2.js";

import fa, {
    __tla as ya
} from "./profileSettingModule-cec0e252.js";

import {
    Q as ha,
    __tla as va
} from "./questionPreview-3c0f3206.js";

import {
    _ as ga
} from "./_plugin-vue_export-helper-1b428a4d.js";

import {
    __tla as ka
} from "./index-993301ca.js";

import "./tree-05ea8e09.js";

import {
    __tla as Ca
} from "./DeptTag-1be092ce.js";

import {
    __tla as Ia
} from "./index-ef4d146e.js";

import {
    __tla as Ta
} from "./index-acea4f4f.js";

import {
    __tla as qa
} from "./selectQuestion-d00a026c.js";

import {
    __tla as La
} from "./DictTag.vue_vue_type_script_lang-bb90acfe.js";

import "./color-a8b4eb58.js";

import {
    __tla as Pa
} from "./formatTime-de6f1520.js";

import {
    __tla as xa
} from "./questionBank-6fe58de9.js";

import {
    __tla as Ba
} from "./viewDatabase.vue_vue_type_script_setup_true_lang-a51e8548.js";

import {
    __tla as Ra
} from "./sqlDetail-6033fcff.js";

import {
    __tla as Sa
} from "./type1-bb9ab50e.js";

import {
    __tla as Na
} from "./type2-f7593207.js";

import {
    __tla as ba
} from "./type3-f0157d42.js";

import {
    __tla as wa
} from "./type4-e194cfc5.js";

import {
    __tla as Ua
} from "./type5-5cfc2694.js";

import {
    __tla as za
} from "./type6-f24b6333.js";

import {
    __tla as Ea
} from "./type7-6a71ebde.js";

import {
    __tla as Da
} from "./video-1d0dc730.js";

import {
    __tla as Qa
} from "./file-e038b35d.js";

import {
    __tla as Va
} from "./type20-1bb6de92.js";

import {
    __tla as Oa
} from "./type30-1635403c.js";

import {
    __tla as Fa
} from "./myQuestionBank-a9dcc9db.js";

import {
    __tla as Ha
} from "./selectCourseResourcePackageQuestion-b7f0fe74.js";

import {
    __tla as ja
} from "./selectCourseResourcePackageQuestion.vue_vue_type_style_index_0_scoped_270afb37_lang-ab43f27d.js";

import {
    __tla as Aa
} from "./el-drawer-fca4d971.js";

import {
    __tla as Ma
} from "./manualConstruction-e91dda30.js";

import {
    __tla as Ga
} from "./questionInfo-7ad6a9af.js";

import {
    __tla as $a
} from "./type1-81e690fe.js";

import {
    __tla as Ja
} from "./editEditor-a03e6696.js";

import {
    __tla as Ka
} from "./Editor-ef737d2a.js";

import {
    __tla as Ya
} from "./Editor.vue_vue_type_style_index_1_scoped_83b80ee8_lang-964690b9.js";

import {
    __tla as Wa
} from "./style.css_vue_type_style_index_0_src_true_lang-90967dd2.js";

import "./editEditor.vue_vue_type_style_index_0_scoped_bf777343_lang-f0d79ba2.js";

import {
    __tla as Xa
} from "./type2-cee6fed1.js";

import {
    __tla as Za
} from "./type3-da6f6f46.js";

import {
    __tla as te
} from "./type4-0f2e1cd1.js";

import {
    __tla as ae
} from "./type5-a6b47fc2.js";

import {
    __tla as ee
} from "./type6-9fcada99.js";

import {
    __tla as re
} from "./type7-f25f20ee.js";

import {
    __tla as le
} from "./index-5adb716b.js";

import {
    __tla as _e
} from "./type30-8bfa018d.js";

import {
    __tla as oe
} from "./sqlInfo-6616efed.js";

import {
    __tla as se
} from "./type20-0744bc00.js";

import {
    __tla as ie
} from "./chooseTags-11285796.js";

let Ct, ne = Promise.all([ (() => {
    try {
        return Jt;
    } catch {}
})(), (() => {
    try {
        return Yt;
    } catch {}
})(), (() => {
    try {
        return Xt;
    } catch {}
})(), (() => {
    try {
        return ta;
    } catch {}
})(), (() => {
    try {
        return ea;
    } catch {}
})(), (() => {
    try {
        return _a;
    } catch {}
})(), (() => {
    try {
        return ca;
    } catch {}
})(), (() => {
    try {
        return ma;
    } catch {}
})(), (() => {
    try {
        return da;
    } catch {}
})(), (() => {
    try {
        return ya;
    } catch {}
})(), (() => {
    try {
        return va;
    } catch {}
})(), (() => {
    try {
        return ka;
    } catch {}
})(), (() => {
    try {
        return Ca;
    } catch {}
})(), (() => {
    try {
        return Ia;
    } catch {}
})(), (() => {
    try {
        return Ta;
    } catch {}
})(), (() => {
    try {
        return qa;
    } catch {}
})(), (() => {
    try {
        return La;
    } catch {}
})(), (() => {
    try {
        return Pa;
    } catch {}
})(), (() => {
    try {
        return xa;
    } catch {}
})(), (() => {
    try {
        return Ba;
    } catch {}
})(), (() => {
    try {
        return Ra;
    } catch {}
})(), (() => {
    try {
        return Sa;
    } catch {}
})(), (() => {
    try {
        return Na;
    } catch {}
})(), (() => {
    try {
        return ba;
    } catch {}
})(), (() => {
    try {
        return wa;
    } catch {}
})(), (() => {
    try {
        return Ua;
    } catch {}
})(), (() => {
    try {
        return za;
    } catch {}
})(), (() => {
    try {
        return Ea;
    } catch {}
})(), (() => {
    try {
        return Da;
    } catch {}
})(), (() => {
    try {
        return Qa;
    } catch {}
})(), (() => {
    try {
        return Va;
    } catch {}
})(), (() => {
    try {
        return Oa;
    } catch {}
})(), (() => {
    try {
        return Fa;
    } catch {}
})(), (() => {
    try {
        return Ha;
    } catch {}
})(), (() => {
    try {
        return ja;
    } catch {}
})(), (() => {
    try {
        return Aa;
    } catch {}
})(), (() => {
    try {
        return Ma;
    } catch {}
})(), (() => {
    try {
        return Ga;
    } catch {}
})(), (() => {
    try {
        return $a;
    } catch {}
})(), (() => {
    try {
        return Ja;
    } catch {}
})(), (() => {
    try {
        return Ka;
    } catch {}
})(), (() => {
    try {
        return Ya;
    } catch {}
})(), (() => {
    try {
        return Wa;
    } catch {}
})(), (() => {
    try {
        return Xa;
    } catch {}
})(), (() => {
    try {
        return Za;
    } catch {}
})(), (() => {
    try {
        return te;
    } catch {}
})(), (() => {
    try {
        return ae;
    } catch {}
})(), (() => {
    try {
        return ee;
    } catch {}
})(), (() => {
    try {
        return re;
    } catch {}
})(), (() => {
    try {
        return le;
    } catch {}
})(), (() => {
    try {
        return _e;
    } catch {}
})(), (() => {
    try {
        return oe;
    } catch {}
})(), (() => {
    try {
        return se;
    } catch {}
})(), (() => {
    try {
        return ie;
    } catch {}
})() ]).then(async () => {
    let A, M, G, $, J, K, Y, W, X, Z, tt, at, et, rt, lt, _t;
    A = {
        class: "packQuestionContainer"
    }, M = {
        key: 0
    }, G = {
        class: "conditionContainer"
    }, $ = {
        class: "right btns-box"
    }, J = {
        class: "recordingContainer"
    }, K = {
        class: "card_table"
    }, Y = [ "onClick" ], W = {
        class: "compound_container"
    }, X = {
        class: "first_container"
    }, Z = {
        class: "card_title neu-ellipse"
    }, tt = {
        class: "neu-ellipse",
        style: {
            width: "40px",
            display: "inline-block",
            "text-align": "center"
        }
    }, at = {
        class: "second_container"
    }, et = {
        key: 0,
        class: "operation"
    }, rt = [ "id" ], lt = {
        class: "bottom-box pt-12px"
    }, _t = {
        key: 1,
        class: "page-empty"
    }, Ct = ga({
        __name: "neuResourceQuestion",
        setup(ce) {
            const z = Dt(), B = w(() => z.name.includes("Manage")), ot = w(() => z.params.id), E = w(() => Qt().isSupAdmin), I = Vt(), k = _(!1), C = _({}), D = _(null), It = _(null), Tt = _(null), Q = _(null), st = _(null), V = _(0);
            let it = _(0);
            const R = _([]), nt = _([]), O = ft({
                flag: []
            }), qt = w(() => [ {
                label: "题型",
                key: "questionType",
                type: "list",
                options: ra(la.QUESTION_TYPE)
            } ]), f = ft({
                questionType: "",
                difficult: "",
                keywords: "",
                pageNo: 1,
                pageSize: 10
            }), q = _([]), y = _([]), Lt = _(!1), L = _([]), Pt = e => {
                if (e && e.id) {
                    let t = y.value.findIndex(s => s.id === e.id);
                    t === -1 ? (y.value.push(e), R.value.push(e.id), L.value.push(e.id)) : (y.value.splice(t, 1), 
                    L.value.splice(index, 1), R.value.filter(v.id !== e.id));
                }
            }, xt = e => {
                y.value = e ? q.value : [], L.value = e ? q.value.map(t => t.id) : [];
            }, ct = () => {
                Q.value.handleOpen();
            }, Bt = (e, t) => {
                const {
                    _arr: s,
                    teachTags: P,
                    ktPointList: p
                } = e;
                if (s.length > 0) {
                    let S = [];
                    s.forEach((T, mt) => {
                        let N = {
                            resOriginId: T.id,
                            questionForm: T.questionBody,
                            resRootPkgId: T.resRootPkgId || void 0,
                            resIsNeu: [ "3" ].includes(t) ? 1 : 0
                        };
                        N[E.value ? "neuPkgId" : "resPkgId"] = ot.value, S.push(N);
                    }), oa({
                        questionList: S,
                        teachTags: P,
                        ktPointList: p
                    }).then(() => {
                        I.success("创建成功！"), Q.value.onCancel(), h(!0);
                    });
                }
            };
            function Rt(e) {
                f.keywords = e.keywords || "", f.questionType = e.questionType || "", 
                h();
            }
            const h = (e = !1) => {
                let t = {
                    ktPointIdList: [],
                    ...f,
                    pageNo: f.pageNo - 1
                };
                t[E.value ? "neuPkgId" : "resPkgId"] = ot.value, sa(t).then(s => {
                    Ut(), q.value = s.content, y.value = [], R.value = [], L.value = [], 
                    V.value = s.totalElements, e && (it.value = s.totalElements);
                });
            }, St = () => {
                ia(C.value).then(() => {
                    I.success("操作成功"), k.value = !1, h();
                });
            }, Nt = () => {
                k.value = !0, gt(() => {
                    D.value.getTagList(), C.value = {
                        questionIdList: y.value.map(e => e.id),
                        ktPointList: [],
                        teachTags: []
                    };
                });
            }, bt = () => {
                C.value = {};
            }, wt = async () => {
                await I.delConfirm("试题删除后不可恢复！确定删除试题吗？", "提示"), kt(y.value.map(e => e.id)).then(() => {
                    I.success("操作成功"), h();
                });
            }, Ut = () => {
                na(z.params.id).then(e => {
                    nt.value = e;
                });
            }, ut = e => {
                var t;
                return ((t = nt.value.find(s => s.id === e)) == null ? void 0 : t.tagName) || "";
            };
            return Ot(() => {
                h(!0);
            }), (e, t) => {
                const s = aa, P = jt, p = At, S = Mt, T = Gt, mt = Zt, N = Wt, zt = Kt, Et = $t, pt = Ft("show-tip");
                return o(), u("div", A, [ r(it) > 0 ? (o(), u("div", M, [ m("div", G, [ l(s, {
                    ref: "ComSearchRef",
                    borderBox: !0,
                    keywordsInfo: {
                        label: "试题题干/试题标签",
                        key: "keywords"
                    },
                    searchList: r(qt),
                    class: "left",
                    onHandleSearch: Rt
                }, null, 8, [ "searchList" ]), m("div", $, [ r(B) ? (o(), U(p, {
                    key: 0,
                    plain: "",
                    size: "large",
                    type: "primary",
                    onClick: g(ct, [ "stop" ])
                }, {
                    default: c(() => [ l(P, {
                        class: "mr-5px",
                        icon: "ep:plus"
                    }), d(" 添加试题 ") ]),
                    _: 1
                })) : x("", !0) ]) ]), m("div", {
                    ref_key: "cardContainerRef",
                    ref: Tt,
                    class: "card_container"
                }, [ m("div", J, "共计" + H(r(V)), 1), m("div", K, [ (o(!0), u(yt, null, ht(r(q), (a, b) => {
                    var dt;
                    return o(), u("div", {
                        key: a.id + b,
                        class: "card_item",
                        onClick: i => ((n, F) => {
                            document.getElementById(`questionBody-${n.id}-${F}`).classList.add("questionBodyExpanded"), 
                            O.flag[n.id + F] = !O.flag[n.id + F];
                        })(a, b)
                    }, [ m("div", W, [ m("div", X, [ r(B) ? (o(), U(S, {
                        key: a.id,
                        value: a.id,
                        "model-value": r(L).includes(a.id),
                        "onUpdate:modelValue": i => Pt(a)
                    }, null, 8, [ "value", "model-value", "onUpdate:modelValue" ])) : x("", !0), j((o(), 
                    u("span", Z, [ l(T, {
                        content: ((dt = a.questionBody) == null ? void 0 : dt.stemText) || "",
                        placement: "top"
                    }, {
                        default: c(() => {
                            var i;
                            return [ d(H(((i = a.questionBody) == null ? void 0 : i.stemText) || ""), 1) ];
                        }),
                        _: 2
                    }, 1032, [ "content" ]) ])), [ [ pt ] ]), (o(!0), u(yt, null, ht(a.teachTags, i => (o(), 
                    u("span", {
                        class: "tag-item",
                        key: i
                    }, [ j((o(), u("span", tt, [ l(T, {
                        content: ut(i),
                        placement: "top"
                    }, {
                        default: c(() => [ d(H(ut(i)), 1) ]),
                        _: 2
                    }, 1032, [ "content" ]) ])), [ [ pt ] ]) ]))), 128)), r(E) || a.resIsNeu !== 1 ? x("", !0) : (o(), 
                    U(P, {
                        key: 1,
                        class: "ml5",
                        icon: "svg-icon:icon-neuResTag",
                        size: 28
                    })) ]), m("div", at, [ r(B) ? (o(), u("span", et, [ l(p, {
                        link: "",
                        type: "primary",
                        onClick: g(i => (n => {
                            k.value = !0, gt(() => {
                                D.value.getTagList(), C.value = {
                                    questionIdList: [ n.id ],
                                    ktPointList: n.ktPointList || [],
                                    teachTags: n.teachTags || []
                                };
                            });
                        })(a), [ "stop" ])
                    }, {
                        default: c(() => [ d("资料设置") ]),
                        _: 2
                    }, 1032, [ "onClick" ]), l(p, {
                        link: "",
                        type: "primary",
                        onClick: g(i => (n => {
                            st.value.handleOpen(n);
                        })(a), [ "stop" ])
                    }, {
                        default: c(() => [ d("编辑") ]),
                        _: 2
                    }, 1032, [ "onClick" ]), l(p, {
                        link: "",
                        type: "danger",
                        onClick: g(i => (async n => {
                            await I.delConfirm("试题删除后不可恢复！确定删除试题吗？", "提示"), kt([ n.id ]).then(() => {
                                I.success("删除成功！"), h();
                            });
                        })(a), [ "stop" ])
                    }, {
                        default: c(() => [ d("删除") ]),
                        _: 2
                    }, 1032, [ "onClick" ]) ])) : x("", !0) ]) ]), j(m("div", {
                        id: "questionBody-" + a.id + "-" + b,
                        class: "questionBody",
                        onClick: t[0] || (t[0] = g(() => {}, [ "stop" ]))
                    }, [ l(ha, {
                        form: a.questionBody || {}
                    }, null, 8, [ "form" ]) ], 8, rt), [ [ Ht, r(O).flag[a.id + b] ] ]) ], 8, Y);
                }), 128)) ]), m("div", lt, [ l(mt, {
                    limit: r(f).pageSize,
                    "onUpdate:limit": t[1] || (t[1] = a => r(f).pageSize = a),
                    page: r(f).pageNo,
                    "onUpdate:page": t[2] || (t[2] = a => r(f).pageNo = a),
                    total: r(V),
                    onPagination: t[3] || (t[3] = a => h())
                }, null, 8, [ "limit", "page", "total" ]) ]) ], 512), l(N, {
                    ref_key: "SelectionButtonGroupRef",
                    ref: It,
                    btnList: [ "delete", "profileSetting" ],
                    checkBox: r(Lt),
                    "page-list": r(q),
                    "select-list": r(y),
                    subject: "文件",
                    onDelete: wt,
                    onProfileSetting: Nt,
                    onSelectAll: xt
                }, null, 8, [ "checkBox", "page-list", "select-list" ]) ])) : (o(), 
                u("div", _t, [ l(zt, {
                    msg: "暂无资源",
                    type: "resource"
                }), r(B) ? (o(), U(p, {
                    key: 0,
                    size: "large",
                    type: "primary",
                    onClick: g(ct, [ "stop" ])
                }, {
                    default: c(() => [ l(P, {
                        class: "mr5",
                        icon: "ep:plus"
                    }), d(" 添加试题 ") ]),
                    _: 1
                })) : x("", !0) ])), l(Et, {
                    modelValue: r(k),
                    "onUpdate:modelValue": t[6] || (t[6] = a => vt(k) ? k.value = a : null),
                    title: "资料设置",
                    "max-height": 400,
                    scroll: !0,
                    truthHeight: 400,
                    width: "950",
                    onClose: bt
                }, {
                    footer: c(() => [ l(p, {
                        size: "large",
                        onClick: t[5] || (t[5] = g(a => k.value = !1, [ "stop" ]))
                    }, {
                        default: c(() => [ d("取消") ]),
                        _: 1
                    }), l(p, {
                        size: "large",
                        type: "primary",
                        onClick: g(St, [ "stop" ])
                    }, {
                        default: c(() => [ d("确定") ]),
                        _: 1
                    }) ]),
                    default: c(() => [ l(fa, {
                        ref_key: "ProfileSettingModuleRef",
                        ref: D,
                        formData: r(C),
                        "onUpdate:formData": t[4] || (t[4] = a => vt(C) ? C.value = a : null)
                    }, null, 8, [ "formData" ]) ]),
                    _: 1
                }, 8, [ "modelValue" ]), l(ua, {
                    ref_key: "addNeuResSettingRef",
                    ref: Q,
                    questionIdList: r(R),
                    onInsertQuestion: Bt
                }, null, 8, [ "questionIdList" ]), l(pa, {
                    ref_key: "editQuestionRef",
                    ref: st,
                    isNeuRes: !0,
                    onRefreshTheFlag: t[7] || (t[7] = a => h())
                }, null, 512) ]);
            };
        }
    }, [ [ "__scopeId", "data-v-174dc537" ] ]);
});

export {
    ne as __tla,
    Ct as default
};